!function(e){var t={};function n(s){if(t[s])return t[s].exports;var r=t[s]={i:s,l:!1,exports:{}};return e[s].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(s,r,function(t){return e[t]}.bind(null,r));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=142)}([function(e,t,n){"use strict";function s(e,t){const n=Object.create(null),s=e.split(",");for(let e=0;e<s.length;e++)n[s[e]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return x})),n.d(t,"e",(function(){return r})),n.d(t,"f",(function(){return k})),n.d(t,"g",(function(){return N})),n.d(t,"h",(function(){return H})),n.d(t,"i",(function(){return y})),n.d(t,"j",(function(){return o})),n.d(t,"k",(function(){return D})),n.d(t,"l",(function(){return S})),n.d(t,"m",(function(){return B})),n.d(t,"n",(function(){return V})),n.d(t,"o",(function(){return O})),n.d(t,"p",(function(){return w})),n.d(t,"q",(function(){return i})),n.d(t,"r",(function(){return h})),n.d(t,"s",(function(){return A})),n.d(t,"t",(function(){return b})),n.d(t,"u",(function(){return R})),n.d(t,"v",(function(){return z})),n.d(t,"w",(function(){return d})),n.d(t,"x",(function(){return c})),n.d(t,"y",(function(){return j})),n.d(t,"z",(function(){return E})),n.d(t,"A",(function(){return f})),n.d(t,"B",(function(){return p})),n.d(t,"C",(function(){return s})),n.d(t,"D",(function(){return u})),n.d(t,"E",(function(){return l})),n.d(t,"F",(function(){return C})),n.d(t,"G",(function(){return W})),n.d(t,"H",(function(){return P}));const r={1:"TEXT",2:"CLASS",4:"STYLE",8:"PROPS",16:"FULL_PROPS",32:"HYDRATE_EVENTS",64:"STABLE_FRAGMENT",128:"KEYED_FRAGMENT",256:"UNKEYED_FRAGMENT",1024:"DYNAMIC_SLOTS",512:"NEED_PATCH",[-1]:"HOISTED",[-2]:"BAIL"},i=s("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl");function o(e,t=0,n=e.length){const s=e.split(/\r?\n/);let r=0;const i=[];for(let e=0;e<s.length;e++)if(r+=s[e].length+1,r>=t){for(let o=e-2;o<=e+2||n>r;o++){if(o<0||o>=s.length)continue;const a=o+1;i.push(`${a}${" ".repeat(3-String(a).length)}|  ${s[o]}`);const c=s[o].length;if(o===e){const e=t-(r-c)+1,s=Math.max(1,n>r?c-e:n-t);i.push("   |  "+" ".repeat(e)+"^".repeat(s))}else if(o>e){if(n>r){const e=Math.max(Math.min(n-r,c),1);i.push("   |  "+"^".repeat(e))}r+=c+1}}break}return i.join("\n")}const a="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",c=s(a);function l(e){if(O(e)){const t={};for(let n=0;n<e.length;n++){const s=l(e[n]);if(s)for(const e in s)t[e]=s[e]}return t}if(A(e))return e}function u(e){let t="";if(j(e))t=e;else if(O(e))for(let n=0;n<e.length;n++)t+=u(e[n])+" ";else if(A(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const h=s("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),d=s("svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view");function f(e,t){if(e===t)return!0;const n=A(e),s=A(t);if(!n||!s)return!n&&!s&&String(e)===String(t);try{const n=O(e),s=O(t);if(n&&s)return e.length===t.length&&e.every((e,n)=>f(e,t[n]));if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(n||s)return!1;{const n=Object.keys(e),s=Object.keys(t);return n.length===s.length&&n.every(n=>f(e[n],t[n]))}}catch(e){return!1}}function p(e,t){return e.findIndex(e=>f(e,t))}const g={},_=[],x=()=>{},m=()=>!1,v=/^on[^a-z]/,b=e=>v.test(e),y=(e,t)=>{for(const n in t)e[n]=t[n];return e},C=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},T=Object.prototype.hasOwnProperty,S=(e,t)=>T.call(e,t),O=Array.isArray,w=e=>"function"==typeof e,j=e=>"string"==typeof e,E=e=>"symbol"==typeof e,A=e=>null!==e&&"object"==typeof e,R=e=>A(e)&&w(e.then)&&w(e.catch),L=Object.prototype.toString,M=e=>L.call(e),P=e=>M(e).slice(8,-1),z=s("key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),F=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},I=/-(\w)/g,k=F(e=>e.replace(I,(e,t)=>t?t.toUpperCase():"")),U=/\B([A-Z])/g,B=F(e=>e.replace(U,"-$1").toLowerCase()),N=F(e=>e.charAt(0).toUpperCase()+e.slice(1)),D=(e,t)=>e!==t&&(e==e||t==t),W=e=>null==e?"":O(e)||(e=>"[object Object]"===M(e))(e)&&e.toString===L?JSON.stringify(e,null,2):String(e),V=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},H=(e,t,n)=>{Object.defineProperty(e,t,{value:n})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return Ce})),n.d(t,"b",(function(){return ve})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return le})),n.d(t,"e",(function(){return ae})),n.d(t,"f",(function(){return ce})),n.d(t,"g",(function(){return fe})),n.d(t,"h",(function(){return he})),n.d(t,"i",(function(){return g})),n.d(t,"j",(function(){return ne})),n.d(t,"k",(function(){return re})),n.d(t,"l",(function(){return pe})),n.d(t,"m",(function(){return _})),n.d(t,"n",(function(){return se})),n.d(t,"o",(function(){return ie})),n.d(t,"p",(function(){return ge})),n.d(t,"q",(function(){return u})),n.d(t,"r",(function(){return ue})),n.d(t,"s",(function(){return ye})),n.d(t,"t",(function(){return be})),n.d(t,"u",(function(){return xe})),n.d(t,"v",(function(){return me}));var s=n(0);const r=new WeakMap,i=[];let o;const a=Symbol(""),c=Symbol("");function l(e,t=s.b){(function(e){return e&&!0===e._isEffect})(e)&&(e=e.raw);const n=function(e,t){const n=function(...s){if(!n.active)return t.scheduler?void 0:e(...s);if(!i.includes(n)){d(n);try{return p.push(f),f=!0,i.push(n),o=n,e(...s)}finally{i.pop(),_(),o=i[i.length-1]}}};return n.id=h++,n._isEffect=!0,n.active=!0,n.raw=e,n.deps=[],n.options=t,n}(e,t);return t.lazy||n(),n}function u(e){e.active&&(d(e),e.options.onStop&&e.options.onStop(),e.active=!1)}let h=0;function d(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let f=!0;const p=[];function g(){p.push(f),f=!1}function _(){const e=p.pop();f=void 0===e||e}function x(e,t,n){if(!f||void 0===o)return;let s=r.get(e);s||r.set(e,s=new Map);let i=s.get(n);i||s.set(n,i=new Set),i.has(o)||(i.add(o),o.deps.push(i))}function m(e,t,n,i,l,u){const h=r.get(e);if(!h)return;const d=new Set,p=new Set,g=e=>{e&&e.forEach(e=>{e===o&&f||(e.options.computed?p.add(e):d.add(e))})};if("clear"===t)h.forEach(g);else if("length"===n&&Object(s.o)(e))h.forEach((e,t)=>{("length"===t||t>=i)&&g(e)});else{void 0!==n&&g(h.get(n));const r="add"===t||"delete"===t&&!Object(s.o)(e);(r||"set"===t&&e instanceof Map)&&g(h.get(Object(s.o)(e)?"length":a)),r&&e instanceof Map&&g(h.get(c))}const _=e=>{e.options.scheduler?e.options.scheduler(e):e()};p.forEach(_),d.forEach(_)}const v=new Set(Object.getOwnPropertyNames(Symbol).map(e=>Symbol[e]).filter(s.z)),b=O(),y=O(!1,!0),C=O(!0),T=O(!0,!0),S={};function O(e=!1,t=!1){return function(n,r,i){const o=Object(s.o)(n);if(o&&Object(s.l)(S,r))return Reflect.get(S,r,i);const a=Reflect.get(n,r,i);return Object(s.z)(r)&&v.has(r)?a:t?(!e&&x(n,0,r),a):fe(a)?o?(!e&&x(n,0,r),a):a.value:(!e&&x(n,0,r),Object(s.s)(a)?e?re(a):ne(a):a)}}["includes","indexOf","lastIndexOf"].forEach(e=>{S[e]=function(...t){const n=ue(this);for(let e=0,t=this.length;e<t;e++)x(n,0,e+"");const s=n[e](...t);return-1===s||!1===s?n[e](...t.map(ue)):s}});const w=E(),j=E(!0);function E(e=!1){return function(t,n,r,i){const o=t[n];if(!e&&(r=ue(r),!Object(s.o)(t)&&fe(o)&&!fe(r)))return o.value=r,!0;const a=Object(s.l)(t,n),c=Reflect.set(t,n,r,i);return t===ue(i)&&(a?Object(s.k)(r,o)&&m(t,"set",n,r):m(t,"add",n,r)),c}}function A(e,t){const n=Reflect.has(e,t);return x(e,0,t),n}function R(e){return x(e,0,a),Reflect.ownKeys(e)}const L={get:b,set:w,deleteProperty:function(e,t){const n=Object(s.l)(e,t),r=(e[t],Reflect.deleteProperty(e,t));return r&&n&&m(e,"delete",t,void 0),r},has:A,ownKeys:R},M={get:C,has:A,ownKeys:R,set:(e,t)=>!0,deleteProperty:(e,t)=>!0},P={...L,get:y,set:j},z={...M,get:T},F=e=>Object(s.s)(e)?ne(e):e,I=e=>Object(s.s)(e)?re(e):e,k=e=>Reflect.getPrototypeOf(e);function U(e,t,n){e=ue(e);const s=ue(t);t!==s&&x(e,0,t),x(e,0,s);const{has:r,get:i}=k(e);return r.call(e,t)?n(i.call(e,t)):r.call(e,s)?n(i.call(e,s)):void 0}function B(e){const t=ue(this),n=ue(e);e!==n&&x(t,0,e),x(t,0,n);const s=k(t).has;return s.call(t,e)||s.call(t,n)}function N(e){return x(e=ue(e),0,a),Reflect.get(k(e),"size",e)}function D(e){return function(t,n){const s=this,r=ue(s),i=e?I:F;return!e&&x(r,0,a),k(r).forEach.call(r,(function(e,n){return t.call(s,i(e),i(n),s)}),n)}}function W(e,t){return function(...n){const s=ue(this),r=s instanceof Map,i="entries"===e||e===Symbol.iterator&&r,o="keys"===e&&r,l=k(s)[e].apply(s,n),u=t?I:F;return!t&&x(s,0,o?c:a),{next(){const{value:e,done:t}=l.next();return t?{value:e,done:t}:{value:i?[u(e[0]),u(e[1])]:u(e),done:t}},[Symbol.iterator](){return this}}}}function V(e){return function(...t){return"delete"!==e&&this}}const H={get(e){return U(this,e,F)},get size(){return N(this)},has:B,add:function(e){e=ue(e);const t=ue(this),n=k(t),s=n.has.call(t,e),r=n.add.call(t,e);return s||m(t,"add",e,e),r},set:function(e,t){t=ue(t);const n=ue(this),{has:r,get:i,set:o}=k(n);let a=r.call(n,e);a||(e=ue(e),a=r.call(n,e));const c=i.call(n,e),l=o.call(n,e,t);return a?Object(s.k)(t,c)&&m(n,"set",e,t):m(n,"add",e,t),l},delete:function(e){const t=ue(this),{has:n,get:s,delete:r}=k(t);let i=n.call(t,e);i||(e=ue(e),i=n.call(t,e)),s&&s.call(t,e);const o=r.call(t,e);return i&&m(t,"delete",e,void 0),o},clear:function(){const e=ue(this),t=0!==e.size,n=k(e).clear.call(e);return t&&m(e,"clear",void 0,void 0),n},forEach:D(!1)},X={get(e){return U(this,e,I)},get size(){return N(this)},has:B,add:V("add"),set:V("set"),delete:V("delete"),clear:V("clear"),forEach:D(!0)};function G(e){return(t,n,r)=>Reflect.get(Object(s.l)(e,n)&&n in t?e:t,n,r)}["keys","values","entries",Symbol.iterator].forEach(e=>{H[e]=W(e,!1),X[e]=W(e,!0)});const Y={get:G(H)},$={get:G(X)};const q=new WeakMap,Z=new WeakMap,Q=new WeakMap,K=new WeakMap,J=new WeakSet,ee=new Set([Set,Map,WeakMap,WeakSet]),te=Object(s.C)("Object,Array,Map,Set,WeakMap,WeakSet");function ne(e){return K.has(e)?e:oe(e,q,Z,L,Y)}function se(e){return oe(e,q,Z,P,Y)}function re(e){return oe(e,Q,K,M,$)}function ie(e){return oe(e,Q,K,z,$)}function oe(e,t,n,r,i){if(!Object(s.s)(e))return e;let o=t.get(e);if(void 0!==o)return o;if(n.has(e))return e;if((a=e)._isVue||a._isVNode||!te(Object(s.H)(a))||J.has(a)||Object.isFrozen(a))return e;var a;const c=ee.has(e.constructor)?i:r;return o=new Proxy(e,c),t.set(e,o),n.set(o,e),o}function ae(e){return e=K.get(e)||e,Z.has(e)}function ce(e){return K.has(e)}function le(e){return K.has(e)||Z.has(e)}function ue(e){return e=K.get(e)||e,Z.get(e)||e}function he(e){return J.add(e),e}const de=e=>Object(s.s)(e)?ne(e):e;function fe(e){return!!e&&!0===e._isRef}function pe(e){return _e(e)}function ge(e){return _e(e,!0)}function _e(e,t=!1){if(fe(e))return e;let n=t?e:de(e);const r={_isRef:!0,get value(){return x(r,0,"value"),n},set value(i){Object(s.k)(ue(i),e)&&(e=i,n=t?i:de(i),m(r,"set","value",void 0))}};return r}function xe(e){m(e,"set","value",void 0)}function me(e){return fe(e)?e.value:e}function ve(e){const{get:t,set:n}=e(()=>x(s,0,"value"),()=>m(s,"set","value")),s={_isRef:!0,get value(){return t()},set value(e){n(e)}};return s}function be(e){const t={};for(const n in e)t[n]=ye(e,n);return t}function ye(e,t){return{_isRef:!0,get value(){return e[t]},set value(n){e[t]=n}}}function Ce(e){let t,n;Object(s.p)(e)?(t=e,n=s.d):(t=e.get,n=e.set);let r,i,o=!0;const a=l(t,{lazy:!0,computed:!0,scheduler:()=>{o||(o=!0,m(i,"set","value"))}});return i={_isRef:!0,effect:a,get value(){return o&&(r=a(),o=!1),x(i,0,"value"),r},set value(e){n(e)}},i}},,function(e,t,n){"use strict";n.r(t),n.d(t,"BaseTransition",(function(){return qe})),n.d(t,"Comment",(function(){return Z})),n.d(t,"Fragment",(function(){return $})),n.d(t,"KeepAlive",(function(){return nt})),n.d(t,"Suspense",(function(){return A})),n.d(t,"Teleport",(function(){return W})),n.d(t,"Text",(function(){return q})),n.d(t,"callWithAsyncErrorHandling",(function(){return l})),n.d(t,"callWithErrorHandling",(function(){return c})),n.d(t,"cloneVNode",(function(){return de})),n.d(t,"computed",(function(){return Qt})),n.d(t,"createBlock",(function(){return re})),n.d(t,"createCommentVNode",(function(){return ge})),n.d(t,"createHydrationRenderer",(function(){return Xe})),n.d(t,"createRenderer",(function(){return He})),n.d(t,"createSlots",(function(){return ln})),n.d(t,"createStaticVNode",(function(){return pe})),n.d(t,"createTextVNode",(function(){return fe})),n.d(t,"createVNode",(function(){return ue})),n.d(t,"defineAsyncComponent",(function(){return Jt})),n.d(t,"defineComponent",(function(){return Kt})),n.d(t,"getCurrentInstance",(function(){return Dt})),n.d(t,"h",(function(){return tn})),n.d(t,"handleError",(function(){return u})),n.d(t,"inject",(function(){return jt})),n.d(t,"mergeProps",(function(){return ve})),n.d(t,"nextTick",(function(){return _})),n.d(t,"onActivated",(function(){return it})),n.d(t,"onBeforeMount",(function(){return ht})),n.d(t,"onBeforeUnmount",(function(){return gt})),n.d(t,"onBeforeUpdate",(function(){return ft})),n.d(t,"onDeactivated",(function(){return ot})),n.d(t,"onErrorCaptured",(function(){return vt})),n.d(t,"onMounted",(function(){return dt})),n.d(t,"onRenderTracked",(function(){return mt})),n.d(t,"onRenderTriggered",(function(){return xt})),n.d(t,"onUnmounted",(function(){return _t})),n.d(t,"onUpdated",(function(){return pt})),n.d(t,"openBlock",(function(){return ee})),n.d(t,"popScopeId",(function(){return k})),n.d(t,"provide",(function(){return wt})),n.d(t,"pushScopeId",(function(){return I})),n.d(t,"registerRuntimeCompiler",(function(){return Gt})),n.d(t,"renderList",(function(){return on})),n.d(t,"renderSlot",(function(){return cn})),n.d(t,"resolveComponent",(function(){return V})),n.d(t,"resolveDirective",(function(){return G})),n.d(t,"resolveDynamicComponent",(function(){return X})),n.d(t,"resolveTransitionHooks",(function(){return Qe})),n.d(t,"setBlockTracking",(function(){return se})),n.d(t,"setTransitionHooks",(function(){return et})),n.d(t,"ssrContextKey",(function(){return sn})),n.d(t,"ssrUtils",(function(){return hn})),n.d(t,"toHandlers",(function(){return an})),n.d(t,"transformVNodeArgs",(function(){return ae})),n.d(t,"useCSSModule",(function(){return nn})),n.d(t,"useSSRContext",(function(){return rn})),n.d(t,"useTransitionState",(function(){return $e})),n.d(t,"version",(function(){return un})),n.d(t,"warn",(function(){return o})),n.d(t,"watch",(function(){return Tt})),n.d(t,"watchEffect",(function(){return yt})),n.d(t,"withCtx",(function(){return P})),n.d(t,"withDirectives",(function(){return ze})),n.d(t,"withScopeId",(function(){return U}));var s=n(1);n.d(t,"customRef",(function(){return s.b})),n.d(t,"isProxy",(function(){return s.d})),n.d(t,"isReactive",(function(){return s.e})),n.d(t,"isReadonly",(function(){return s.f})),n.d(t,"isRef",(function(){return s.g})),n.d(t,"markRaw",(function(){return s.h})),n.d(t,"reactive",(function(){return s.j})),n.d(t,"readonly",(function(){return s.k})),n.d(t,"ref",(function(){return s.l})),n.d(t,"shallowReactive",(function(){return s.n})),n.d(t,"shallowReadonly",(function(){return s.o})),n.d(t,"shallowRef",(function(){return s.p})),n.d(t,"toRaw",(function(){return s.r})),n.d(t,"toRef",(function(){return s.s})),n.d(t,"toRefs",(function(){return s.t})),n.d(t,"triggerRef",(function(){return s.u})),n.d(t,"unref",(function(){return s.v}));var r=n(0);n.d(t,"camelize",(function(){return r.f})),n.d(t,"toDisplayString",(function(){return r.G}));const i=[];function o(e,...t){Object(s.i)();const n=i.length?i[i.length-1].component:null,r=n&&n.appContext.config.warnHandler,o=function(){let e=i[i.length-1];if(!e)return[];const t=[];for(;e;){const n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});const s=e.component.parent;e=s&&s.vnode}return t}();if(r)c(r,n,11,[e+t.join(""),n&&n.proxy,o.map(({vnode:e})=>`at <${Zt(e.type)}>`).join("\n"),o]);else{const n=["[Vue warn]: "+e,...t];o.length&&n.push("\n",...function(e){const t=[];return e.forEach((e,n)=>{t.push(...0===n?[]:["\n"],...function({vnode:e,recurseCount:t}){const n=t>0?`... (${t} recursive calls)`:"",s=null==e.component.parent,r=" at <"+Zt(e.type,s),i=">"+n;return e.props?[r,...a(e.props),i]:[r+i]}(e))}),t}(o)),console.warn(...n)}Object(s.m)()}function a(e){const t=[],n=Object.keys(e);return n.slice(0,3).forEach(n=>{t.push(...function e(t,n,i){return Object(r.y)(n)?(n=JSON.stringify(n),i?n:[`${t}=${n}`]):"number"==typeof n||"boolean"==typeof n||null==n?i?n:[`${t}=${n}`]:Object(s.g)(n)?(n=e(t,Object(s.r)(n.value),!0),i?n:[t+"=Ref<",n,">"]):Object(r.p)(n)?[`${t}=fn${n.name?`<${n.name}>`:""}`]:(n=Object(s.r)(n),i?n:[t+"=",n])}(n,e[n]))}),n.length>3&&t.push(" ..."),t}function c(e,t,n,s){let r;try{r=s?e(...s):e()}catch(e){u(e,t,n)}return r}function l(e,t,n,s){if(Object(r.p)(e)){const i=c(e,t,n,s);return i&&!i._isVue&&Object(r.u)(i)&&i.catch(e=>{u(e,t,n)}),i}const i=[];for(let r=0;r<e.length;r++)i.push(l(e[r],t,n,s));return i}function u(e,t,n){t&&t.vnode;if(t){let s=t.parent;const r=t.proxy,i=n;for(;s;){const t=s.ec;if(t)for(let n=0;n<t.length;n++)if(t[n](e,r,i))return;s=s.parent}const o=t.appContext.config.errorHandler;if(o)return void c(o,null,10,[e,r,i])}!function(e,t,n){throw e}(e)}const h=[],d=[],f=Promise.resolve();let p=!1,g=!1;function _(e){return e?f.then(e):f}function x(e){h.includes(e)||(h.push(e),v())}function m(e){Object(r.o)(e)?d.push(...e):d.push(e),v()}function v(){p||g||(g=!0,_(C))}function b(e){if(d.length){const e=[...new Set(d)];d.length=0;for(let t=0;t<e.length;t++)e[t]()}}const y=e=>null==e.id?1/0:e.id;function C(e){let t;for(g=!1,p=!0,h.sort((e,t)=>y(e)-y(t));void 0!==(t=h.shift());)null!==t&&c(t,null,14);b(),p=!1,(h.length||d.length)&&C(e)}let T=null;function S(e){T=e}function O(e){const{type:t,parent:n,vnode:s,proxy:r,withProxy:i,props:o,slots:a,attrs:c,emit:l,renderCache:h}=e;let d;T=e;try{let u;if(4&s.shapeFlag){const t=i||r;d=_e(e.render.call(t,t,h)),u=c}else{const e=t;0,d=_e(e.length>1?e(o,{attrs:c,slots:a,emit:l}):e(o,null)),u=t.props?c:w(c)}let f=d;0,!1!==t.inheritAttrs&&u&&Object.keys(u).length&&(1&f.shapeFlag||6&f.shapeFlag)&&(f=de(f,u),f.dynamicChildren&&(f.patchFlag|=16));const p=n&&n.type.__scopeId;p&&(f=de(f,{[p]:""})),s.dirs&&(f.dirs=s.dirs),s.transition&&(f.transition=s.transition),d=f}catch(t){u(t,e,1),d=ue(Z)}return T=null,d}const w=e=>{let t;for(const n in e)("class"===n||"style"===n||Object(r.t)(n))&&((t||(t={}))[n]=e[n]);return t};function j(e,t){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let s=0;s<n.length;s++){const r=n[s];if(t[r]!==e[r])return!0}return!1}function E({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const A={__isSuspense:!0,process(e,t,n,s,r,i,o,a,c){null==e?function(e,t,n,s,r,i,o,a){const{p:c,o:{createElement:l}}=a,u=l("div"),h=e.suspense=R(e,r,s,t,u,n,i,o,a);c(null,h.subTree,u,null,s,h,i,o),h.deps>0?(c(null,h.fallbackTree,t,n,s,null,i,o),e.el=h.fallbackTree.el):h.resolve()}(t,n,s,r,i,o,a,c):function(e,t,n,s,r,i,o,{p:a}){const c=t.suspense=e.suspense;c.vnode=t;const{content:l,fallback:u}=L(t),h=c.subTree,d=c.fallbackTree;c.isResolved?(a(h,l,n,s,r,c,i,o),t.el=l.el):(a(h,l,c.hiddenContainer,null,r,c,i,o),c.deps>0&&(a(d,u,n,s,r,null,i,o),t.el=u.el));c.subTree=l,c.fallbackTree=u}(e,t,n,s,r,o,a,c)},hydrate:function(e,t,n,s,r,i,o,a){const c=t.suspense=R(t,s,n,e.parentNode,document.createElement("div"),null,r,i,o,!0),l=a(e,c.subTree,n,c,i);0===c.deps&&c.resolve();return l}};function R(e,t,n,s,i,o,a,c,l,h=!1){const{p:d,m:f,um:p,n:g,o:{parentNode:_}}=l,v=()=>C.isResolved||C.isHydrating?C.subTree:C.fallbackTree,{content:b,fallback:y}=L(e),C={vnode:e,parent:t,parentComponent:n,isSVG:a,optimized:c,container:s,hiddenContainer:i,anchor:o,deps:0,subTree:b,fallbackTree:y,isHydrating:h,isResolved:!1,isUnmounted:!1,effects:[],resolve(){const{vnode:e,subTree:t,fallbackTree:n,effects:s,parentComponent:i,container:o}=C;if(C.isHydrating)C.isHydrating=!1;else{let{anchor:e}=C;n.el&&(e=g(n),p(n,i,C,!0)),f(t,o,e,0)}const a=e.el=t.el;i&&i.subTree===e&&(i.vnode.el=a,E(i,a));let c=C.parent,l=!1;for(;c;){if(!c.isResolved){c.effects.push(...s),l=!0;break}c=c.parent}l||m(s),C.isResolved=!0,C.effects=[];const u=e.props&&e.props.onResolve;Object(r.p)(u)&&u()},recede(){C.isResolved=!1;const{vnode:e,subTree:t,fallbackTree:n,parentComponent:s,container:i,hiddenContainer:o,isSVG:a,optimized:c}=C,l=g(t);f(t,o,null,1),d(null,n,i,l,s,null,a,c);const u=e.el=n.el;s&&s.subTree===e&&(s.vnode.el=u,E(s,u));const h=e.props&&e.props.onRecede;Object(r.p)(h)&&h()},move(e,t,n){f(v(),e,t,n),C.container=e},next:()=>g(v()),registerDep(e,t){C.isResolved&&x(()=>{C.recede()});const n=e.vnode.el;C.deps++,e.asyncDep.catch(t=>{u(t,e,0)}).then(s=>{if(e.isUnmounted||C.isUnmounted)return;C.deps--,e.asyncResolved=!0;const{vnode:r}=e;Xt(e,s),n&&(r.el=n),t(e,r,_(n||e.subTree.el),n?null:g(e.subTree),C,a,c),E(e,r.el),0===C.deps&&C.resolve()})},unmount(e,t){C.isUnmounted=!0,p(C.subTree,n,e,t),C.isResolved||p(C.fallbackTree,n,e,t)}};return C}function L(e){const{shapeFlag:t,children:n}=e;if(32&t){const{default:e,fallback:t}=n;return{content:_e(Object(r.p)(e)?e():e),fallback:_e(Object(r.p)(t)?t():t)}}return{content:_e(n),fallback:_e(null)}}function M(e,t){t&&!t.isResolved?Object(r.o)(e)?t.effects.push(...e):t.effects.push(e):m(e)}function P(e,t=T){return t?function(){const n=T;S(t);const s=e.apply(null,arguments);return S(n),s}:e}let z=null;const F=[];function I(e){F.push(z=e)}function k(){F.pop(),z=F[F.length-1]||null}function U(e){return t=>P((function(){I(e);const n=t.apply(this,arguments);return k(),n}))}const B=e=>e&&(e.disabled||""===e.disabled),N=(e,t)=>{const n=e&&e.to;if(Object(r.y)(n)){if(t){const e=t(n);return e}return null}return n};function D(e,t,n,{o:{insert:s},m:r},i=2){0===i&&s(e.targetAnchor,t,n);const{el:o,anchor:a,shapeFlag:c,children:l,props:u}=e,h=2===i;if(h&&s(o,t,n),(!h||B(u))&&16&c)for(let e=0;e<l.length;e++)r(l[e],t,n,2);h&&s(a,t,n)}const W={__isTeleport:!0,process(e,t,n,s,r,i,o,a,c){const{mc:l,pc:u,pbc:h,o:{insert:d,querySelector:f,createText:p,createComment:g}}=c,_=B(t.props),{shapeFlag:x,children:m}=t;if(null==e){const e=t.el=p(""),c=t.anchor=p("");d(e,n,s),d(c,n,s);const u=t.target=N(t.props,f),h=t.targetAnchor=p("");u&&d(h,u);const g=(e,t)=>{16&x&&l(m,e,t,r,i,o,a)};_?g(n,c):u&&g(u,h)}else{t.el=e.el;const s=t.anchor=e.anchor,l=t.target=e.target,d=t.targetAnchor=e.targetAnchor,p=B(e.props),g=p?n:l,x=p?s:d;if(t.dynamicChildren?h(e.dynamicChildren,t.dynamicChildren,g,r,i,o):a||u(e,t,g,x,r,i,o),_)p||D(t,n,s,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const e=t.target=N(t.props,f);e&&D(t,e,null,c,0)}else p&&D(t,l,d,c,1)}},remove(e,{r:t,o:{remove:n}}){const{shapeFlag:s,children:r,anchor:i}=e;if(n(i),16&s)for(let e=0;e<r.length;e++)t(r[e])},move:D,hydrate:function(e,t,n,s,r,{o:{nextSibling:i,parentNode:o,querySelector:a}},c){const l=t.target=N(t.props,a);if(l){const a=l._lpa||l.firstChild;16&t.shapeFlag&&(B(t.props)?(t.anchor=c(i(e),t,o(e),n,s,r),t.targetAnchor=a):(t.anchor=i(e),t.targetAnchor=c(a,t,l,n,s,r)),l._lpa=i(t.targetAnchor))}return t.anchor&&i(t.anchor)}};function V(e){return Y("components",e)||e}const H=Symbol();function X(e){return Object(r.y)(e)?Y("components",e,!1)||e:e||H}function G(e){return Y("directives",e)}function Y(e,t,n=!0){const s=T||Nt;if(s){let n,i;const o=s[e];let a=o[t]||o[n=Object(r.f)(t)]||o[i=Object(r.g)(n)];if(!a&&"components"===e){const e=s.type,r=e.displayName||e.name;!r||r!==t&&r!==n&&r!==i||(a=e)}return a}}const $=Symbol(void 0),q=Symbol(void 0),Z=Symbol(void 0),Q=Symbol(void 0),K=[];let J=null;function ee(e=!1){K.push(J=e?null:[])}let te,ne=1;function se(e){ne+=e}function re(e,t,n,s,i){const o=ue(e,t,n,s,i,!0);return o.dynamicChildren=J||r.a,K.pop(),J=K[K.length-1]||null,J&&J.push(o),o}function ie(e){return!!e&&!0===e._isVNode}function oe(e,t){return e.type===t.type&&e.key===t.key}function ae(e){te=e}const ce=({key:e})=>null!=e?e:null,le=({ref:e})=>null!=e?Object(r.o)(e)?e:[T,e]:null,ue=he;function he(e,t=null,n=null,i=0,o=null,a=!1){if(e&&e!==H||(e=Z),Object(r.p)(e)&&"__vccOpts"in e&&(e=e.__vccOpts),t){(Object(s.d)(t)||"__vInternal"in t)&&(t=Object(r.i)({},t));let{class:e,style:n}=t;e&&!Object(r.y)(e)&&(t.class=Object(r.D)(e)),Object(r.s)(n)&&(Object(s.d)(n)&&!Object(r.o)(n)&&(n=Object(r.i)({},n)),t.style=Object(r.E)(n))}const c=Object(r.y)(e)?1:(e=>e.__isSuspense)(e)?128:(e=>e.__isTeleport)(e)?64:Object(r.s)(e)?4:Object(r.p)(e)?2:0;const l={_isVNode:!0,type:e,props:t,key:t&&ce(t),ref:t&&le(t),scopeId:z,children:null,component:null,suspense:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,shapeFlag:c,patchFlag:i,dynamicProps:o,dynamicChildren:null,appContext:null};return function e(t,n){let s=0;const{shapeFlag:i}=t;if(null==n)n=null;else if(Object(r.o)(n))s=16;else if("object"==typeof n){if((1&i||64&i)&&n.default)return void e(t,n.default());s=32,n._||"__vInternal"in n||(n._ctx=T)}else Object(r.p)(n)?(n={default:n,_ctx:T},s=32):(n=String(n),64&i?(s=16,n=[fe(n)]):s=8);t.children=n,t.shapeFlag|=s}(l,n),ne>0&&!a&&J&&32!==i&&(i>0||128&c||4&c||2&c)&&J.push(l),l}function de(e,t){const n=t?e.props?ve(e.props,t):Object(r.i)({},t):e.props;return{_isVNode:!0,type:e.type,props:n,key:n&&ce(n),ref:n&&le(n),scopeId:e.scopeId,children:e.children,target:e.target,targetAnchor:e.targetAnchor,shapeFlag:e.shapeFlag,patchFlag:e.patchFlag,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,el:e.el,anchor:e.anchor}}function fe(e=" ",t=0){return ue(q,null,e,t)}function pe(e){return ue(Q,null,e)}function ge(e="",t=!1){return t?(ee(),re(Z,null,e)):ue(Z,null,e)}function _e(e){return null==e||"boolean"==typeof e?ue(Z):Object(r.o)(e)?ue($,null,e):"object"==typeof e?null===e.el?e:de(e):ue(q,null,String(e))}function xe(e){return null===e.el?e:de(e)}const me=/^on|^vnode/;function ve(...e){const t={};Object(r.i)(t,e[0]);for(let n=1;n<e.length;n++){const s=e[n];for(const e in s)if("class"===e)t.class!==s.class&&(t.class=Object(r.D)([t.class,s.class]));else if("style"===e)t.style=Object(r.E)([t.style,s.style]);else if(me.test(e)){const n=t[e],r=s[e];n!==r&&(t[e]=n?[].concat(n,s[e]):r)}else t[e]=s[e]}return t}function be(e,t,...n){const s=e.vnode.props||r.b;let i=s["on"+Object(r.g)(t)];!i&&t.startsWith("update:")&&(t=Object(r.m)(t),i=s["on"+Object(r.g)(t)]),i&&l(i,e,6,n)}function ye(e,t){return Object(r.t)(t)&&(Object(r.l)(e=function(e){if(e){if(Object(r.o)(e)){if(e._n)return e._n;const t={};return e.forEach(e=>t[e]=null),Object(r.h)(e,"_n",t),t}return e}}(e),t[2].toLowerCase()+t.slice(3))||Object(r.l)(e,t.slice(2)))}function Ce(e,t,n,i){const{0:o,1:a}=Se(e.type.props),c=e.type.emits;if(t)for(const e in t){const s=t[e];if(Object(r.v)(e))continue;let a;o&&Object(r.l)(o,a=Object(r.f)(e))?n[a]=s:c&&ye(c,e)||(i[e]=s)}if(a){const e=Object(s.r)(n);for(let t=0;t<a.length;t++){const s=a[t];n[s]=Te(o,e,s,e[s])}}}function Te(e,t,n,s){const i=e[n];if(null!=i){const e=Object(r.l)(i,"default");if(e&&void 0===s){const e=i.default;s=Object(r.p)(e)?e():e}i[0]&&(Object(r.l)(t,n)||e?!i[1]||""!==s&&s!==Object(r.m)(n)||(s=!0):s=!1)}return s}function Se(e){if(!e)return r.a;if(e._n)return e._n;const t={},n=[];if(Object(r.o)(e))for(let n=0;n<e.length;n++){0;const s=Object(r.f)(e[n]);Ee(s)&&(t[s]=r.b)}else{0;for(const s in e){const i=Object(r.f)(s);if(Ee(i)){const o=e[s],a=t[i]=Object(r.o)(o)||Object(r.p)(o)?{type:o}:o;if(a){const e=je(Boolean,a.type),t=je(String,a.type);a[0]=e>-1,a[1]=t<0||e<t,(e>-1||Object(r.l)(a,"default"))&&n.push(i)}}}}const s=[t,n];return Object(r.h)(e,"_n",s),s}function Oe(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function we(e,t){return Oe(e)===Oe(t)}function je(e,t){if(Object(r.o)(t)){for(let n=0,s=t.length;n<s;n++)if(we(t[n],e))return n}else if(Object(r.p)(t))return we(t,e)?0:-1;return-1}function Ee(e){return"$"!==e[0]}const Ae=e=>"_"===e[0]||"$stable"===e,Re=e=>Object(r.o)(e)?e.map(_e):[_e(e)],Le=(e,t,n)=>P(e=>Re(t(e)),n),Me=(e,t)=>{const n=e._ctx;for(const s in e){if(Ae(s))continue;const i=e[s];if(Object(r.p)(i))t[s]=Le(0,i,n);else if(null!=i){0;const e=Re(i);t[s]=()=>e}}},Pe=(e,t)=>{const n=Re(t);e.slots.default=()=>n};function ze(e,t){if(null===T)return e;const n=T.proxy,s=e.dirs||(e.dirs=[]);for(let e=0;e<t.length;e++){let[i,o,a,c=r.b]=t[e];Object(r.p)(i)&&(i={mounted:i,updated:i}),s.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:c})}return e}function Fe(e,t,n,s){const r=e.dirs,i=t&&t.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);const c=a.dir[s];c&&l(c,n,8,[e.el,a,e,t])}}function Ie(){return{config:{isNativeTag:r.c,devtools:!0,performance:!1,globalProperties:{},optionMergeStrategies:{},isCustomElement:r.c,errorHandler:void 0,warnHandler:void 0},mixins:[],components:{},directives:{},provides:Object.create(null)}}function ke(e,t){return function(n,s=null){null==s||Object(r.s)(s)||(s=null);const i=Ie(),o=new Set;let a=!1;const c={_component:n,_props:s,_container:null,_context:i,get config(){return i.config},set config(e){0},use:(e,...t)=>(o.has(e)||(e&&Object(r.p)(e.install)?(o.add(e),e.install(c,...t)):Object(r.p)(e)&&(o.add(e),e(c,...t))),c),mixin:e=>(i.mixins.includes(e)||i.mixins.push(e),c),component:(e,t)=>t?(i.components[e]=t,c):i.components[e],directive:(e,t)=>t?(i.directives[e]=t,c):i.directives[e],mount(r,o){if(!a){const l=ue(n,s);return l.appContext=i,o&&t?t(l,r):e(l,r),a=!0,c._container=r,l.component.proxy}},unmount(){a&&e(null,c._container)},provide:(e,t)=>(i.provides[e]=t,c)};return c}}new Map;let Ue=!1;const Be=e=>/svg/.test(e.namespaceURI)&&"foreignObject"!==e.tagName,Ne=e=>8===e.nodeType;function De(e){const{mt:t,p:n,o:{patchProp:s,nextSibling:i,parentNode:o,remove:a,insert:c,createComment:l}}=e,u=(n,s,r,a,c=!1)=>{const l=Ne(n)&&"["===n.data,_=()=>p(n,s,r,a,l),{type:x,shapeFlag:m}=s,v=n.nodeType;switch(s.el=n,x){case q:return 3!==v?_():(n.data!==s.children&&(Ue=!0,n.data=s.children),i(n));case Z:return 8!==v||l?_():i(n);case Q:return 1!==v?_():i(n);case $:return l?f(n,s,r,a,c):_();default:if(1&m)return 1!==v||s.type!==n.tagName.toLowerCase()?_():h(n,s,r,a,c);if(6&m){const e=o(n),u=()=>{t(s,e,null,r,a,Be(e),c)},h=s.type.__asyncLoader;return h?h().then(u):u(),l?g(n):i(n)}return 64&m?8!==v?_():s.type.hydrate(n,s,r,a,c,e,d):128&m?s.type.hydrate(n,s,r,a,Be(o(n)),c,e,u):null}},h=(e,t,n,i,o)=>{o=o||!!t.dynamicChildren;const{props:c,patchFlag:l,shapeFlag:u,dirs:h}=t;if(-1!==l){if(c)if(!o||16&l||32&l)for(const t in c)!Object(r.v)(t)&&Object(r.t)(t)&&s(e,t,null,c[t]);else c.onClick&&s(e,"onClick",null,c.onClick);let f;if((f=c&&c.onVnodeBeforeMount)&&Ye(f,n,t),h&&Fe(t,null,n,"beforeMount"),((f=c&&c.onVnodeMounted)||h)&&M(()=>{f&&Ye(f,n,t),h&&Fe(t,null,n,"mounted")},i),16&u&&(!c||!c.innerHTML&&!c.textContent)){let s=d(e.firstChild,t,e,n,i,o);for(;s;){Ue=!0;const e=s;s=s.nextSibling,a(e)}}else 8&u&&e.textContent!==t.children&&(Ue=!0,e.textContent=t.children)}return e.nextSibling},d=(e,t,s,r,i,o)=>{o=o||!!t.dynamicChildren;const a=t.children,c=a.length;for(let t=0;t<c;t++){const c=o?a[t]:a[t]=_e(a[t]);e?e=u(e,c,r,i,o):(Ue=!0,n(null,c,s,null,r,i,Be(s)))}return e},f=(e,t,n,s,r)=>{const a=o(e),u=d(i(e),t,a,n,s,r);return u&&Ne(u)&&"]"===u.data?i(t.anchor=u):(Ue=!0,c(t.anchor=l("]"),a,u),u)},p=(e,t,s,r,c)=>{if(Ue=!0,t.el=null,c){const t=g(e);for(;;){const n=i(e);if(!n||n===t)break;a(n)}}const l=i(e),u=o(e);return a(e),n(null,t,u,l,s,r,Be(u)),l},g=e=>{let t=0;for(;e;)if((e=i(e))&&Ne(e)&&("["===e.data&&t++,"]"===e.data)){if(0===t)return i(e);t--}return e};return[(e,t)=>{Ue=!1,u(t.firstChild,e,null,null),b(),Ue&&console.error("Hydration completed but contains mismatches.")},u]}const We={scheduler:x};const Ve=M;function He(e){return Ge(e)}function Xe(e){return Ge(e,De)}function Ge(e,t){const{insert:n,remove:i,patchProp:o,createElement:a,createText:l,createComment:u,setText:d,setElementText:f,parentNode:p,nextSibling:g,setScopeId:_=r.d,cloneNode:x,insertStaticContent:v}=e,y=(e,t,n,s=null,r=null,i=null,o=!1,a=!1)=>{e&&!oe(e,t)&&(s=J(e),H(e,r,i,!0),e=null);const{type:c,ref:l,shapeFlag:u}=t;switch(c){case q:C(e,t,n,s);break;case Z:T(e,t,n,s);break;case Q:null==e&&S(t,n,s,o);break;case $:z(e,t,n,s,r,i,o,a);break;default:1&u?w(e,t,n,s,r,i,o,a):6&u?F(e,t,n,s,r,i,o,a):(64&u||128&u)&&c.process(e,t,n,s,r,i,o,a,ne)}if(null!=l&&r){const n=4&u?t.component.proxy:t.el;ee(l,e&&e.ref,r,n)}},C=(e,t,s,r)=>{if(null==e)n(t.el=l(t.children),s,r);else{const n=t.el=e.el;t.children!==e.children&&d(n,t.children)}},T=(e,t,s,r)=>{null==e?n(t.el=u(t.children||""),s,r):t.el=e.el},S=(e,t,s,r)=>{e.el&&void 0!==x?n(x(e.el),t,s):e.el=v(e.children,t,s,r)},w=(e,t,n,s,r,i,o,a)=>{o=o||"svg"===t.type,null==e?A(t,n,s,r,i,o,a):L(e,t,r,i,o,a)},A=(e,t,s,i,c,l,u)=>{let h,d;const{type:p,props:g,shapeFlag:m,transition:v,scopeId:b,patchFlag:y,dirs:C}=e;if(e.el&&void 0!==x&&-1===y)h=e.el=x(e.el);else{if(h=e.el=a(e.type,l,g&&g.is),g){for(const e in g)Object(r.v)(e)||o(h,e,null,g[e],l);(d=g.onVnodeBeforeMount)&&Ye(d,i,e)}C&&Fe(e,null,i,"beforeMount"),b&&_(h,b);const t=i&&i.type.__scopeId;t&&t!==b&&_(h,t+"-s"),8&m?f(h,e.children):16&m&&R(e.children,h,null,i,c,l&&"foreignObject"!==p,u||!!e.dynamicChildren),v&&!v.persisted&&v.beforeEnter(h)}n(h,t,s),((d=g&&g.onVnodeMounted)||v&&!v.persisted||C)&&Ve(()=>{d&&Ye(d,i,e),v&&!v.persisted&&v.enter(h),C&&Fe(e,null,i,"mounted")},c)},R=(e,t,n,s,r,i,o,a=0)=>{for(let c=a;c<e.length;c++){const a=e[c]=o?xe(e[c]):_e(e[c]);y(null,a,t,n,s,r,i,o)}},L=(e,t,n,s,i,a)=>{const c=t.el=e.el;let{patchFlag:l,dynamicChildren:u,dirs:h}=t;const d=e&&e.props||r.b,p=t.props||r.b;let g;if((g=p.onVnodeBeforeUpdate)&&Ye(g,n,t,e),h&&Fe(t,e,n,"beforeUpdate"),l>0){if(16&l)P(c,t,d,p,n,s,i);else if(2&l&&d.class!==p.class&&o(c,"class",null,p.class,i),4&l&&o(c,"style",d.style,p.style,i),8&l){const r=t.dynamicProps;for(let t=0;t<r.length;t++){const a=r[t],l=d[a],u=p[a];l!==u&&o(c,a,l,u,i,e.children,n,s,K)}}1&l&&e.children!==t.children&&f(c,t.children)}else a||null!=u||P(c,t,d,p,n,s,i);const _=i&&"foreignObject"!==t.type;u?M(e.dynamicChildren,u,c,n,s,_):a||N(e,t,c,null,n,s,_),((g=p.onVnodeUpdated)||h)&&Ve(()=>{g&&Ye(g,n,t,e),h&&Fe(t,e,n,"updated")},s)},M=(e,t,n,s,r,i)=>{for(let o=0;o<t.length;o++){const a=e[o],c=t[o],l=a.type===$||!oe(a,c)||6&a.shapeFlag?p(a.el):n;y(a,c,l,null,s,r,i,!0)}},P=(e,t,n,s,i,a,c)=>{if(n!==s){for(const l in s){if(Object(r.v)(l))continue;const u=s[l],h=n[l];u!==h&&o(e,l,h,u,c,t.children,i,a,K)}if(n!==r.b)for(const l in n)Object(r.v)(l)||l in s||o(e,l,n[l],null,c,t.children,i,a,K)}},z=(e,t,s,r,i,o,a,c)=>{const u=t.el=e?e.el:l(""),h=t.anchor=e?e.anchor:l("");let{patchFlag:d,dynamicChildren:f}=t;d>0&&(c=!0),null==e?(n(u,s,r),n(h,s,r),R(t.children,s,h,i,o,a,c)):64&d&&f?M(e.dynamicChildren,f,s,i,o,a):N(e,t,s,h,i,o,a,c)},F=(e,t,n,s,r,i,o,a)=>{null==e?512&t.shapeFlag?r.ctx.activate(t,n,s,o,a):I(t,n,s,r,i,o,a):k(e,t,r,a)},I=(e,t,n,i,o,a,l)=>{const u=e.component=function(e,t,n){const s=(t?t.appContext:e.appContext)||Ut,i={uid:Bt++,vnode:e,parent:t,appContext:s,type:e.type,root:null,next:null,subTree:null,update:null,render:null,proxy:null,withProxy:null,effects:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],ctx:r.b,data:r.b,props:r.b,attrs:r.b,slots:r.b,refs:r.b,setupState:r.b,setupContext:null,components:Object.create(s.components),directives:Object.create(s.directives),suspense:n,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,emit:null};i.ctx={_:i};return i.root=t?t.root:i,i.emit=be.bind(null,i),i}(e,i,o);if(tt(e)&&(u.ctx.renderer=ne),function(e,t=!1){Ht=t;const{props:n,children:i,shapeFlag:o}=e.vnode,a=4&o;(function(e,t,n,i=!1){const o={},a={};Object(r.h)(a,"__vInternal",1),Ce(e,t,o,a);const c=e.type.props;e.props=n?i?o:Object(s.n)(o):c?o:a,e.attrs=a})(e,n,a,t),((e,t)=>{32&e.vnode.shapeFlag?1===t._?e.slots=t:Me(t,e.slots={}):(e.slots={},t&&Pe(e,t)),Object(r.h)(e.slots,"__vInternal",1)})(e,i);const l=a?function(e,t){const n=e.type;0;e.accessCache={},e.proxy=new Proxy(e.ctx,It),!1;const{setup:i}=n;if(i){const n=e.setupContext=i.length>1?function(e){return{attrs:e.attrs,slots:e.slots,emit:e.emit}}(e):null;Nt=e,Object(s.i)();const o=c(i,e,0,[e.props,n]);if(Object(s.m)(),Nt=null,Object(r.u)(o)){if(t)return o.then(t=>{Xt(e,t)});e.asyncDep=o}else Xt(e,o)}else Yt(e)}(e,t):void 0;Ht=!1}(u),u.asyncDep){if(!o)return void 0;if(o.registerDep(u,U),!e.el){const e=u.subTree=ue(Z);T(null,e,t,n)}}else U(u,e,t,n,o,a,l)},k=(e,t,n,s)=>{const r=t.component=e.component;if(function(e,t,n,s){const{props:r,children:i}=e,{props:o,children:a,patchFlag:c}=t;if(t.dirs||t.transition)return!0;if(c>0){if(1024&c)return!0;if(16&c)return j(r,o);if(8&c){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(o[n]!==r[n])return!0}}}else if(!s)return!(!i&&!a||a&&a.$stable)||r!==o&&(r?!o||j(r,o):!!o);return!1}(e,t,0,s)){if(r.asyncDep&&!r.asyncResolved)return void B(r,t,s);r.next=t,function(e){const t=h.indexOf(e);t>-1&&(h[t]=null)}(r.update),r.update()}else t.component=e.component,t.el=e.el},U=(e,t,n,i,o,a,c)=>{e.update=Object(s.c)((function(){if(e.isMounted){let t,{next:n,bu:s,u:i,parent:l,vnode:u}=e;0,n?B(e,n,c):n=u;const h=O(e);0;const d=e.subTree;e.subTree=h,n.el=u.el,s&&Object(r.n)(s),(t=n.props&&n.props.onVnodeBeforeUpdate)&&Ye(t,l,n,u),e.refs!==r.b&&(e.refs={}),y(d,h,p(d.el),J(d),e,o,a),n.el=h.el,null===n&&E(e,h.el),i&&Ve(i,o),(t=n.props&&n.props.onVnodeUpdated)&&Ve(()=>{Ye(t,l,n,u)},o)}else{let s;const{el:c,props:l}=t,{bm:u,m:h,a:d,parent:f}=e;0;const p=e.subTree=O(e);0,u&&Object(r.n)(u),(s=l&&l.onVnodeBeforeMount)&&Ye(s,f,t),c&&re?re(t.el,p,e,o):(y(null,p,n,i,e,o,a),t.el=p.el),h&&Ve(h,o),(s=l&&l.onVnodeMounted)&&Ve(()=>{Ye(s,f,t)},o),d&&256&t.shapeFlag&&Ve(d,o),e.isMounted=!0}}),We)},B=(e,t,n)=>{t.component=e;const i=e.vnode.props;e.vnode=t,e.next=null,function(e,t,n,i){const{props:o,attrs:a,vnode:{patchFlag:c}}=e,l=e.type.props,u=Object(s.r)(o),{0:h}=Se(l);if(!(i||c>0)||16&c){let s;Ce(e,t,o,a);for(const e in u)t&&(Object(r.l)(t,e)||(s=Object(r.m)(e))!==e&&Object(r.l)(t,s))||(h?n&&void 0!==n[s]&&(o[e]=Te(h,t||r.b,e,void 0)):delete o[e]);if(a!==u)for(const e in a)t&&Object(r.l)(t,e)||delete a[e]}else if(8&c){const n=e.vnode.dynamicProps;for(let e=0;e<n.length;e++){const s=n[e],i=t[s];if(h)if(Object(r.l)(a,s))a[s]=i;else{const e=Object(r.f)(s);o[e]=Te(h,u,e,i)}else a[s]=i}}}(e,t.props,i,n),((e,t)=>{const{vnode:n,slots:s}=e;let i=!0,o=r.b;if(32&n.shapeFlag?(1===t._?1024&n.patchFlag?Object(r.i)(s,t):i=!1:(i=!t.$stable,Me(t,s)),o=t):t&&(Pe(e,t),o={default:1}),i)for(const e in s)Ae(e)||e in o||delete s[e]})(e,t.children)},N=(e,t,n,s,r,i,o,a=!1)=>{const c=e&&e.children,l=e?e.shapeFlag:0,u=t.children,{patchFlag:h,shapeFlag:d}=t;if(-2===h&&(a=!1),h>0){if(128&h)return void W(c,u,n,s,r,i,o,a);if(256&h)return void D(c,u,n,s,r,i,o,a)}8&d?(16&l&&K(c,r,i),u!==c&&f(n,u)):16&l?16&d?W(c,u,n,s,r,i,o,a):K(c,r,i,!0):(8&l&&f(n,""),16&d&&R(u,n,s,r,i,o,a))},D=(e,t,n,s,i,o,a,c)=>{e=e||r.a,t=t||r.a;const l=e.length,u=t.length,h=Math.min(l,u);let d;for(d=0;d<h;d++){const s=t[d]=c?xe(t[d]):_e(t[d]);y(e[d],s,n,null,i,o,a,c)}l>u?K(e,i,o,!0,h):R(t,n,s,i,o,a,c,h)},W=(e,t,n,s,i,o,a,c)=>{let l=0;const u=t.length;let h=e.length-1,d=u-1;for(;l<=h&&l<=d;){const r=e[l],u=t[l]=c?xe(t[l]):_e(t[l]);if(!oe(r,u))break;y(r,u,n,s,i,o,a,c),l++}for(;l<=h&&l<=d;){const r=e[h],l=t[d]=c?xe(t[d]):_e(t[d]);if(!oe(r,l))break;y(r,l,n,s,i,o,a,c),h--,d--}if(l>h){if(l<=d){const e=d+1,r=e<u?t[e].el:s;for(;l<=d;)y(null,t[l]=c?xe(t[l]):_e(t[l]),n,r,i,o,a),l++}}else if(l>d)for(;l<=h;)H(e[l],i,o,!0),l++;else{const f=l,p=l,g=new Map;for(l=p;l<=d;l++){const e=t[l]=c?xe(t[l]):_e(t[l]);null!=e.key&&g.set(e.key,l)}let _,x=0;const m=d-p+1;let v=!1,b=0;const C=new Array(m);for(l=0;l<m;l++)C[l]=0;for(l=f;l<=h;l++){const s=e[l];if(x>=m){H(s,i,o,!0);continue}let r;if(null!=s.key)r=g.get(s.key);else for(_=p;_<=d;_++)if(0===C[_-p]&&oe(s,t[_])){r=_;break}void 0===r?H(s,i,o,!0):(C[r-p]=l+1,r>=b?b=r:v=!0,y(s,t[r],n,null,i,o,a,c),x++)}const T=v?function(e){const t=e.slice(),n=[0];let s,r,i,o,a;const c=e.length;for(s=0;s<c;s++){const c=e[s];if(0!==c){if(r=n[n.length-1],e[r]<c){t[s]=r,n.push(s);continue}for(i=0,o=n.length-1;i<o;)a=(i+o)/2|0,e[n[a]]<c?i=a+1:o=a;c<e[n[i]]&&(i>0&&(t[s]=n[i-1]),n[i]=s)}}i=n.length,o=n[i-1];for(;i-- >0;)n[i]=o,o=t[o];return n}(C):r.a;for(_=T.length-1,l=m-1;l>=0;l--){const e=p+l,r=t[e],c=e+1<u?t[e+1].el:s;0===C[l]?y(null,r,n,c,i,o,a):v&&(_<0||l!==T[_]?V(r,n,c,2):_--)}}},V=(e,t,s,r,i=null)=>{const{el:o,type:a,transition:c,children:l,shapeFlag:u}=e;if(6&u)V(e.component.subTree,t,s,r);else if(128&u)e.suspense.move(t,s,r);else if(64&u)a.move(e,t,s,ne);else if(a!==$)if(2!==r&&1&u&&c)if(0===r)c.beforeEnter(o),n(o,t,s),Ve(()=>c.enter(o),i);else{const{leave:e,delayLeave:r,afterLeave:i}=c,a=()=>n(o,t,s),l=()=>{e(o,()=>{a(),i&&i()})};r?r(o,a,l):l()}else n(o,t,s);else{n(o,t,s);for(let e=0;e<l.length;e++)V(l[e],t,s,r);n(e.anchor,t,s)}},H=(e,t,n,s=!1)=>{const{props:r,ref:i,children:o,dynamicChildren:a,shapeFlag:c,dirs:l}=e,u=1&c&&l;let h;if(null!=i&&t&&ee(i,null,t,null),(h=r&&r.onVnodeBeforeUnmount)&&Ye(h,t,e),6&c)256&c?t.ctx.deactivate(e):Y(e.component,n,s);else{if(128&c)return void e.suspense.unmount(n,s);u&&Fe(e,null,t,"beforeUnmount"),a?K(a,t,n):16&c&&K(o,t,n),64&c&&e.type.remove(e,ne),s&&X(e)}((h=r&&r.onVnodeUnmounted)||u)&&Ve(()=>{h&&Ye(h,t,e),u&&Fe(e,null,t,"unmounted")},n)},X=e=>{const{type:t,el:n,anchor:s,transition:r}=e;if(t===$)return void G(n,s);const o=()=>{i(n),r&&!r.persisted&&r.afterLeave&&r.afterLeave()};if(1&e.shapeFlag&&r&&!r.persisted){const{leave:t,delayLeave:s}=r,i=()=>t(n,o);s?s(e.el,o,i):i()}else o()},G=(e,t)=>{let n;for(;e!==t;)n=g(e),i(e),e=n;i(t)},Y=(e,t,n)=>{const{bum:i,effects:o,update:a,subTree:c,um:l,da:u,isDeactivated:h}=e;if(i&&Object(r.n)(i),o)for(let e=0;e<o.length;e++)Object(s.q)(o[e]);a&&(Object(s.q)(a),H(c,e,t,n)),l&&Ve(l,t),u&&!h&&256&e.vnode.shapeFlag&&Ve(u,t),m(()=>{e.isUnmounted=!0}),!t||t.isResolved||t.isUnmounted||!e.asyncDep||e.asyncResolved||(t.deps--,0===t.deps&&t.resolve())},K=(e,t,n,s=!1,r=0)=>{for(let i=r;i<e.length;i++)H(e[i],t,n,s)},J=e=>6&e.shapeFlag?J(e.component.subTree):128&e.shapeFlag?e.suspense.next():g(e.anchor||e.el),ee=(e,t,n,i)=>{const[o,a]=e;const l=t&&t[1],u=o.refs===r.b?o.refs={}:o.refs,h=o.setupState;null!=l&&l!==a&&(Object(r.y)(l)?(u[l]=null,Object(r.l)(h,l)&&(h[l]=null)):Object(s.g)(l)&&(l.value=null)),Object(r.y)(a)?(u[a]=i,Object(r.l)(h,a)&&(h[a]=i)):Object(s.g)(a)?a.value=i:Object(r.p)(a)&&c(a,n,12,[i,u])},te=(e,t)=>{null==e?t._vnode&&H(t._vnode,null,null,!0):y(t._vnode||null,e,t),b(),t._vnode=e},ne={p:y,um:H,m:V,r:X,mt:I,mc:R,pc:N,pbc:M,n:J,o:e};let se,re;return t&&([se,re]=t(ne)),{render:te,hydrate:se,createApp:ke(te,se)}}function Ye(e,t,n,s=null){l(e,t,7,[n,s])}function $e(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return dt(()=>{e.isMounted=!0}),gt(()=>{e.isUnmounting=!0}),e}const qe={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Function,onEnter:Function,onAfterEnter:Function,onEnterCancelled:Function,onBeforeLeave:Function,onLeave:Function,onAfterLeave:Function,onLeaveCancelled:Function},setup(e,{slots:t}){const n=Dt(),r=$e();return()=>{const i=t.default&&t.default();if(!i||!i.length)return;const o=Object(s.r)(e),{mode:a}=o;const c=i[0];if(r.isLeaving)return Ke(c);const l=Je(c);if(!l)return Ke(c);const u=l.transition=Qe(l,o,r,n),h=n.subTree,d=h&&Je(h);if(d&&d.type!==Z&&!oe(l,d)){const e=d.transition,t=Qe(d,o,r,n);if(et(d,t),"out-in"===a)return r.isLeaving=!0,t.afterLeave=()=>{r.isLeaving=!1,n.update()},Ke(c);"in-out"===a&&(delete e.delayedLeave,t.delayLeave=(e,t,n)=>{Ze(r,d)[String(d.key)]=d,e._leaveCb=()=>{t(),e._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=n})}return c}}};function Ze(e,t){const{leavingVNodes:n}=e;let s=n.get(t.type);return s||(s=Object.create(null),n.set(t.type,s)),s}function Qe(e,{appear:t,persisted:n=!1,onBeforeEnter:s,onEnter:r,onAfterEnter:i,onEnterCancelled:o,onBeforeLeave:a,onLeave:c,onAfterLeave:u,onLeaveCancelled:h},d,f){const p=String(e.key),g=Ze(d,e),_=(e,t)=>{e&&l(e,f,9,t)},x={persisted:n,beforeEnter(n){if(!t&&!d.isMounted)return;n._leaveCb&&n._leaveCb(!0);const r=g[p];r&&oe(e,r)&&r.el._leaveCb&&r.el._leaveCb(),_(s,[n])},enter(e){if(!t&&!d.isMounted)return;let n=!1;const s=e._enterCb=t=>{n||(n=!0,_(t?o:i,[e]),x.delayedLeave&&x.delayedLeave(),e._enterCb=void 0)};r?r(e,s):s()},leave(t,n){const s=String(e.key);if(t._enterCb&&t._enterCb(!0),d.isUnmounting)return n();_(a,[t]);let r=!1;const i=t._leaveCb=i=>{r||(r=!0,n(),_(i?h:u,[t]),t._leaveCb=void 0,g[s]===e&&delete g[s])};g[s]=e,c?c(t,i):i()}};return x}function Ke(e){if(tt(e))return(e=de(e)).children=null,e}function Je(e){return tt(e)?e.children?e.children[0]:void 0:e}function et(e,t){6&e.shapeFlag&&e.component?et(e.component.subTree,t):e.transition=t}const tt=e=>e.type.__isKeepAlive,nt={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=new Map,s=new Set;let i=null;const o=Dt(),a=o.suspense,c=o.ctx,{renderer:{p:l,m:u,um:h,o:{createElement:d}}}=c,f=d("div");function p(e){e.shapeFlag=4,h(e,o,a)}function g(e){n.forEach((t,n)=>{const s=st(t.type);!s||e&&e(s)||_(n)})}function _(e){const t=n.get(e);i&&t.type===i.type?i&&(i.shapeFlag=4):p(t),n.delete(e),s.delete(e)}return c.activate=(e,t,n,s,i)=>{const c=e.component;u(e,t,n,0,a),l(c.vnode,e,t,n,o,a,s,i),Ve(()=>{c.isDeactivated=!1,c.a&&Object(r.n)(c.a)},a)},c.deactivate=e=>{u(e,f,null,1,a),Ve(()=>{const t=e.component;t.da&&Object(r.n)(t.da),t.isDeactivated=!0},a)},Tt(()=>[e.include,e.exclude],([e,t])=>{e&&g(t=>rt(e,t)),t&&g(e=>rt(t,e))}),gt(()=>{n.forEach(p)}),()=>{if(!t.default)return null;const r=t.default();let o=r[0];if(r.length>1)return i=null,r;if(!(ie(o)&&4&o.shapeFlag))return i=null,o;const a=o.type,c=st(a),{include:l,exclude:u,max:h}=e;if(l&&(!c||!rt(l,c))||u&&c&&rt(u,c))return o;const d=null==o.key?a:o.key,f=n.get(d);return o.el&&(o=de(o)),n.set(d,o),f?(o.el=f.el,o.component=f.component,o.transition&&et(o,o.transition),o.shapeFlag|=512,s.delete(d),s.add(d)):(s.add(d),h&&s.size>parseInt(h,10)&&_(Array.from(s)[0])),o.shapeFlag|=256,i=o,o}}};function st(e){return e.displayName||e.name}function rt(e,t){return Object(r.o)(e)?e.some(e=>rt(e,t)):Object(r.y)(e)?e.split(",").indexOf(t)>-1:!!e.test&&e.test(t)}function it(e,t){at(e,"a",t)}function ot(e,t){at(e,"da",t)}function at(e,t,n=Nt){const s=e.__wdc||(e.__wdc=()=>{let t=n;for(;t;){if(t.isDeactivated)return;t=t.parent}e()});if(lt(t,s,n),n){let e=n.parent;for(;e&&e.parent;)tt(e.parent.vnode)&&ct(s,t,n,e),e=e.parent}}function ct(e,t,n,s){lt(t,e,s,!0),_t(()=>{Object(r.F)(s[t],e)},n)}function lt(e,t,n=Nt,r=!1){if(n){const i=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...r)=>{if(n.isUnmounted)return;Object(s.i)(),Wt(n);const i=l(t,n,e,r);return Wt(null),Object(s.m)(),i});r?i.unshift(o):i.push(o)}else 0}const ut=e=>(t,n=Nt)=>!Ht&&lt(e,t,n),ht=ut("bm"),dt=ut("m"),ft=ut("bu"),pt=ut("u"),gt=ut("bum"),_t=ut("um"),xt=ut("rtg"),mt=ut("rtc"),vt=(e,t=Nt)=>{lt("ec",e,t)},bt=e=>e();function yt(e,t){return St(e,null,t)}const Ct={};function Tt(e,t,n){return St(e,t,n)}function St(e,t,{immediate:n,deep:i,flush:o,onTrack:a,onTrigger:u}=r.b){const h=Nt;let d,f;if(d=Object(r.o)(e)?()=>e.map(e=>Object(s.g)(e)?e.value:c(e,h,2)):Object(s.g)(e)?()=>e.value:t?()=>c(e,h,2):()=>{if(!h||!h.isUnmounted)return f&&f(),c(e,h,3,[p])},t&&i){const e=d;d=()=>function e(t,n=new Set){if(!Object(r.s)(t)||n.has(t))return t;if(n.add(t),Object(r.o)(t))for(let s=0;s<t.length;s++)e(t[s],n);else if(t instanceof Map)t.forEach((s,r)=>{e(t.get(r),n)});else if(t instanceof Set)t.forEach(t=>{e(t,n)});else for(const s in t)e(t[s],n);return t}(e())}const p=e=>{f=v.options.onStop=()=>{c(e,h,4)}};let g=Object(r.o)(e)?[]:Ct;const _=t?()=>{if(h&&h.isUnmounted)return;const e=v();(i||Object(r.k)(e,g))&&(f&&f(),l(t,h,3,[e,g===Ct?void 0:g,p]),g=e)}:void 0;let m;m="sync"===o?bt:"pre"===o?e=>{!h||h.isMounted?x(e):e()}:e=>Ve(e,h&&h.suspense);const v=Object(s.c)(d,{lazy:!0,computed:!0,onTrack:a,onTrigger:u,scheduler:_?()=>m(_):m});return $t(v),_?n?_():g=v():v(),()=>{Object(s.q)(v),h&&Object(r.F)(h.effects,v)}}function Ot(e,t,n){const s=this.proxy,i=Tt(Object(r.y)(e)?()=>s[e]:e.bind(s),t.bind(s),n);return gt(i,this),i}function wt(e,t){if(Nt){let n=Nt.provides;const s=Nt.parent&&Nt.parent.provides;s===n&&(n=Nt.provides=Object.create(s)),n[e]=t}else 0}function jt(e,t){const n=Nt||T;if(n){const s=n.provides;if(e in s)return s[e];if(arguments.length>1)return t}else 0}function Et(e,t,n=[],s=[],i=!1){const{mixins:o,extends:a,props:c,data:l,computed:u,methods:h,watch:d,provide:f,inject:p,components:g,directives:_,beforeMount:x,mounted:m,beforeUpdate:v,updated:b,activated:y,deactivated:C,beforeUnmount:T,unmounted:S,renderTracked:O,renderTriggered:w,errorCaptured:j}=t,E=e.proxy,A=e.ctx,R=e.appContext.mixins;i||(At("beforeCreate",t,E,R),Lt(e,R,n,s)),a&&Et(e,a,n,s,!0),o&&Lt(e,o,n,s);if(p)if(Object(r.o)(p))for(let e=0;e<p.length;e++){const t=p[e];A[t]=jt(t)}else for(const e in p){const t=p[e];Object(r.s)(t)?A[e]=jt(t.from,t.default):A[e]=jt(t)}if(h)for(const e in h){const t=h[e];Object(r.p)(t)&&(A[e]=t.bind(E))}if(l&&(i?n.push(l):Mt(e,l,E)),i||n.length&&n.forEach(t=>Mt(e,t,E)),u)for(const e in u){const t=u[e];0;const n=Qt({get:Object(r.p)(t)?t.bind(E,E):Object(r.p)(t.get)?t.get.bind(E,E):r.d,set:!Object(r.p)(t)&&Object(r.p)(t.set)?t.set.bind(E):r.d});Object.defineProperty(A,e,{enumerable:!0,configurable:!0,get:()=>n.value,set:e=>n.value=e})}if(d&&s.push(d),!i&&s.length&&s.forEach(e=>{for(const t in e)Pt(e[t],A,E,t)}),f){const e=Object(r.p)(f)?f.call(E):f;for(const t in e)wt(t,e[t])}g&&Object(r.i)(e.components,g),_&&Object(r.i)(e.directives,_),i||At("created",t,E,R),x&&ht(x.bind(E)),m&&dt(m.bind(E)),v&&ft(v.bind(E)),b&&pt(b.bind(E)),y&&it(y.bind(E)),C&&ot(C.bind(E)),j&&vt(j.bind(E)),O&&mt(O.bind(E)),w&&xt(w.bind(E)),T&&gt(T.bind(E)),S&&_t(S.bind(E))}function At(e,t,n,s){Rt(e,s,n);const r=t.extends&&t.extends[e];r&&r.call(n);const i=t.mixins;i&&Rt(e,i,n);const o=t[e];o&&o.call(n)}function Rt(e,t,n){for(let s=0;s<t.length;s++){const r=t[s][e];r&&r.call(n)}}function Lt(e,t,n,s){for(let r=0;r<t.length;r++)Et(e,t[r],n,s,!0)}function Mt(e,t,n){const i=t.call(n,n);Object(r.s)(i)&&(e.data===r.b?e.data=Object(s.j)(i):Object(r.i)(e.data,i))}function Pt(e,t,n,s){const i=()=>n[s];if(Object(r.y)(e)){const n=t[e];Object(r.p)(n)&&Tt(i,n)}else Object(r.p)(e)?Tt(i,e.bind(n)):Object(r.s)(e)&&(Object(r.o)(e)?e.forEach(e=>Pt(e,t,n,s)):Tt(i,e.handler.bind(n),e))}function zt(e,t,n){const s=n.appContext.config.optionMergeStrategies;for(const i in t){const o=s&&s[i];o?e[i]=o(e[i],t[i],n.proxy,i):Object(r.l)(e,i)||(e[i]=t[i])}}const Ft={$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>e.parent&&e.parent.proxy,$root:e=>e.root&&e.root.proxy,$emit:e=>e.emit,$options:e=>function(e){const t=e.type,{__merged:n,mixins:s,extends:r}=t;if(n)return n;const i=e.appContext.mixins;if(!i.length&&!s&&!r)return t;const o={};return i.forEach(t=>zt(o,t,e)),r&&zt(o,r,e),s&&s.forEach(t=>zt(o,t,e)),zt(o,t,e),t.__merged=o}(e),$forceUpdate:e=>()=>x(e.update),$nextTick:()=>_,$watch:e=>Ot.bind(e)},It={get({_:e},t){const{ctx:n,setupState:s,data:i,props:o,accessCache:a,type:c,appContext:l}=e;if("$"!==t[0]){const e=a[t];if(void 0!==e)switch(e){case 0:return s[t];case 1:return i[t];case 3:return n[t];case 2:return o[t]}else{if(s!==r.b&&Object(r.l)(s,t))return a[t]=0,s[t];if(i!==r.b&&Object(r.l)(i,t))return a[t]=1,i[t];if(c.props&&Object(r.l)(Se(c.props)[0],t))return a[t]=2,o[t];if(n!==r.b&&Object(r.l)(n,t))return a[t]=3,n[t];a[t]=4}}const u=Ft[t];let h,d;return u?u(e):(h=c.__cssModules)&&(h=h[t])?h:n!==r.b&&Object(r.l)(n,t)?(a[t]=3,n[t]):(d=l.config.globalProperties,Object(r.l)(d,t)?d[t]:void 0)},set({_:e},t,n){const{data:s,setupState:i,ctx:o}=e;if(i!==r.b&&Object(r.l)(i,t))i[t]=n;else if(s!==r.b&&Object(r.l)(s,t))s[t]=n;else if(t in e.props)return!1;return("$"!==t[0]||!(t.slice(1)in e))&&(o[t]=n,!0)},has:({_:{data:e,setupState:t,accessCache:n,ctx:s,type:i,appContext:o}},a)=>void 0!==n[a]||e!==r.b&&Object(r.l)(e,a)||t!==r.b&&Object(r.l)(t,a)||i.props&&Object(r.l)(Se(i.props)[0],a)||Object(r.l)(s,a)||Object(r.l)(Ft,a)||Object(r.l)(o.config.globalProperties,a)};const kt={...It,get(e,t){if(t!==Symbol.unscopables)return It.get(e,t,e)},has:(e,t)=>"_"!==t[0]&&!Object(r.q)(t)};const Ut=Ie();let Bt=0;let Nt=null;const Dt=()=>Nt||T,Wt=e=>{Nt=e};let Vt,Ht=!1;function Xt(e,t,n){Object(r.p)(t)?e.render=t:Object(r.s)(t)&&(e.setupState=Object(s.j)(t)),Yt(e)}function Gt(e){Vt=e}function Yt(e,t){const n=e.type;e.render||(Vt&&n.template&&!n.render&&(n.render=Vt(n.template,{isCustomElement:e.appContext.config.isCustomElement||r.c}),n.render._rc=!0),e.render=n.render||r.d,e.render._rc&&(e.withProxy=new Proxy(e.ctx,kt))),Nt=e,Et(e,n),Nt=null}function $t(e){Nt&&(Nt.effects||(Nt.effects=[])).push(e)}const qt=/(?:^|[-_])(\w)/g;function Zt(e,t=!1){let n=Object(r.p)(e)&&e.displayName||e.name;if(!n&&e.__file){const t=e.__file.match(/([^/\\]+)\.vue$/);t&&(n=t[1])}return n?n.replace(qt,e=>e.toUpperCase()).replace(/[-_]/g,""):t?"App":"Anonymous"}function Qt(e){const t=Object(s.a)(e);return $t(t.effect),t}function Kt(e){return Object(r.p)(e)?{setup:e}:e}function Jt(e){Object(r.p)(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:i,delay:o=200,timeout:a,suspensible:c=!0,onError:l}=e;let h,d=null,f=0;const p=()=>{let e;return d||(e=d=t().catch(e=>{if(e=e instanceof Error?e:new Error(String(e)),l)return new Promise((t,n)=>{l(e,()=>t((f++,d=null,p())),()=>n(e),f+1)});throw e}).then(t=>e!==d&&d?d:(t&&(t.__esModule||"Module"===t[Symbol.toStringTag])&&(t=t.default),h=t,t)))};return Kt({__asyncLoader:p,name:"AsyncComponentWrapper",setup(){const e=Nt;if(h)return()=>en(h,e);const t=t=>{d=null,u(t,e,13)};if(c&&e.suspense)return p().then(t=>()=>en(t,e)).catch(e=>(t(e),()=>i?ue(i,{error:e}):null));const r=Object(s.l)(!1),l=Object(s.l)(),f=Object(s.l)(!!o);return o&&setTimeout(()=>{f.value=!1},o),null!=a&&setTimeout(()=>{if(!r.value){const e=new Error(`Async component timed out after ${a}ms.`);t(e),l.value=e}},a),p().then(()=>{r.value=!0}).catch(e=>{t(e),l.value=e}),()=>r.value&&h?en(h,e):l.value&&i?ue(i,{error:l.value}):n&&!f.value?ue(n):void 0}})}function en(e,{vnode:{props:t,children:n}}){return ue(e,t,n)}function tn(e,t,n){return 2===arguments.length?Object(r.s)(t)&&!Object(r.o)(t)?ie(t)?ue(e,null,[t]):ue(e,t):ue(e,null,t):(ie(n)&&(n=[n]),ue(e,t,n))}const nn=(e="$style")=>{{const t=Dt();if(!t)return r.b;const n=t.type.__cssModules;if(!n)return r.b;const s=n[e];return s||r.b}},sn=Symbol(""),rn=()=>{{const e=jt(sn);return e||o("Server rendering context not provided. Make sure to only call useSsrContext() conditionally in the server build."),e}};function on(e,t){let n;if(Object(r.o)(e)||Object(r.y)(e)){n=new Array(e.length);for(let s=0,r=e.length;s<r;s++)n[s]=t(e[s],s)}else if("number"==typeof e){n=new Array(e);for(let s=0;s<e;s++)n[s]=t(s+1,s)}else if(Object(r.s)(e))if(e[Symbol.iterator])n=Array.from(e,t);else{const s=Object.keys(e);n=new Array(s.length);for(let r=0,i=s.length;r<i;r++){const i=s[r];n[r]=t(e[i],i,r)}}else n=[];return n}function an(e){const t={};for(const n in e)t["on"+n]=e[n];return t}function cn(e,t,n={},s){let r=e[t];return ee(),re($,{key:n.key},r?r(n):s?s():[],e._?64:-2)}function ln(e,t){for(let n=0;n<t.length;n++){const s=t[n];if(Object(r.o)(s))for(let t=0;t<s.length;t++)e[s[t].name]=s[t].fn;else s&&(e[s.name]=s.fn)}return e}const un="3.0.0-beta.4",hn=null},function(e,t,n){"use strict";function s(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),s(n(64)),s(n(67)),s(n(38)),s(n(87)),s(n(47))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(21);class r extends s.WebGLShader{enableAttribs(){const e=this.gl;e.vertexAttribPointer(this._attrib("aVertexPosition"),2,e.FLOAT,!1,20,0),e.enableVertexAttribArray(this._attrib("aVertexPosition")),-1!==this._attrib("aTextureCoord")&&(e.vertexAttribPointer(this._attrib("aTextureCoord"),2,e.FLOAT,!1,20,8),e.enableVertexAttribArray(this._attrib("aTextureCoord"))),-1!==this._attrib("aColor")&&(e.vertexAttribPointer(this._attrib("aColor"),4,e.UNSIGNED_BYTE,!0,20,16),e.enableVertexAttribArray(this._attrib("aColor")))}disableAttribs(){const e=this.gl;e.disableVertexAttribArray(this._attrib("aVertexPosition")),-1!==this._attrib("aTextureCoord")&&e.disableVertexAttribArray(this._attrib("aTextureCoord")),-1!==this._attrib("aColor")&&e.disableVertexAttribArray(this._attrib("aColor"))}setupUniforms(e){this._setUniform("projection",this._getProjection(e),this.gl.uniform2fv)}draw(e){const t=this.gl,n=e.length,s=this.context.renderExecutor,r=s.quadIndexType,i=s.quadIndexType===WebGLRenderingContext.UNSIGNED_INT?4:2;if(n){let s=e.getTexture(0),o=0;for(let a=0;a<n;a++){const n=e.getTexture(a);s!==n&&(t.bindTexture(t.TEXTURE_2D,s),t.drawElements(t.TRIANGLES,6*(a-o),r,6*(o+e.index)*i),s=n,o=a)}o<n&&(t.bindTexture(t.TEXTURE_2D,s),t.drawElements(t.TRIANGLES,6*(n-o),r,6*(o+e.index)*i))}}}t.WebGLDefaultShader=r,r.prototype.vertexShaderSource="\n    #ifdef GL_ES\n    precision lowp float;\n    #endif\n    attribute vec2 aVertexPosition;\n    attribute vec2 aTextureCoord;\n    attribute vec4 aColor;\n    uniform vec2 projection;\n    varying vec2 vTextureCoord;\n    varying vec4 vColor;\n    void main(void){\n        gl_Position = vec4(aVertexPosition.x * projection.x - 1.0, aVertexPosition.y * -abs(projection.y) + 1.0, 0.0, 1.0);\n        vTextureCoord = aTextureCoord;\n        vColor = aColor;\n        gl_Position.y = -sign(projection.y) * gl_Position.y;\n    }\n",r.prototype.fragmentShaderSource="\n    #ifdef GL_ES\n    precision lowp float;\n    #endif\n    varying vec2 vTextureCoord;\n    varying vec4 vColor;\n    uniform sampler2D uSampler;\n    void main(void){\n        gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor;\n    }\n"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class s{static isFunction(e){return"function"==typeof e}static isNumber(e){return"number"==typeof e}static isInteger(e){return"number"==typeof e&&e%1==0}static isBoolean(e){return!0===e||!1===e}static isString(e){return"string"==typeof e}static clone(e){return s.isObjectLiteral(e)||Array.isArray(e)?s.getDeepClone(e):e}static cloneObjShallow(e){Object.keys(e);const t={};for(const n of Object.keys(e))t[n]=e[n];return t}static merge(e,t){for(const n of Object.keys(t))e[n]=t[n];return e}static isObject(e){const t=typeof e;return!!e&&("object"===t||"function"===t)}static isPlainObject(e){return!!e&&"object"===typeof e}static isObjectLiteral(e){return"object"==typeof e&&e&&e.constructor===Object}static getArrayIndex(e,t){return s.getModuloIndex(e,t.length)}static getModuloIndex(e,t){if(0===t)return e;for(;e<0;)e+=Math.ceil(-e/t)*t;return e%=t}static getDeepClone(e){if(s.isFunction(e))return e;if(Array.isArray(e)){const t=[];for(const n of Object.keys(e)){const r=e[n];t[n]=s.getDeepClone(r)}return t}if(s.isObject(e)){const t={};for(const n of Object.keys(e)){const r=e[n];t[n]=s.getDeepClone(r)}return t}return e}static equalValues(e,t){return typeof e==typeof t&&(s.isObjectLiteral(e)?s.isObjectLiteral(t)&&s.equalObjectLiterals(e,t):Array.isArray(e)?Array.isArray(t)&&s.equalArrays(e,t):e===t)}static equalObjectLiterals(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0,o=n.length;i<o;i++){const o=n[i],a=r[i];if(o!==a)return!1;const c=e[o],l=t[a];if(!s.equalValues(c,l))return!1}return!0}static equalArrays(e,t){if(e.length!==t.length)return!1;for(let n=0,s=e.length;n<s;n++)if(!this.equalValues(e[n],t[n]))return!1;return!0}static setToArray(e){const t=new Array;return e.forEach(e=>{t.push(e)}),t}static iteratorToArray(e){const t=[];let n=e.next();for(;!n.done;)t.push(n.value),n=e.next();return t}static isUcChar(e){return e>=65&&e<=90}}t.Utils=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class s{constructor(e){this.stage=e,this.manager=this.stage.textureManager,this.id=s.id++,this.elements=new Set,this._activeCount=0,this._source=void 0,this._x=0,this._y=0,this._w=0,this._h=0,this._pixelRatio=1,this.mw=0,this.mh=0,this.clipping=!1,this._mustUpdate=!0}get source(){return this.getUpdatedSource()}getUpdatedSource(){return(this._mustUpdate||this.stage.hasUpdateTexture(this))&&(this._performUpdateSource(!0),this.stage.removeUpdateTexture(this)),this._source}getSource(){return this._source}addElement(e){this.elements.has(e)||(this.elements.add(e),1===this.elements.size&&this._source&&this._source.addTexture(this),e.active&&this.incActiveCount())}removeElement(e){this.elements.delete(e)&&(0===this.elements.size&&this._source&&this._source.removeTexture(this),e.active&&this.decActiveCount())}getElements(){return this.elements}incActiveCount(){this.source&&this._checkForNewerReusableTextureSource(),this._activeCount++,1===this._activeCount&&this.becomesUsed()}decActiveCount(){this.getUpdatedSource();this._activeCount--,this._activeCount||this.becomesUnused()}becomesUsed(){const e=this.getUpdatedSource();null==e||e.incActiveTextureCount()}onLoad(){this.elements.forEach(e=>{e.active&&e.onTextureSourceLoaded()})}_checkForNewerReusableTextureSource(){const e=this.source;if(!e.isLoaded()){const t=this._getReusableTextureSource();t&&t.isLoaded()&&t!==e&&this._replaceTextureSource(t)}}becomesUnused(){this.source&&this.source.decActiveTextureCount()}isUsed(){return this._activeCount>0}_getLookupId(){}_getSourceLoader(){throw new Error("Texture.generate must be implemented.")}get isValid(){return this._getIsValid()}_getIsValid(){return!0}_changed(){this.isUsed()?this._updateSource():this._mustUpdate=!0}_updateSource(){this.stage.addUpdateTexture(this)}_performUpdateSource(e=!1){if(e||this.isUsed()){this._mustUpdate=!1;const e=this._getTextureSource();this._replaceTextureSource(e)}}_getTextureSource(){let e;if(this._getIsValid()){const t=this._getLookupId();e=this._getReusableTextureSource(t),e||(e=this.manager.getTextureSource(this._getSourceLoader(),t))}return e}_getReusableTextureSource(e=this._getLookupId()){if(this._getIsValid()&&e)return this.manager.getReusableTextureSource(e)}_replaceTextureSource(e){const t=this._source;if(this._source=e,t&&(this._activeCount&&t.decActiveTextureCount(),t.removeTexture(this)),e&&(e.addTexture(this),this._activeCount&&e.incActiveTextureCount()),this.isUsed())if(e)if(e.isLoaded())this.elements.forEach(e=>{e.active&&e.setDisplayedTexture(this)});else{const t=e.loadError;t&&this.elements.forEach(e=>{e.active&&e.onTextureSourceLoadError(t)})}else this.elements.forEach(e=>{e.active&&e.setDisplayedTexture(void 0)})}load(){this.source&&(this.isLoaded()||this.source.load())}isLoaded(){return!!this._source&&this._source.isLoaded()}get loadError(){return this._source?this._source.loadError:void 0}free(){this._source&&this._source.free()}hasClipping(){return this.clipping}_updateClipping(){this.clipping=!!(this._x||this._y||this._w||this._h),this.elements.forEach(e=>{e.displayedTexture===this&&e.onDisplayedTextureClippingChanged()})}_updatePixelRatio(){this.elements.forEach(e=>{e.displayedTexture===this&&e.onPixelRatioChanged()})}getNonDefaults(){const e={};return e.type=this.constructor.name,0!==this.x&&(e.x=this.x),0!==this.y&&(e.y=this.y),0!==this.w&&(e.w=this.w),0!==this.h&&(e.h=this.h),1!==this.pixelRatio&&(e.pixelRatio=this.pixelRatio),e}get px(){return this._x*this._pixelRatio}get py(){return this._y*this._pixelRatio}get pw(){return this._w*this._pixelRatio}get ph(){return this._h*this._pixelRatio}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this._updateClipping())}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this._updateClipping())}get w(){return this._w}set w(e){this._w!==e&&(this._w=e,this._updateClipping())}get h(){return this._h}set h(e){this._h!==e&&(this._h=e,this._updateClipping())}get pixelRatio(){return this._pixelRatio}set pixelRatio(e){this._pixelRatio!==e&&(this._pixelRatio=e,this._updatePixelRatio())}isAutosizeTexture(){return!0}getRenderWidth(){if(!this.isAutosizeTexture())return 0;let e=this._w;if(this._source){const t=this._source.getRenderWidth()/this._pixelRatio;e=e?Math.min(t,e):t,e-=this._x}else e=0;return e}getRenderHeight(){if(!this.isAutosizeTexture())return 0;let e=this._h;if(this._source){const t=this._source.getRenderHeight()/this._pixelRatio;e=e?Math.min(t,e):t,e-=this._y}else e=0;return e}static getLookupIdFromSettings(e){if(Array.isArray(e))return e.map(e=>this.getLookupIdFromSettings(e)).join(",");if(r.Utils.isObjectLiteral(e)){const t=[];for(const[n,s]of Object.entries(e))t.push(n+"="+this.getLookupIdFromSettings(s));return t.join("|")}return void 0===e?"":""+e}}t.Texture=s,s.id=0;const r=n(6)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(13),r=n(11);class i extends s.Node{constructor(){super(...arguments),this.containerElement=this.el}getChildren(){let e=this.firstChild;const t=[];for(;e;)e.element&&t.push(e),e=e.nextSibling;return t}syncWithTree2d(){super.syncWithTree2d();const e=[];let t=this.firstChild;for(;t;)t.element&&e.push(t.element),t=t.nextSibling;this.containerElement.childList.setItems(e)}set"force-z-index-context"(e){this.el.forceZIndexContext=r.ensureBoolean(e)}set clipping(e){this.el.clipping=r.ensureBoolean(e)}set clipbox(e){this.el.clipbox=r.ensureBoolean(e)}set"render-to-texture"(e){this.el.renderToTexture=r.ensureBoolean(e)}set"render-to-texture-lazy"(e){this.el.renderToTextureLazy=r.ensureBoolean(e)}set"render-to-texture-offscreen"(e){this.el.renderToTextureOffscreen=r.ensureBoolean(e)}set"render-to-texture-colorize"(e){this.el.renderToTextureColorize=r.ensureBoolean(e)}set flex(e){this.el.flex=r.ensureBoolean(e)}set"flex-direction"(e){this.el.flexDirection=e}set"flex-wrap"(e){this.el.flexWrap=r.ensureBoolean(e)}set"flex-align-items"(e){this.el.flexAlignItems=e}set"flex-justify-content"(e){this.el.flexJustifyContent=e}set"flex-align-content"(e){this.el.flexAlignContent=e}set padding(e){this.el.padding=r.ensureFloat(e)}set"padding-left"(e){this.el.paddingLeft=r.ensureFloat(e)}set"padding-right"(e){this.el.paddingRight=r.ensureFloat(e)}set"padding-top"(e){this.el.paddingTop=r.ensureFloat(e)}set"padding-bottom"(e){this.el.paddingBottom=r.ensureFloat(e)}}t.Container=i},function(e,t,n){"use strict";function s(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),s(n(63)),s(n(18)),s(n(126)),s(n(127)),s(n(128)),s(n(129)),s(n(130)),s(n(54)),s(n(131))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(6);class r{static rgb(e,t,n){return(e<<16)+(t<<8)+n+4278190080}static rgba(e,t,n,s){return(e<<16)+(t<<8)+n+16777216*(255*s|0)}static getRgbString(e){return"rgb("+(e/65536|0)%256+","+(e/256|0)%256+","+e%256+")"}static getRgbaString(e){return"rgba("+(e/65536|0)%256+","+(e/256|0)%256+","+e%256+","+((e/16777216|0)/255).toFixed(4)+")"}static getRgbaStringFromArray(e){return"rgba("+Math.floor(255*e[0])+","+Math.floor(255*e[1])+","+Math.floor(255*e[2])+","+(Math.floor(255*e[3])/255).toFixed(4)+")"}static getRgbaComponentsNormalized(e){return[(e/65536|0)%256/255,(e/256|0)%256/255,e%256/255,(e/16777216|0)/255]}static getRgbComponentsNormalized(e){return[(e/65536|0)%256/255,(e/256|0)%256/255,e%256/255]}static getRgbaComponents(e){return[(e/65536|0)%256,(e/256|0)%256,e%256,e/16777216|0]}static getArgbNumber(e){e[0]=Math.max(0,Math.min(255,e[0])),e[1]=Math.max(0,Math.min(255,e[1])),e[2]=Math.max(0,Math.min(255,e[2])),e[3]=Math.max(0,Math.min(255,e[3]));let t=((0|e[3])<<24)+((0|e[0])<<16)+((0|e[1])<<8)+(0|e[2]);return t<0&&(t=4294967295+t+1),t}static getArgbFromAny(e){return s.Utils.isNumber(e)?e:s.Utils.isString(e)?r.getArgbFromString(e):0}static getArgbFromString(e){const t=this.colorNameMap[e.toLowerCase()];if(void 0!==t)return t;const n=this.getArgbFromHex(e);if(void 0!==n)return n;const s=this.getArgbFromRgba(e);return void 0!==s?s:4294967295}static getArgbFromHex(e){if(e.startsWith("#"))return parseInt(e.slice(1),16)+4278190080}static getArgbFromRgba(e){var t;const n=this.rgbaMatcher.exec(e);if(null===n)return;const s=parseInt(n[1]),r=parseInt(n[2]),i=parseInt(n[3]),o=parseFloat(null!==(t=n[4])&&void 0!==t?t:"1.0");return this.rgba(s,r,i,o)}static mergeColors(e,t,n){const s=(e/65536|0)%256*n+(t/65536|0)%256*(1-n),r=(e/256|0)%256*n+(t/256|0)%256*(1-n),i=e%256*n+t%256*(1-n),o=(e/16777216|0)*n+(t/16777216|0)*(1-n);return 16777216*Math.round(o)+65536*Math.round(s)+256*Math.round(r)+Math.round(i)}static mergeMultiColors(e,t){let n=0,s=0,r=0,i=0,o=0;const a=e.length;for(let c=0;c<a;c++){const a=(e[c]/65536|0)%256,l=(e[c]/256|0)%256,u=e[c]%256,h=e[c]/16777216|0;n+=a*t[c],s+=l*t[c],r+=u*t[c],i+=h*t[c],o+=t[c]}return o=1/o,16777216*Math.round(i*o)+65536*Math.round(n*o)+256*Math.round(s*o)+Math.round(r*o)}static mergeMultiColorsEqual(e){let t=0,n=0,s=0,r=0,i=0;const o=e.length;for(let a=0;a<o;a++){t+=(e[a]/65536|0)%256,n+=(e[a]/256|0)%256,s+=e[a]%256,r+=e[a]/16777216|0,i+=1}return i=1/i,16777216*Math.round(r*i)+65536*Math.round(t*i)+256*Math.round(n*i)+Math.round(s*i)}static mergeColorAlpha(e,t){const n=(e/16777216|0)*t|0;return((e>>16&255)*n/255&255)+((65280&e)*n/255&65280)+(((255&e)<<16)*n/255&16711680)+(n<<24)}}t.ColorUtils=r,r.rgbaMatcher=new RegExp(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)/),r.colorNameMap={aliceblue:4293982463,antiquewhite:4294634455,aqua:4278255615,aquamarine:4286578644,azure:4293984255,beige:4294309340,bisque:4294960324,black:4278190080,blanchedalmond:4294962125,blue:4278190335,blueviolet:4287245282,brown:4289014314,burlywood:4292786311,cadetblue:4284456608,chartreuse:4286578432,chocolate:4291979550,coral:4294934352,cornflowerblue:4284782061,cornsilk:4294965468,crimson:4292613180,cyan:4278255615,darkblue:4278190219,darkcyan:4278225803,darkgoldenrod:4290283019,darkgray:4289309097,darkgreen:4278215680,darkkhaki:4290623339,darkmagenta:4287299723,darkolivegreen:4283788079,darkorange:4294937600,darkorchid:4288230092,darkred:4287299584,darksalmon:4293498490,darkseagreen:4287609999,darkslateblue:4282924427,darkslategray:4281290575,darkturquoise:4278243025,darkviolet:4287889619,deeppink:4294907027,deepskyblue:4278239231,dimgray:4285098345,dodgerblue:4280193279,firebrick:4289864226,floralwhite:4294966e3,forestgreen:4280453922,fuchsia:4294902015,gainsboro:4292664540,ghostwhite:4294506751,gold:4294956800,goldenrod:4292519200,gray:4286611584,green:4278222848,greenyellow:4289593135,honeydew:4293984240,hotpink:4294928820,indianred:4291648604,indigo:4283105410,ivory:4294967280,khaki:4293977740,lavender:4293322490,lavenderblush:4294963445,lawngreen:4286381056,lemonchiffon:4294965965,lightblue:4289583334,lightcoral:4293951616,lightcyan:4292935679,lightgoldenrodyellow:4294638290,lightgrey:4292072403,lightgreen:4287688336,lightpink:4294948545,lightsalmon:4294942842,lightseagreen:4280332970,lightskyblue:4287090426,lightslategray:4286023833,lightsteelblue:4289774814,lightyellow:4294967264,lime:4278255360,limegreen:4281519410,linen:4294635750,magenta:4294902015,maroon:4286578688,mediumaquamarine:4284927402,mediumblue:4278190285,mediumorchid:4290401747,mediumpurple:4287852760,mediumseagreen:4282168177,mediumslateblue:4286277870,mediumspringgreen:4278254234,mediumturquoise:4282962380,mediumvioletred:4291237253,midnightblue:4279834992,mintcream:4294311930,mistyrose:4294960353,moccasin:4294960309,navajowhite:4294958765,navy:4278190208,oldlace:4294833638,olive:4286611456,olivedrab:4285238819,orange:4294944e3,orangered:4294919424,orchid:4292505814,palegoldenrod:4293847210,palegreen:4288215960,paleturquoise:4289720046,palevioletred:4292374675,papayawhip:4294963157,peachpuff:4294957753,peru:4291659071,pink:4294951115,plum:4292714717,powderblue:4289781990,purple:4286578816,red:4294901760,rosybrown:4290547599,royalblue:4282477025,saddlebrown:4287317267,salmon:4294606962,sandybrown:4294222944,seagreen:4281240407,seashell:4294964718,sienna:4288696877,silver:4290822336,skyblue:4287090411,slateblue:4285160141,slategray:4285563024,snow:4294966010,springgreen:4278255487,steelblue:4282811060,tan:4291998860,teal:4278222976,thistle:4292394968,tomato:4294927175,turquoise:4282441936,violet:4293821166,wheat:4294303411,white:4294967295,whitesmoke:4294309365,yellow:4294967040,yellowgreen:4288335154,darkgrey:4289309097,darkslategrey:4281290575,dimgrey:4285098345,grey:4286611584,lightgray:4292072403,lightslategrey:4286023833,slategrey:4285563024}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(4);t.ensureColor=function(e){return s.ColorUtils.getArgbFromAny(e)},t.ensureInt=function(e){return"number"==typeof e?e:parseInt(e)||0},t.ensureFloat=function(e){return"number"==typeof e?e:parseFloat(e)||0},t.ensureBoolean=function(e){return"false"!==e&&!!e},t.isString=function(e){return"string"==typeof e},t.isNumber=function(e){return"number"==typeof e},t.parseFloatStrict=function(e){return/^([-+])?([0-9]+(\.[0-9]+)?|Infinity)$/.test(e)?Number(e):NaN}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(103);t.Patcher=class{static createObject(e,t,...n){let s;if(e.type)s=new e.type(...n);else{if(!t)throw new Error("No default type specified");s=new t(...n)}return this.patchObject(s,e),s}static patchObject(e,t){const n=Object.keys(t);for(let s=0,r=n.length;s<r;s++){const r=n[s],i=t[r];this.patchObjectProperty(e,r,i)}}static patchObjectProperty(e,t,n){const s=this.getHandler(e,t);s?s.handle(e,n):this.patchSimpleObjectProperty(e,t,n)}static patchSimpleObjectProperty(e,t,n){"type"!==t&&(e[t]=n)}static getHandler(e,t){return s.handlers.find(n=>n.matches(e,t))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(26),r=n(4),i=n(27),o=n(11);class a extends s.Base{constructor(e,t){super(t||new r.Element(e)),this._nodeEvents=void 0,this.pointerEvents=void 0,this.stage=e,this.element&&(this.element.data=this)}getParentNode(){let e=this.parent;for(;e&&!e.el;)e=e.parent;return e}get el(){return this.element}set"pointer-events"(e){this.pointerEvents=e}capturePointerEvents(){return this.pointerEvents||void 0===this.pointerEvents&&this.getParentCapturePointerEvents()}getParentCapturePointerEvents(){const e=this.getParentNode();return!e||e.capturePointerEvents()}get textureElement(){return this.element}focus(){this.stage.eventHelpers.focusManager.setFocus(this)}dispatchEvent(e){var t;const n=i.eventTranslators[e.type],s=null===(t=this._nodeEvents)||void 0===t?void 0:t[n];null==s||s(Object.assign(Object.assign({},e),{currentTarget:this}))}dispatchBubbledEvent(e,t){var n;const s=i.eventTranslators[e.type];let r=this;for(;void 0!==r&&r!==t;){const i=null===(n=r._nodeEvents)||void 0===n?void 0:n[s],o=Object.assign(Object.assign({},e),{currentTarget:r,target:void 0!==t?r:e.target});if(null==i||i(o),void 0!==t&&o.cancelBubble)return;r=r.parent}}getLocalOffset(e,t){return this.el.core.convertWorldCoordsToLocal(e,t)}set x(e){this.el.x=o.ensureFloat(e)}set"func-x"(e){this.el.funcX=c(e)}set y(e){this.el.y=e}set"func-y"(e){this.el.funcY=c(e)}set w(e){this.el.w=e}set"func-w"(e){this.el.funcW=c(e)}set h(e){this.el.h=e}set"func-h"(e){this.el.funcH=c(e)}set"scale-x"(e){this.el.scaleX=o.ensureFloat(e)}set"scale-y"(e){this.el.scaleY=o.ensureFloat(e)}set scale(e){this.el.scale=o.ensureFloat(e)}set"pivot-x"(e){this.el.pivotX=o.ensureFloat(e)}set"pivot-y"(e){this.el.pivotY=o.ensureFloat(e)}set pivot(e){this.el.pivot=o.ensureFloat(e)}set"mount-x"(e){this.el.mountX=o.ensureFloat(e)}set"mount-y"(e){this.el.mountY=o.ensureFloat(e)}set mount(e){this.el.mount=o.ensureFloat(e)}set rotation(e){this.el.rotation=o.ensureFloat(e)}set alpha(e){this.el.alpha=o.ensureFloat(e)}set visible(e){this.el.visible=o.ensureBoolean(e)}set"color-upper-left"(e){this.textureElement.colorUl=o.ensureColor(e)}set"color-upper-right"(e){this.textureElement.colorUr=o.ensureColor(e)}set"color-bottom-left"(e){this.textureElement.colorUl=o.ensureColor(e)}set"color-bottom-right"(e){this.textureElement.colorUr=o.ensureColor(e)}set"color-top"(e){this.textureElement.colorTop=o.ensureColor(e)}set"color-bottom"(e){this.textureElement.colorBottom=o.ensureColor(e)}set"color-left"(e){this.textureElement.colorLeft=o.ensureColor(e)}set"color-right"(e){this.textureElement.colorRight=o.ensureColor(e)}set color(e){this.textureElement.color=o.ensureColor(e)}set"clip-x"(e){this.textureElement.texture&&(this.textureElement.texture.x=e)}set"clip-y"(e){this.textureElement.texture&&(this.textureElement.texture.y=e)}set"clip-w"(e){this.textureElement.texture&&(this.textureElement.texture.w=e)}set"clip-h"(e){this.textureElement.texture&&(this.textureElement.texture.h=e)}set"pixel-ratio"(e){this.textureElement.texture&&(this.textureElement.texture.pixelRatio=o.ensureFloat(e))}set"z-index"(e){this.el.zIndex=o.ensureFloat(e)}set"bounds-margin"(e){this.el.boundsMargin=o.ensureFloat(e)}set"bounds-marginleft"(e){this.el.boundsMarginLeft=o.ensureFloat(e)}set"bounds-margin-top"(e){this.el.boundsMarginTop=o.ensureFloat(e)}set"bounds-margin-right"(e){this.el.boundsMarginRight=o.ensureFloat(e)}set"bounds-margin-bottom"(e){this.el.boundsMarginBottom=o.ensureFloat(e)}set"flex-item"(e){this.el.flexItem=o.ensureBoolean(e)}set"flex-grow"(e){this.el.flexGrow=o.ensureFloat(e)}set"flex-shrink"(e){this.el.flexShrink=o.ensureFloat(e)}set"flex-align-self"(e){this.el.flexAlignSelf=e}set margin(e){this.el.margin=o.ensureFloat(e)}set"margin-left"(e){this.el.marginLeft=o.ensureFloat(e)}set"margin-right"(e){this.el.marginRight=o.ensureFloat(e)}set"margin-top"(e){this.el.marginTop=o.ensureFloat(e)}set"margin-bottom"(e){this.el.marginBottom=o.ensureFloat(e)}set"min-width"(e){this.el.minWidth=o.ensureFloat(e)}set"min-height"(e){this.el.minHeight=o.ensureFloat(e)}set"max-width"(e){this.el.maxWidth=o.ensureFloat(e)}set"max-height"(e){this.el.maxHeight=o.ensureFloat(e)}set"skip-in-layout"(e){this.el.skipInLayout=o.ensureBoolean(e)}get nodeEvents(){return this._nodeEvents||(this._nodeEvents={}),this._nodeEvents}set nodeEvents(e){this._nodeEvents=e}set onSetup(e){this.el.onSetup=e}set onAttach(e){this.el.onAttach=e}set onDetach(e){this.el.onDetach=e}set onEnabled(e){this.el.onEnabled=e}set onDisabled(e){this.el.onDisabled=e}set onActive(e){this.el.onActive=e}set onInactive(e){this.el.onInactive=e}set onTextureError(e){this.el.onTextureError=e}set onTextureLoaded(e){this.el.onTextureLoaded=e}set onTextureUnloaded(e){this.el.onTextureUnloaded=e}set onResize(e){this.el.onResize=e}set onUpdate(e){this.el.onUpdate=e}set onAfterCalcs(e){this.el.onAfterCalcs=e}set onAfterUpdate(e){this.el.onAfterUpdate=e}set onAuxclick(e){this.nodeEvents.onAuxclick=e}set onClick(e){this.nodeEvents.onClick=e}set onContextmenu(e){this.nodeEvents.onContextmenu=e}set onDblclick(e){this.nodeEvents.onDblclick=e}set onMousedown(e){this.nodeEvents.onMousedown=e}set onMouseenter(e){this.nodeEvents.onMouseenter=e}set onMouseleave(e){this.nodeEvents.onMouseleave=e}set onMousemove(e){this.nodeEvents.onMousemove=e}set onMouseout(e){this.nodeEvents.onMouseout=e}set onMouseover(e){this.nodeEvents.onMouseover=e}set onMouseup(e){this.nodeEvents.onMouseup=e}set onTouchcancel(e){this.nodeEvents.onTouchcancel=e}set onTouchend(e){this.nodeEvents.onTouchend=e}set onTouchmove(e){this.nodeEvents.onTouchmove=e}set onTouchstart(e){this.nodeEvents.onTouchstart=e}set onFocusin(e){this.nodeEvents.onFocusin=e}set onFocusout(e){this.nodeEvents.onFocusout=e}set onFocus(e){this.nodeEvents.onFocus=e}set onBlur(e){this.nodeEvents.onBlur=e}set onKeypress(e){this.nodeEvents.onKeypress=e}set onKeydown(e){this.nodeEvents.onKeydown=e}set onKeyup(e){this.nodeEvents.onKeyup=e}}function c(e){return o.isString(e)?function(e){let t=l.get(e);t||(t=new Function("w","h","return "+e),l.set(e,t));return t}(e):e}t.Node=a;const l=new Map},function(e,t,n){"use strict";function s(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),s(n(132)),s(n(133)),s(n(134)),s(n(135))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Shader=class{constructor(e){this.context=e,this._elements=new Set}static getWebGL(){}static getC2d(){}addElement(e){this._elements.add(e)}removeElement(e){this._elements.delete(e),this._elements||this.cleanup()}redraw(){this._elements.forEach(e=>{e.setHasRenderUpdates(2)})}useDefault(){return!1}addEmpty(){return!1}cleanup(){}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(20),r=n(10);class i extends s.C2dShader{constructor(){super(...arguments),this._rectangleTexture=this.context.stage.rectangleTexture.getUpdatedSource().nativeTexture,this._tintManager=this.context.stage.renderer.tintManager}draw(e,t){const n=e.length;for(let s=0;s<n;s++){const n=e.getTexture(s),i=e.getElementCore(s),o=e.getRenderContext(s),a=e.getWhite(s),c=e.getSimpleTc(s),l=t.context,u=this.context.stage.getPixelRatio();l.setTransform(o.ta*u,o.tc*u,o.tb*u,o.td*u,o.px*u,o.py*u);const h=n===this._rectangleTexture,d={operation:e,target:t,index:s,rect:h};if(h)a?l.fillStyle="white":this._setColorGradient(l,i),l.globalAlpha=o.alpha,this._beforeDrawEl(d),l.fillRect(0,0,i.getLayoutW(),i.getLayoutH()),this._afterDrawEl(d),l.globalAlpha=1;else{l.globalAlpha=o.alpha,this._beforeDrawEl(d);const e=c?0:i.ulx*n.w,t=c?0:i.uly*n.h,s=(c?1:i.brx-i.ulx)*n.w,u=(c?1:i.bry-i.uly)*n.h;if(!a){let o=i.colorUl;i.colorUl===i.colorUr&&i.colorUr===i.colorBl&&i.colorBr===i.colorBl||(o=r.ColorUtils.mergeMultiColorsEqual([i.colorUl,i.colorUr,i.colorBl,i.colorBr]));const a=(o/16777216|0)/255;l.globalAlpha*=a;const c=16777215&o,h=this._tintManager.getTintTexture(n,c);l.fillStyle="white",l.drawImage(h,e,t,s,u,0,0,i.getLayoutW(),i.getLayoutH())}else l.fillStyle="white",l.drawImage(n,e,t,s,u,0,0,i.getLayoutW(),i.getLayoutH());this._afterDrawEl(d),l.globalAlpha=1}}}_setColorGradient(e,t,n=t.getLayoutW(),s=t.getLayoutH(),i=!0){const o=t.colorUl;let a;t.colorUl===t.colorUr?t.colorBl===t.colorBr&&(t.colorUl===t.colorBl||(a=e.createLinearGradient(0,0,0,s),i?(a.addColorStop(0,r.ColorUtils.getRgbaString(t.colorUl)),a.addColorStop(1,r.ColorUtils.getRgbaString(t.colorBl))):(a.addColorStop(0,r.ColorUtils.getRgbString(t.colorUl)),a.addColorStop(1,r.ColorUtils.getRgbString(t.colorBl))))):t.colorUl===t.colorBl&&t.colorUr===t.colorBr&&(a=e.createLinearGradient(0,0,n,0),i?(a.addColorStop(0,r.ColorUtils.getRgbaString(t.colorUl)),a.addColorStop(1,r.ColorUtils.getRgbaString(t.colorBr))):(a.addColorStop(0,r.ColorUtils.getRgbString(t.colorUl)),a.addColorStop(1,r.ColorUtils.getRgbString(t.colorBr)))),e.fillStyle=a||(i?r.ColorUtils.getRgbaString(o):r.ColorUtils.getRgbString(o))}_beforeDrawEl(e){}_afterDrawEl(e){}}t.C2dDefaultShader=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(88),r=n(45),i=n(23),o=n(6);class a{constructor(e){this.id=a.id++,this._ref=void 0,this._attached=!1,this._enabled=!1,this._active=!1,this._parent=void 0,this._texture=void 0,this._displayedTexture=void 0,this._childList=void 0,this.listeners=void 0,this.data=void 0,this.stage=e,this._core=new s.ElementCore(this)}getListeners(){return this.listeners||(this.listeners=new i.ElementListeners),this.listeners}set ref(e){this._ref!==e&&(void 0!==this._ref&&void 0!==this._parent&&this._parent.childList.clearRef(this._ref),this._ref=e,this._ref&&this._parent&&this._parent.childList.setRef(this._ref,this))}get ref(){return this._ref}get core(){return this._core}setAsRoot(){this._core.setupAsRoot(),this._updateAttachedFlag(),this._updateEnabledFlag()}get isRoot(){return this._core.isRoot}_setParent(e){this._parent!==e&&(this._parent=e,this._updateAttachedFlag(),this._updateEnabledFlag(),this.isRoot&&e&&this._throwError("Root should not be added as a child! Results are unspecified!"))}get attached(){return this._attached}get enabled(){return this._enabled}get active(){return this._active}_isAttached(){return this._parent?this._parent._attached:this.isRoot}_isEnabled(){return this._core.visible&&this._core.alpha>0&&(this._parent?this._parent._enabled:this.isRoot)}_isActive(){return this._isEnabled()&&this.isWithinBoundsMargin()}_updateAttachedFlag(){const e=this._isAttached();if(this._attached!==e){if(this._attached=e,e&&this._onSetup(),this._childList){const e=this._childList.getItems();if(e){const t=e.length;if(t>0)for(let n=0;n<t;n++)e[n]._updateAttachedFlag()}}e?this._onAttach():this._onDetach()}}_updateEnabledFlag(){const e=this._isEnabled();if(this._enabled!==e&&(e?(this._onEnabled(),this._setEnabledFlag()):(this._onDisabled(),this._unsetEnabledFlag()),this._childList)){const e=this._childList.getItems();if(e){const t=e.length;if(t>0)for(let n=0;n<t;n++)e[n]._updateEnabledFlag()}}}_setEnabledFlag(){this._enabled=!0,this._updateTextureDimensions(),this.updateTextureCoords(),this._texture&&this._texture.addElement(this),this.isWithinBoundsMargin()&&this._setActiveFlag(),this._core.shader&&this._core.shader.addElement(this._core)}_unsetEnabledFlag(){this._active&&this._unsetActiveFlag(),this._texture&&this._texture.removeElement(this),this._core.shader&&this._core.shader.removeElement(this._core),this._enabled=!1}_setActiveFlag(){this._active=!0,this._texture&&this._texture.incActiveCount(),this._texture&&this._enableTexture(),this._onActive()}_unsetActiveFlag(){this._texture&&this._texture.decActiveCount(),this._active=!1,this._texture&&this._disableTexture(),this._hasTexturizer()&&this.texturizer.deactivate(),this._onInactive()}set onSetup(e){this.getListeners().onSetup=e}get onSetup(){return this.getListeners().onSetup}_onSetup(){this.listeners&&this.listeners.onSetup&&this.listeners.onSetup({element:this})}set onAttach(e){this.getListeners().onAttach=e}get onAttach(){return this.getListeners().onAttach}_onAttach(){this.listeners&&this.listeners.onAttach&&this.listeners.onAttach({element:this})}set onDetach(e){this.getListeners().onDetach=e}get onDetach(){return this.getListeners().onDetach}_onDetach(){this.listeners&&this.listeners.onDetach&&this.listeners.onDetach({element:this})}set onEnabled(e){this.getListeners().onEnabled=e}get onEnabled(){return this.getListeners().onEnabled}_onEnabled(){this.listeners&&this.listeners.onEnabled&&this.listeners.onEnabled({element:this})}set onDisabled(e){this.getListeners().onDisabled=e}get onDisabled(){return this.getListeners().onDisabled}_onDisabled(){this.listeners&&this.listeners.onDisabled&&this.listeners.onDisabled({element:this})}set onActive(e){this.getListeners().onActive=e}get onActive(){return this.getListeners().onActive}_onActive(){this.listeners&&this.listeners.onActive&&this.listeners.onActive({element:this})}set onInactive(e){this.getListeners().onInactive=e}get onInactive(){return this.getListeners().onInactive}_onInactive(){this.listeners&&this.listeners.onInactive&&this.listeners.onInactive({element:this})}set onTextureError(e){this.getListeners().onTextureError=e}get onTextureError(){return this.getListeners().onTextureError}_onTextureError(e,t){this.listeners&&this.listeners.onTextureError&&this.listeners.onTextureError({element:this,texture:t,error:e})}set onTextureLoaded(e){this.getListeners().onTextureLoaded=e}get onTextureLoaded(){return this.getListeners().onTextureLoaded}_onTextureLoaded(e){this.listeners&&this.listeners.onTextureLoaded&&this.listeners.onTextureLoaded({element:this,texture:e})}set onTextureUnloaded(e){this.getListeners().onTextureUnloaded=e}get onTextureUnloaded(){return this.getListeners().onTextureUnloaded}_onTextureUnloaded(e){this.listeners&&this.listeners.onTextureUnloaded&&this.listeners.onTextureUnloaded({element:this,texture:e})}set onResize(e){this.getListeners().onResize=e}get onResize(){return this.getListeners().onResize}_onResize(e,t){this.listeners&&this.listeners.onResize&&this.listeners.onResize({element:this,w:e,h:t})}get renderWidth(){return this._core.getRenderWidth()}get renderHeight(){return this._core.getRenderHeight()}get layoutX(){return this._core.getLayoutX()}get layoutY(){return this._core.getLayoutY()}get layoutW(){return this._core.getLayoutW()}get layoutH(){return this._core.getLayoutH()}textureIsLoaded(){return!!this._texture&&this._texture.isLoaded()}loadTexture(){this._texture&&(this._texture.load(),this._texture.isUsed()&&this._isEnabled()||this._updateTextureDimensions())}_enableTextureError(){const e=this._texture.loadError;e&&this._onTextureError(e,this._texture)}_enableTexture(){this._texture.isLoaded()?this.setDisplayedTexture(this._texture):(this.setDisplayedTexture(void 0),this._enableTextureError())}_disableTexture(){this.setDisplayedTexture(void 0)}get texture(){return this._texture}set texture(e){let t;t=e||void 0;const n=this._texture;t!==n&&(this._texture=t,this._texture?this._enabled&&(this._texture.addElement(this),this.isWithinBoundsMargin()&&(this._texture.isLoaded()?this.setDisplayedTexture(this._texture):this._enableTextureError())):this.setDisplayedTexture(void 0),n&&n!==this._displayedTexture&&n.removeElement(this),this._updateTextureDimensions())}get displayedTexture(){return this._displayedTexture}setDisplayedTexture(e){const t=this._displayedTexture;t&&e!==t&&this._texture!==t&&t.removeElement(this);const n=this._core.displayedTextureSource?this._core.displayedTextureSource:void 0,s=(e?e.getSource():void 0)!==n;this._displayedTexture=e,this._updateTextureDimensions(),this._displayedTexture?s&&(this.updateTextureCoords(),this._core.setDisplayedTextureSource(this._displayedTexture.getSource())):this._core.setDisplayedTextureSource(void 0),s&&(this._displayedTexture?this._onTextureLoaded(this._displayedTexture):t&&this._onTextureUnloaded(t))}onTextureSourceLoaded(){this.active&&this.setDisplayedTexture(this._texture)}onTextureSourceLoadError(e){this._onTextureError(e,this._texture)}forceRenderUpdate(){this._core.setHasRenderUpdates(3)}onDisplayedTextureClippingChanged(){this._updateTextureDimensions(),this.updateTextureCoords()}onPixelRatioChanged(){this._updateTextureDimensions()}_updateTextureDimensions(){let e=0,t=0;this._displayedTexture?(e=this._displayedTexture.getRenderWidth(),t=this._displayedTexture.getRenderHeight()):this._texture&&(e=this._texture.getRenderWidth(),t=this._texture.getRenderHeight());let n=!1;e&&t||!this._displayedTexture&&this._texture&&(e=e||this._texture.mw,t=t||this._texture.mh,e&&t||!this._texture.isAutosizeTexture()||(n=!0)),this._core.setTextureDimensions(e,t,n)}updateTextureCoords(){if(this.displayedTexture){const e=this.displayedTexture,t=this.displayedTexture.getSource();if(t){let n=0,s=0,r=1,i=1;if(e.hasClipping()){const o=t.getRenderWidth(),a=t.getRenderHeight();let c,l,u,h;c=1/o,l=1/a,u=e.pw?e.pw*c:(o-e.px)*c,h=e.ph?e.ph*l:(a-e.py)*l,c*=e.px,l*=e.py,n=c,s=l,r=r*u+c,i=i*h+l,n=Math.max(0,n),s=Math.max(0,s),r=Math.min(1,r),i=Math.min(1,i)}this._core.setTextureCoords(n,s,r,i)}}}getCornerPoints(){return this._core.getCornerPoints()}getByRef(e){return this.childList.getByRef(e)}getLocationString(){const e=this._parent?this._parent.childList.getIndex(this):"R";let t=this._parent?this._parent.getLocationString():"";return this.ref?t+=":["+e+"]"+this.ref:t+=":["+e+"]#"+this.id,t}toString(){const e=this.getSettings();return a.getPrettyString(e,"")}static getPrettyString(e,t){const n=e.children;delete e.children;const s=["color","colorUl","colorUr","colorBl","colorBr"];let r=JSON.stringify(e,(e,t)=>-1!==s.indexOf(e)?"COLOR["+t.toString(16)+"]":t);if(r=r.replace(/"COLOR\[([a-f0-9]{1,8})\]"/g,"0x$1"),n){let e="";if(o.Utils.isObjectLiteral(n)){const s=Object.keys(n);e="";for(let r=0,i=s.length;r<i;r++)e+=`\n${t}  "${s[r]}":`,delete n[s[r]].ref,e+=a.getPrettyString(n[s[r]],t+"  ")+(r<i-1?",":"");const i="{}"===r;r=r.substr(0,r.length-1)+(i?"":",")+e+"\n"+t+"}"}else{const s=n.length;e="[";for(let r=0;r<s;r++)e+=a.getPrettyString(n[r],t+"  ")+(r<s-1?",":"")+"\n";e+=t+"]}";const i="{}"===r;r=r.substr(0,r.length-1)+(i?"":",")+'"children":\n'+t+e+"}"}}return r}getSettings(){const e=this.getNonDefaults(),t=this.childList.getItems();if(t){const n=t.length;if(n){const s=[];let r=!1;for(let e=0;e<n;e++)s.push(t[e].getSettings()),r=r||!t[e].ref;r?e.children=s:(e.children={},s.forEach(t=>{e.children[t.ref]=t}))}}return e.id=this.id,e}getNonDefaults(){const e={};if(this.constructor!==a&&(e.type=this.constructor.name),this._ref&&(e.ref=this._ref),0!==this.x&&(e.x=this.x),0!==this.y&&(e.y=this.y),0!==this.w&&(e.w=this.w),0!==this.h&&(e.h=this.h),this.scaleX===this.scaleY?1!==this.scaleX&&(e.scale=this.scaleX):(1!==this.scaleX&&(e.scaleX=this.scaleX),1!==this.scaleY&&(e.scaleY=this.scaleY)),this.pivotX===this.pivotY?.5!==this.pivotX&&(e.pivot=this.pivotX):(.5!==this.pivotX&&(e.pivotX=this.pivotX),.5!==this.pivotY&&(e.pivotY=this.pivotY)),this.mountX===this.mountY?0!==this.mountX&&(e.mount=this.mountX):(0!==this.mountX&&(e.mountX=this.mountX),0!==this.mountY&&(e.mountY=this.mountY)),1!==this.alpha&&(e.alpha=this.alpha),this.visible||(e.visible=!1),0!==this.rotation&&(e.rotation=this.rotation),this.colorUl===this.colorUr&&this.colorBl===this.colorBr&&this.colorUl===this.colorBl?4294967295!==this.colorUl&&(e.color=this.colorUl.toString(16)):(4294967295!==this.colorUl&&(e.colorUl=this.colorUl.toString(16)),4294967295!==this.colorUr&&(e.colorUr=this.colorUr.toString(16)),4294967295!==this.colorBl&&(e.colorBl=this.colorBl.toString(16)),4294967295!==this.colorBr&&(e.colorBr=this.colorBr.toString(16))),this.zIndex&&(e.zIndex=this.zIndex),this.forceZIndexContext&&(e.forceZIndexContext=!0),this.clipping&&(e.clipping=this.clipping),this.clipbox||(e.clipbox=this.clipbox),this._texture){const t=this._texture.getNonDefaults();Object.keys(t).length&&(e.texture=t)}return this._hasTexturizer()&&(this.texturizer.enabled&&(e.renderToTexture=this.texturizer.enabled),this.texturizer.lazy&&(e.renderToTextureLazy=!0),this.texturizer.colorize&&(e.colorizeResultTexture=this.texturizer.colorize),this.texturizer.renderOffscreen&&(e.renderOffscreen=this.texturizer.renderOffscreen)),e}isWithinBoundsMargin(){return this._core.isWithinBoundsMargin()}_enableWithinBoundsMargin(){this._enabled&&this._setActiveFlag()}_disableWithinBoundsMargin(){this._active&&this._unsetActiveFlag()}set boundsMargin(e){this._core.boundsMargin=void 0===e?void 0:[e,e,e,e]}get boundsMargin(){return this._core.boundsMargin?this._core.boundsMargin[0]:void 0}set boundsMarginLeft(e){this._core.boundsMargin?this._core.boundsMargin[0]=e:this._core.boundsMargin=[e,100,100,100]}get boundsMarginLeft(){return this._core.boundsMargin?this._core.boundsMargin[0]:100}set boundsMarginTop(e){this._core.boundsMargin?this._core.boundsMargin[1]=e:this._core.boundsMargin=[100,e,100,100]}get boundsMarginTop(){return this._core.boundsMargin?this._core.boundsMargin[1]:100}set boundsMarginRight(e){this._core.boundsMargin?this._core.boundsMargin[2]=e:this._core.boundsMargin=[100,100,e,100]}get boundsMarginRight(){return this._core.boundsMargin?this._core.boundsMargin[2]:100}set boundsMarginBottom(e){this._core.boundsMargin?this._core.boundsMargin[3]=e:this._core.boundsMargin=[100,100,100,e]}get boundsMarginBottom(){return this._core.boundsMargin?this._core.boundsMargin[3]:100}get x(){return this._core.x}set x(e){this._core.x=e}get funcX(){return this._core.funcX}set funcX(e){this._core.funcX=e}get y(){return this._core.y}set y(e){this._core.y=e}get funcY(){return this._core.funcY}set funcY(e){this._core.funcY=e}get w(){return this._core.w}set w(e){this._core.w=e}get funcW(){return this._core.funcW}set funcW(e){this._core.funcW=e}get h(){return this._core.h}set h(e){this._core.h=e}get funcH(){return this._core.funcH}set funcH(e){this._core.funcH=e}get scaleX(){return this._core.scaleX}set scaleX(e){this._core.scaleX=e}get scaleY(){return this._core.scaleY}set scaleY(e){this._core.scaleY=e}get scale(){return this._core.scale}set scale(e){this._core.scale=e}get pivotX(){return this._core.pivotX}set pivotX(e){this._core.pivotX=e}get pivotY(){return this._core.pivotY}set pivotY(e){this._core.pivotY=e}get pivot(){return this._core.pivot}set pivot(e){this._core.pivot=e}get mountX(){return this._core.mountX}set mountX(e){this._core.mountX=e}get mountY(){return this._core.mountY}set mountY(e){this._core.mountY=e}get mount(){return this._core.mount}set mount(e){this._core.mount=e}get rotation(){return this._core.rotation}set rotation(e){this._core.rotation=e}get alpha(){return this._core.alpha}set alpha(e){this._core.alpha=e}get visible(){return this._core.visible}set visible(e){this._core.visible=e}get colorUl(){return this._core.colorUl}set colorUl(e){this._core.colorUl=e}get colorUr(){return this._core.colorUr}set colorUr(e){this._core.colorUr=e}get colorBl(){return this._core.colorBl}set colorBl(e){this._core.colorBl=e}get colorBr(){return this._core.colorBr}set colorBr(e){this._core.colorBr=e}get color(){return this._core.colorUl}set color(e){this.colorUl===e&&this.colorUr===e&&this.colorBl===e&&this.colorBr===e||(this.colorUl=e,this.colorUr=e,this.colorBl=e,this.colorBr=e)}get colorTop(){return this.colorUl}set colorTop(e){this.colorUl===e&&this.colorUr===e||(this.colorUl=e,this.colorUr=e)}get colorBottom(){return this.colorBl}set colorBottom(e){this.colorBl===e&&this.colorBr===e||(this.colorBl=e,this.colorBr=e)}get colorLeft(){return this.colorUl}set colorLeft(e){this.colorUl===e&&this.colorBl===e||(this.colorUl=e,this.colorBl=e)}get colorRight(){return this.colorUr}set colorRight(e){this.colorUr===e&&this.colorBr===e||(this.colorUr=e,this.colorBr=e)}get zIndex(){return this._core.zIndex}set zIndex(e){this._core.zIndex=e}get forceZIndexContext(){return this._core.forceZIndexContext}set forceZIndexContext(e){this._core.forceZIndexContext=e}get clipping(){return this._core.clipping}set clipping(e){this._core.clipping=e}get clipbox(){return this._core.clipbox}set clipbox(e){this._core.clipbox=e}get skipInLayout(){return this._core.skipInLayout}set skipInLayout(e){this._core.skipInLayout=e}get childList(){return this._childList||(this._childList=new r.ElementChildList(this)),this._childList}hasChildren(){return this._childList&&this._childList.length>0}get children(){return this.childList.getItems()}set children(e){this.childList.setItems(e)}get p(){return this._parent}get parent(){return this._parent}set mw(e){this.texture?(this.texture.mw=e,this._updateTextureDimensions()):this._throwError("Set mw after setting a texture.")}get mw(){return this.texture?this.texture.mw:0}set mh(e){this.texture?(this.texture.mh=e,this._updateTextureDimensions()):this._throwError("Set mh after setting a texture.")}get mh(){return this.texture?this.texture.mh:0}set onUpdate(e){this._core.onUpdate=e}get onUpdate(){return this._core.onUpdate}set onAfterCalcs(e){this._core.onAfterCalcs=e}get onAfterCalcs(){return this._core.onAfterCalcs}set onAfterUpdate(e){this._core.onAfterUpdate=e}get onAfterUpdate(){return this._core.onAfterUpdate}forceUpdate(){this._core._setHasUpdates()}get shader(){return this._core.shader}set shader(e){this._enabled&&this._core.shader&&this._core.shader.removeElement(this._core),this._core.shader=e,this._enabled&&this._core.shader&&this._core.shader.addElement(this._core)}_hasTexturizer(){return this._core.hasTexturizer()}get renderToTexture(){return this._hasTexturizer()&&this.texturizer.enabled}set renderToTexture(e){this.texturizer.enabled=e}get renderToTextureLazy(){return this._hasTexturizer()&&this.texturizer.lazy}set renderToTextureLazy(e){this.texturizer.lazy=e}get renderToTextureOffscreen(){return this._hasTexturizer()&&this.texturizer.renderOffscreen}set renderToTextureOffscreen(e){this.texturizer.renderOffscreen=e}get renderToTextureColorize(){return this._hasTexturizer()&&this.texturizer.colorize}set renderToTextureColorize(e){this.texturizer.colorize=e}getTexture(){return this.texturizer._getTextureSource()}get texturizer(){return this._core.texturizer}_throwError(e){throw new Error(this.constructor.name+" ("+this.getLocationString()+"): "+e)}get _flex(){return this._core.layout.flex}get _flexItem(){return this._core.layout.flexItem}set flex(e){this._flex.enabled=e}get flex(){return this._flex.enabled}set flexDirection(e){this._flex.direction=e}get flexDirection(){return this._flex.direction}set flexWrap(e){this._flex.wrap=e}get flexWrap(){return this._flex.wrap}set flexAlignItems(e){this._flex.alignItems=e}get flexAlignItems(){return this._flex.alignItems}set flexJustifyContent(e){this._flex.justifyContent=e}get flexJustifyContent(){return this._flex.justifyContent}set flexAlignContent(e){this._flex.alignContent=e}get flexAlignContent(){return this._flex.alignContent}set flexItem(e){this._flexItem.enabled=e}get flexItem(){return this._flexItem.enabled}set flexGrow(e){this._flexItem.grow=e}get flexGrow(){return this._flexItem.grow}set flexShrink(e){this._flexItem.shrink=e}get flexShrink(){return this._flexItem.shrink}set flexAlignSelf(e){this._flexItem.alignSelf=e}get flexAlignSelf(){return this._flexItem.alignSelf}set padding(e){this._flex.padding=e}get padding(){return this._flex.padding}set paddingLeft(e){this._flex.paddingLeft=e}get paddingLeft(){return this._flex.paddingLeft}set paddingRight(e){this._flex.paddingRight=e}get paddingRight(){return this._flex.paddingRight}set paddingTop(e){this._flex.paddingTop=e}get paddingTop(){return this._flex.paddingTop}set paddingBottom(e){this._flex.paddingBottom=e}get paddingBottom(){return this._flex.paddingBottom}set margin(e){this._flexItem.margin=e}get margin(){return this._flexItem.margin}set marginLeft(e){this._flexItem.marginLeft=e}get marginLeft(){return this._flexItem.marginLeft}set marginRight(e){this._flexItem.marginRight=e}get marginRight(){return this._flexItem.marginRight}set marginTop(e){this._flexItem.marginTop=e}get marginTop(){return this._flexItem.marginTop}set marginBottom(e){this._flexItem.marginBottom=e}get marginBottom(){return this._flexItem.marginBottom}set minWidth(e){this._flexItem.minWidth=e}get minWidth(){return this._flexItem.minWidth}set maxWidth(e){this._flexItem.maxWidth=e}get maxWidth(){return this._flexItem.maxWidth}set minHeight(e){this._flexItem.minHeight=e}get minHeight(){return this._flexItem.minHeight}set maxHeight(e){this._flexItem.maxHeight=e}get maxHeight(){return this._flexItem.maxHeight}}t.Element=a,a.id=1},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(4),r=n(8);class i extends r.Container{constructor(e){super(e),this.wrapper=new s.Element(this.stage),this.background=new s.Element(this.stage),this.el.childList.add(this.background),this.el.childList.add(this.wrapper),this.background.skipInLayout=!0,this.wrapper.skipInLayout=!0,this.wrapper.funcW=e=>e,this.wrapper.funcH=(e,t)=>t,this.containerElement=this.wrapper,this.wrapper.onResize=({element:e,w:t,h:n})=>this.handleResize(e,t,n),this.background.onTextureLoaded=({element:e,texture:t})=>this.handleTextureLoaded(e,t),this.background.ref="background"}get textureElement(){return this.background}handleTextureLoaded(e,t){var n;const s=null===(n=t.getSource())||void 0===n?void 0:n.getRenderInfo();this.background.x=-((null==s?void 0:s.offsetX)||0),this.background.y=-((null==s?void 0:s.offsetY)||0)}}t.DynamicSizeTexture=i},function(e,t,n){"use strict";function s(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(61),o=n(138);t.createRendererForStage=function(e){const{render:t}=r.createRenderer(Object.assign({patchProp:o.patchProp},i.nodeOps(e)));return t},s(n(3)),s(n(139))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(15);class r extends s.Shader{beforeDraw(e,t){}draw(e,t){}afterDraw(e,t){}}t.C2dShader=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(65),r=n(15);class i extends r.Shader{constructor(e){super(e),this.vertexShaderSource=void 0,this.fragmentShaderSource=void 0,this._initialized=!1;const t=e.stage;this.gl=t.gl;let n=t.renderer.getShaderProgram(this.getConstructor());n||(n=new s.WebGLShaderProgram(this.gl,this.constructor.prototype.vertexShaderSource,this.constructor.prototype.fragmentShaderSource),t.renderer.setShaderProgram(this.getConstructor(),n)),this._program=n}getConstructor(){return this.constructor}get glProgram(){return this._program.glProgram}_init(){this._initialized||(this.initialize(),this._initialized=!0)}initialize(){this._program.compile()}get initialized(){return this._initialized}_uniform(e){return this._program.getUniformLocation(e)}_attrib(e){return this._program.getAttribLocation(e)}_setUniform(e,t,n){this._program.setUniformValue(e,t,n)}useProgram(){this._init(),this.gl.useProgram(this.glProgram),this.beforeUsage(),this.enableAttribs()}stopProgram(){this.afterUsage(),this.disableAttribs()}hasSameProgram(e){return e&&(e===this||e._program===this._program)}beforeUsage(){}afterUsage(){}enableAttribs(){}disableAttribs(){}getExtraAttribBytesPerVertex(){return 0}getVertexAttribPointerOffset(e){return e.extraAttribsDataByteOffset-4*(e.index+1)*this.getExtraAttribBytesPerVertex()}setExtraAttribsInBuffer(e){}setupUniforms(e){}_getProjection(e){return e.getProjection()}getFlipY(e){return this._getProjection(e)[1]<0}beforeDraw(e){}draw(e){}afterDraw(e){}cleanup(){this._initialized=!1}}t.WebGLShader=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class s{constructor(e,t){this.manager=e,this.loader=t,this.id=s.id++,this.textures=new Set,this._activeTextureCount=0,this.lookupId=void 0,this.loadingSince=0,this.w=0,this.h=0,this._nativeTexture=void 0,this.permanent=!1,this.renderInfo=void 0,this._isResultTexture=!this.loader,this._loadError=void 0}get stage(){return this.manager.getStage()}get loadError(){return this._loadError}getRenderInfo(){return this.renderInfo}addTexture(e){this.textures.has(e)||this.textures.add(e)}removeTexture(e){this.textures.delete(e)}incActiveTextureCount(){this._activeTextureCount++,1===this._activeTextureCount&&this.becomesUsed()}decActiveTextureCount(){this._activeTextureCount--,0===this._activeTextureCount&&this.becomesUnused()}get isResultTexture(){return this._isResultTexture}set isResultTexture(e){this._isResultTexture=e}forEachEnabledElement(e){this.textures.forEach(t=>{t.getElements().forEach(t=>e(t))})}hasEnabledElements(){return this.textures.size>0}forEachActiveElement(e){this.textures.forEach(t=>{t.getElements().forEach(t=>{t.active&&e(t)})})}getRenderWidth(){return this.w}getRenderHeight(){return this.h}allowCleanup(){return!this.permanent&&!this.isUsed()}becomesUsed(){this.load()}becomesUnused(){this.cancel()}cancel(){this.isLoading()&&(this._cancelCb&&(this._cancelCb(this),this._cancelCb=void 0),this.loadingSince=0)}isLoaded(){return!!this._nativeTexture}isLoading(){return this.loadingSince>0}isError(){return!!this._loadError}reload(){this.free(),this.isUsed()&&this.load()}load(){if(!this.isResultTexture&&this.loader&&!this._nativeTexture&&!this.isLoading()){this.loadingSince=(new Date).getTime();const e=this.loader((e,t)=>{if(this.isLoading()){if(this._cancelCb=void 0,this.manager.getStage().isDestroyed())return;e?this.onError(e):t&&t.source&&this.processLoadedSource(t)}},this);this._cancelCb=e||void 0}}processLoadedSource(e){this.loadingSince=0,this.setSource(e)}setSource(e){const t=e.source;this.w=t.width||e&&e.width||0,this.h=t.height||e&&e.height||0,e&&e.renderInfo&&(this.renderInfo=e.renderInfo),this.permanent=!!e.permanent,this._isNativeTexture(t)?(this._nativeTexture=t,this.w=this.w||t.w,this.h=this.h||t.h,this.permanent=void 0!==e.permanent&&e.permanent):this.manager.uploadTextureSource(this,e),this._loadError=void 0,this.onLoad()}isUsed(){return this._activeTextureCount>0}onLoad(){this.isUsed()&&this.textures.forEach(e=>{e.onLoad()})}forceRenderUpdate(){this._nativeTexture&&(this._nativeTexture.updateFrame=this.stage.frameCounter),this.forEachActiveElement(e=>{e.forceRenderUpdate()})}forceUpdateRenderCoords(){this.forEachActiveElement(e=>{e.updateTextureCoords()})}get nativeTexture(){return this._nativeTexture}clearNativeTexture(){this._nativeTexture=void 0}replaceNativeTexture(e,t,n){const s=this._nativeTexture;this._nativeTexture=e,this.w=t,this.h=n,!s&&e&&this.forEachActiveElement(e=>e.onTextureSourceLoaded()),e||this.forEachActiveElement(e=>e.setDisplayedTexture(void 0)),this.forEachEnabledElement(e=>e._updateTextureDimensions())}onError(e){this._loadError=e,this.loadingSince=0,console.error("texture load error",e,this.lookupId),this.forEachActiveElement(t=>t.onTextureSourceLoadError(e))}free(){this.isLoaded()&&this.manager.freeTextureSource(this)}_isNativeTexture(e){return e instanceof WebGLTexture}setNotLoaded(){this.loadingSince=0}}t.TextureSource=s,s.id=0},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ElementListeners=class{constructor(){this.onSetup=void 0,this.onAttach=void 0,this.onDetach=void 0,this.onActive=void 0,this.onInactive=void 0,this.onEnabled=void 0,this.onDisabled=void 0,this.onResize=void 0,this.onTextureError=void 0,this.onTextureLoaded=void 0,this.onTextureUnloaded=void 0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(12);t.Handler=class{constructor(e,t){this.sourceType=e,this.name=t}matches(e,t){return this.name===t&&e instanceof this.sourceType}handle(e,t){const n=e[this.name];t?s.Patcher.patchObject(n,t):e[this.name]=void 0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class s{constructor(e){this.context=e,this.quadOperations=[],this.defaultShader=this.context.stage.renderer.getDefaultShader(this.context),this.renderer=this.context.stage.renderer,this.quadList=this.renderer.createCoreQuadList(),this.renderTextureInfo=void 0,this.shaderOwner=void 0,this.specifiedShader=void 0,this.usedShader=void 0,this.checkForChanges=!1,this.texturizer=void 0,this.pendingQuadOperation=void 0,this.temporaryTexturizers=[],this.isCachingTexturizer=!1,this.useTexturizerCache=!1}reset(){this.renderTextureInfo=void 0,this.scissor=void 0,this.usedShader=void 0,this.shaderOwner=void 0,this.specifiedShader=void 0,this.checkForChanges=!1,this.quadOperations=[],this.texturizer=void 0,this.pendingQuadOperation=void 0,this.quadList.reset(),this.temporaryTexturizers=[],this.isCachingTexturizer=!1,this.useTexturizerCache=!1}get length(){return this.quadList.length}setShader(e,t){this.shaderOwner===t&&this.specifiedShader===e||(this.specifiedShader=e,e.useDefault()&&(e=this.defaultShader),this.usedShader===e&&this.shaderOwner===t||(this.usedShader=e,this.shaderOwner=t,this.checkForChanges=!0))}setScissor(e){this.scissor!==e&&(this.scissor=e,this.checkForChanges=!0)}getScissor(){return this.scissor}setRenderTextureInfo(e){this.renderTextureInfo!==e&&(this.renderTextureInfo=e,this.scissor=void 0,this.checkForChanges=!0)}setTexturizer(e,t){this.texturizer=e,this.useTexturizerCache=t}addElementCore(e){let t;this.pendingQuadOperation?this.checkForChanges&&this._hasChanges()&&(this._finishQuadOperation(),this.checkForChanges=!1):this._createQuadOperation(),this.texturizer&&(t=this.texturizer.getResultTexture(),this.useTexturizerCache||this.temporaryTexturizers.push(this.texturizer)),t||(t=e.displayedTextureSource.nativeTexture),this.renderTextureInfo&&(this.usedShader===this.defaultShader&&this.renderTextureInfo.empty?(this.renderTextureInfo.reusableTexture=t,this.renderTextureInfo.reusableRenderStateOffset=this.length):this.renderTextureInfo.reusableTexture=void 0,this.renderTextureInfo.empty=!1),this.pendingQuadOperation.length++,this.addQuad(t,e)}finishedRenderTexture(){this.renderTextureInfo&&this.renderTextureInfo.reusableTexture&&(this._isRenderTextureReusable()||(this.renderTextureInfo.reusableTexture=void 0))}_isRenderTextureReusable(){const e=this.renderTextureInfo,t=e.reusableRenderStateOffset,n=this.quadList.getTexture(t);return n.w===e.w&&n.h===e.h&&this.isRenderTextureReusable(e)}_hasChanges(){const e=this.pendingQuadOperation;return this.usedShader!==e.shader||(this.shaderOwner!==e.shaderOwner||(this.renderTextureInfo!==e.renderTextureInfo||!s.scissorsEqual(this.scissor,e.scissor)))}static scissorsEqual(e,t){return!(e!==t||!e||!t||e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3])}_finishQuadOperation(e=!0){if(this.pendingQuadOperation){if((this.pendingQuadOperation.length||this.usedShader&&this.usedShader.addEmpty())&&(!this.pendingQuadOperation.scissor||this.pendingQuadOperation.scissor[2]>0&&this.pendingQuadOperation.scissor[3]>0)&&this.quadOperations.push(this.pendingQuadOperation),this.temporaryTexturizers.length){for(let e=0,t=this.temporaryTexturizers.length;e<t;e++)this.temporaryTexturizers[e].releaseRenderTexture();this.temporaryTexturizers=[]}this.pendingQuadOperation=void 0}e&&this._createQuadOperation()}_createQuadOperation(){this.pendingQuadOperation=this.renderer.createCoreQuadOperation(this.context,this.usedShader,this.shaderOwner,this.renderTextureInfo,this.scissor,this.length),this.checkForChanges=!1}finish(){this.pendingQuadOperation&&this._finishQuadOperation(!1),this.finishRenderState()}}t.CoreRenderState=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(33);t.Base=class{constructor(e){this.element=void 0,this.children=new Set,this.parent=void 0,this.firstChild=null,this.lastChild=null,this.prevSibling=null,this.nextSibling=null,this.mustSync=!1,this.element=e}appendChild(e){e.unlinkSiblings(),e.parent=this,this.children.add(e),this.firstChild||(this.firstChild=e),e.prevSibling=this.lastChild,e.nextSibling=null,this.lastChild&&(this.lastChild.nextSibling=e),this.lastChild=e,this.registerSync()}unlinkSiblings(){var e,t;(null===(e=this.parent)||void 0===e?void 0:e.firstChild)===this&&(this.parent.firstChild=this.nextSibling),(null===(t=this.parent)||void 0===t?void 0:t.lastChild)===this&&(this.parent.lastChild=this.prevSibling),this.prevSibling&&(this.prevSibling.nextSibling=this.nextSibling),this.nextSibling&&(this.nextSibling.prevSibling=this.prevSibling),this.prevSibling=null,this.nextSibling=null}removeChild(e){e.unlinkSiblings(),e.parent=void 0,this.children.delete(e),this.registerSync()}insertBefore(e,t){e.unlinkSiblings(),e.parent=this,t.prevSibling&&(e.prevSibling=t.prevSibling,t.prevSibling.nextSibling=e),t.prevSibling=e,e.nextSibling=t,this.firstChild===t&&(this.firstChild=e),this.children.add(e),this.registerSync()}clearChildren(){this.children.forEach(e=>{e.parent=void 0,e.prevSibling=null,e.nextSibling=null}),this.children=new Set,this.firstChild=null,this.lastChild=null,this.registerSync()}registerSync(){this.mustSync||(this.mustSync=!0,i(this))}syncWithTree2d(){this.mustSync=!1}setElementText(e){}};let r=void 0;const i=e=>{r&&r!==e&&r.syncWithTree2d(),r||s.nextTick().then(()=>{o()}),r=e},o=()=>{r&&r.syncWithTree2d(),r=void 0}},function(e,t,n){"use strict";function s(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});const r=n(28),i=n(30),o=n(31),a=n(32);t.setupEvents=(e,t)=>{r.setupMouseEvents(e,t),i.setupTouchEvents(e,t);const n=o.setupFocusEvents(e,t);return a.setupKeyboardEvents(e,t),{focusManager:n}},s(n(125)),s(n(28)),s(n(30)),s(n(31)),s(n(32))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(29),r=(e,n)=>r=>{const i=((e,t)=>{var n,r;const{currentElement:i,canvasOffsetX:o,canvasOffsetY:a}=s.getCurrentContext(t,e),c=null==i?void 0:i.element.data;return{cancelBubble:!1,type:t.type,currentTarget:null!=c?c:null,target:null!=c?c:null,canvasOffsetX:o,canvasOffsetY:a,elementOffsetX:null!==(n=null==i?void 0:i.offsetX)&&void 0!==n?n:0,elementOffsetY:null!==(r=null==i?void 0:i.offsetY)&&void 0!==r?r:0,currentElement:i,originalEvent:t}})(e,r);t.dispatchVugelMouseEvent(i,n),r.preventDefault()};t.dispatchVugelMouseEvent=(e,t)=>{var n;const r=t.activeNode,i=null===(n=e.currentElement)||void 0===n?void 0:n.element.data;switch(e.type){case"auxclick":case"click":case"contextmenu":case"dblclick":case"mousedown":case"mouseup":null==i||i.dispatchBubbledEvent(e);break;case"mouseenter":t.activeNode=void 0,i&&(t.activeNode=i,i.dispatchBubbledEvent(e,!0));break;case"mouseover":t.activeNode=void 0,i&&(t.activeNode=i,null==i||i.dispatchBubbledEvent(e));break;case"mouseleave":null==r||r.dispatchBubbledEvent(e,!0);break;case"mouseout":null==r||r.dispatchBubbledEvent(Object.assign(Object.assign({},e),{target:r}));break;case"mousemove":if(void 0!==i&&r!=i){const t=s.getCommonAncestor(r,i);null==r||r.dispatchBubbledEvent(Object.assign(Object.assign({},e),{type:"mouseout",target:r})),null==r||r.dispatchBubbledEvent(Object.assign(Object.assign({},e),{type:"mouseleave",target:r}),t),i.dispatchBubbledEvent(Object.assign(Object.assign({},e),{type:"mouseover"})),i.dispatchBubbledEvent(Object.assign(Object.assign({},e),{type:"mouseenter"}),t)}null==i||i.dispatchBubbledEvent(e),t.activeNode=i}},t.mouseEventTranslator={auxclick:"onAuxclick",click:"onClick",contextmenu:"onContextmenu",dblclick:"onDblclick",mousedown:"onMousedown",mouseenter:"onMouseenter",mouseleave:"onMouseleave",mousemove:"onMousemove",mouseout:"onMouseout",mouseover:"onMouseover",mouseup:"onMouseup"},t.setupMouseEvents=(e,n)=>{const s={};for(const i in t.mouseEventTranslator)e.addEventListener(i,r(n,s))}},function(e,t,n){"use strict";function s(e,t){const n=t.getCanvas().getBoundingClientRect();return{x:e.pageX-(n.left+window.scrollX),y:e.pageY-(n.top+window.scrollY)}}function r(e){const t=[];let n=e;do{t.push(n),n=n.parent}while(void 0!==n);return t.reverse()}Object.defineProperty(t,"__esModule",{value:!0}),t.getCanvasOffset=s,t.getCurrentContext=function(e,t){const{x:n,y:r}=s(e,t);return{currentElement:t.getElementsAtCoordinates(n,r).find(e=>{var t;return null===(t=e.element.data)||void 0===t?void 0:t.capturePointerEvents()}),canvasOffsetX:n,canvasOffsetY:r}},t.getAncestors=r,t.getCommonAncestor=function(e,t){if(!e||!t)return;const n=r(e),s=r(t),i=Math.min(n.length,s.length);let o;for(o=0;o<i&&n[o]===s[o];o++);return o>0?n[o-1]:void 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(27),r=n(29),i=(e,t)=>n=>{const i=((e,t)=>{var n,s;let i;const o=t.type;i="touchend"===o||"touchcancel"===o?t.changedTouches[0]:t.touches[0];const{currentElement:a,canvasOffsetX:c,canvasOffsetY:l}=r.getCurrentContext(i,e),u=null==a?void 0:a.element.data;return{cancelBubble:!1,type:t.type,currentTarget:null!=u?u:null,target:null!=u?u:null,canvasOffsetX:c,canvasOffsetY:l,elementOffsetX:null!==(n=null==a?void 0:a.offsetX)&&void 0!==n?n:0,elementOffsetY:null!==(s=null==a?void 0:a.offsetY)&&void 0!==s?s:0,originalEvent:t,currentElement:a}})(e,n);let o;switch(n.type){case"touchstart":o="mousedown";break;case"touchend":case"touchcancel":o="mouseup";break;case"touchmove":o="mousemove"}const a=Object.assign(Object.assign({},i),{type:o,currentElement:i.currentElement});s.dispatchVugelMouseEvent(a,t)};t.touchEventTranslator={touchcancel:"onTouchcancel",touchend:"onTouchend",touchmove:"onTouchmove",touchstart:"onTouchstart"},t.setupTouchEvents=(e,n)=>{const s={};for(const r in t.touchEventTranslator)e.addEventListener(r,i(n,s))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(29);class r{constructor(e,t){this.canvasElement=e,this.stage=t,this.focusedNode=void 0,this.updatingFocusPath=!1,this.ensureCanvasFocusable(),this.canvasElement.addEventListener("click",e=>this.onCanvasClick(e)),this.canvasElement.addEventListener("blur",e=>this.onCanvasBlur(e))}getFocusedNode(){return this.focusedNode}ensureCanvasFocusable(){this.canvasElement.hasAttribute("tabindex")||this.canvasElement.setAttribute("tabindex","-1")}onCanvasClick(e){const{currentElement:t}=s.getCurrentContext(e,this.stage),n=null==t?void 0:t.element.data;this.setFocus(n)}onCanvasBlur(e){this.setFocus(void 0)}setFocus(e){this.updatingFocusPath?console.warn("It's not allowed to focus from within a focus-related event. Use setInterval to schedule a focus change."):this.focusedNode!==e&&this.updateFocusPath(e)}updateFocusPath(e){this.updatingFocusPath=!0;const t=this.focusedNode,n=s.getCommonAncestor(this.focusedNode,e);this.focusedNode=e,t&&t.dispatchBubbledEvent(this.createFocusEvent("focusout",t,e),n),e&&e.dispatchBubbledEvent(this.createFocusEvent("focusin",e,t),n),t&&t.dispatchEvent(this.createFocusEvent("blur",t,e)),e&&e.dispatchEvent(this.createFocusEvent("focus",e,t)),this.updatingFocusPath=!1}createFocusEvent(e,t,n){return{cancelBubble:!1,type:e,relatedTarget:null!=n?n:null,target:null!=t?t:null,currentTarget:null,originalEvent:void 0}}}t.FocusEvents=r,t.focusEventTranslator={focusin:"onFocusin",focusout:"onFocusout",focus:"onFocus",blur:"onBlur"},t.setupFocusEvents=(e,t)=>new r(e,t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=e=>n=>{const s=((e,t)=>{let n=e.eventHelpers.focusManager.getFocusedNode();return n||(n=e.root.data),{cancelBubble:!1,type:t.type,currentTarget:null!=n?n:null,target:null!=n?n:null,originalEvent:t}})(e,n);s&&t.dispatchVugelKeyboardEvent(s)};t.dispatchVugelKeyboardEvent=e=>{var t;null===(t=e.target)||void 0===t||t.dispatchBubbledEvent(e)},t.keyboardEventTranslator={keypress:"onKeypress",keydown:"onKeydown",keyup:"onKeyup"},t.setupKeyboardEvents=(e,n)=>{for(const r in t.keyboardEventTranslator)e.addEventListener(r,s(n))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(57);t.compileVugel=s.compileVugel;var r=n(140);t.Vugel=r.Vugel;var i=n(34);t.compile=i.compile,t.parse=i.parse,function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(19))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(58),r=n(59).parserOptionsMinimal;t.compile=function(e,t={}){return s.baseCompile(e,Object.assign(Object.assign(Object.assign({},r),t),{nodeTransforms:[...t.nodeTransforms||[]],directiveTransforms:Object.assign({},t.directiveTransforms||{})}))},t.parse=function(e,t={}){return s.baseParse(e,Object.assign(Object.assign({},r),t))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(16),r=n(36);class i extends s.C2dDefaultShader{constructor(e){super(e),this._amount=1}static getWebGL(){return r.WebGLGrayscaleShader}set amount(e){this._amount=e,this.redraw()}get amount(){return this._amount}useDefault(){return 0===this._amount}_beforeDrawEl(e){e.target.context.filter="grayscale("+this._amount+")"}_afterDrawEl(e){e.target.context.filter="none"}}t.C2dGrayscaleShader=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(5),r=n(35);class i extends s.WebGLDefaultShader{constructor(e){super(e),this._amount=1}static getC2d(){return r.C2dGrayscaleShader}set amount(e){this._amount=e,this.redraw()}get amount(){return this._amount}useDefault(){return 0===this._amount}setupUniforms(e){super.setupUniforms(e),this._setUniform("amount",this._amount,this.gl.uniform1f)}}t.WebGLGrayscaleShader=i,i.prototype.fragmentShaderSource="\n    #ifdef GL_ES\n    precision lowp float;\n    #endif\n    varying vec2 vTextureCoord;\n    varying vec4 vColor;\n    uniform sampler2D uSampler;\n    uniform float amount;\n    void main(void){\n        vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n        float grayness = 0.2 * color.r + 0.6 * color.g + 0.2 * color.b;\n        gl_FragColor = vec4(amount * vec3(grayness, grayness, grayness) + (1.0 - amount) * color.rgb, color.a);\n    }\n"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(7);class r extends s.Texture{_getLookupId(){return"__noise"}_getSourceLoader(){const e=this.stage.gl;return t=>{const n=new Uint8Array(65536);for(let e=0;e<65536;e+=4){const t=Math.floor(256*Math.random());n[e]=t,n[e+1]=t,n[e+2]=t,n[e+3]=255}const s={};e&&(s[e.TEXTURE_WRAP_S]=e.REPEAT,s[e.TEXTURE_WRAP_T]=e.REPEAT,s[e.TEXTURE_MIN_FILTER]=e.NEAREST,s[e.TEXTURE_MAG_FILTER]=e.NEAREST),t(void 0,{source:n,width:128,height:128,texParams:s})}}}t.NoiseTexture=r},function(e,t,n){"use strict";function s(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),s(n(79)),s(n(80)),s(n(81)),s(n(37)),s(n(82)),s(n(83)),s(n(84)),s(n(85)),s(n(39))},function(e,t,n){"use strict";function s(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),s(n(86)),s(n(40))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TextTextureRenderer=class{constructor(e,t,n,s,r){this.stage=e,this.canvas=t,this.text=n,this.settings=s,this.pixelRatio=r,this._context=this.canvas.getContext("2d")}setFontProperties(){this._context.font=this._getFontSetting()}_getFontSetting(){const e=this.settings.fontWeight||400;return`${this.settings.fontStyle||"normal"} ${e} ${(this.settings.fontSize||40)*this.pixelRatio}px ${this._getFontFaces().join(",")}`}_getFontFaces(){let e=this.settings.fontFace;return e||(e=this.stage.defaultFontFace),e?e.map(e=>"serif"===e||"sans-serif"===e?e:`"${e}"`):[]}_load(){const e=document.fonts;if(e){const t=this._getFontSetting();try{if(!e.check(t,this.text))return e.load(t,this.text).catch(e=>{console.warn("Font load error",e,t)}).then(()=>{e.check(t,this.text)||console.warn("Font not found",t)})}catch(e){console.warn("Can't check font loading for "+t)}}}draw(){const e=this._load();if(e)return e.then(()=>{this._draw()});this._draw()}_draw(){const e={},t=this.pixelRatio;let{fontSize:n=40,cutSx:s=0,cutEx:r=0,cutSy:i=0,cutEy:o=0}=this.settings;const a=this.text;n*=t,s*=t,r*=t,i*=t,o*=t,this.setFontProperties();const c=this._context.measureText(a);e.sizeInfo=c;let l=Math.ceil(c.width),u=Math.ceil(n);e.w=l,e.h=u,e.pixelRatio=t,l||(l=1),u||(u=1),(s||r)&&(l=Math.min(l,r-s)),(i||o)&&(u=Math.min(u,o-i)),this.canvas.width=l,this.canvas.height=u,this.setFontProperties(),(s||i)&&this._context.translate(-s,-i),this._context.textBaseline="top",this._context.fillStyle="white",this._context.fillText(a,0,0),(s||i)&&this._context.translate(s,i),this.renderInfo=e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(92);t.FlexContainer=class{constructor(e){this.node=e,this.horizontal=!0,this.reverse=!1,this.layout=new s.FlexLayouter(this),this._wrap=!1,this._alignItems="stretch",this._justifyContent="flex-start",this._alignContent="flex-start",this._paddingLeft=0,this._paddingTop=0,this._paddingRight=0,this._paddingBottom=0,this._enabled=!1}get enabled(){return this._enabled}set enabled(e){e!==this._enabled&&(this._enabled=e,this.node.setFlexEnabled(e))}get direction(){return this.horizontal?this.reverse?"row-reverse":"row":this.reverse?"column-reverse":"column"}set direction(e){this.direction!==e&&(this.horizontal="row"===e||"row-reverse"===e,this.reverse="row-reverse"===e||"column-reverse"===e,this.changedContents())}set wrap(e){this._wrap=e,this.changedContents()}get wrap(){return this._wrap}get alignItems(){return this._alignItems}set alignItems(e){this._alignItems!==e&&(this._alignItems=e,this.changedContents())}get alignContent(){return this._alignContent}set alignContent(e){this._alignContent!==e&&(this._alignContent=e,this.changedContents())}get justifyContent(){return this._justifyContent}set justifyContent(e){this._justifyContent!==e&&(this._justifyContent=e,this.changedContents())}set padding(e){this.paddingLeft=e,this.paddingTop=e,this.paddingRight=e,this.paddingBottom=e}get padding(){return this.paddingLeft}set paddingLeft(e){this._paddingLeft=e,this.changedDimensions()}get paddingLeft(){return this._paddingLeft}set paddingTop(e){this._paddingTop=e,this.changedDimensions()}get paddingTop(){return this._paddingTop}set paddingRight(e){this._paddingRight=e,this.changedDimensions()}get paddingRight(){return this._paddingRight}set paddingBottom(e){this._paddingBottom=e,this.changedDimensions()}get paddingBottom(){return this._paddingBottom}changedDimensions(){this.node.forceLayout()}changedContents(){this.node.changedContents()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSpacing=function e(t,n,s){const r=n-1;let i,o,a;switch(t){case"flex-start":o=0,a=0;break;case"flex-end":o=s,a=0;break;case"center":o=s/2,a=0;break;case"space-between":o=0,a=Math.max(0,s)/r;break;case"space-around":if(s<0)return e("center",n,s);i=s/(r+1),o=.5*i,a=i;break;case"space-evenly":if(s<0)return e("center",n,s);i=s/(r+2),o=i,a=i;break;case"stretch":o=0,a=0;break;default:throw new Error("Unknown mode: "+t)}return{spacingBefore:o,spacingBetween:a}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class s{constructor(e){this.node=e,this._grow=0,this._shrink=s.SHRINK_AUTO,this._minWidth=0,this._minHeight=0,this._maxWidth=0,this._maxHeight=0,this._marginLeft=0,this._marginTop=0,this._marginRight=0,this._marginBottom=0,this._enabled=!0}getContainer(){return this.container}setContainer(e){this.container=e}get enabled(){return this._enabled}set enabled(e){if(e!==this._enabled){const t=this.node.flexParent;this._enabled=e,this.node.updateEnabledFlag(),t&&t.changedChildren();const n=this.node.flexParent;n&&n.changedChildren()}}get grow(){return this._grow}set grow(e){this._grow!==e&&(this._grow=e,this._changed())}set shrink(e){this._shrink!==e&&(this._shrink=e,this._changed())}get shrink(){return this._shrink===s.SHRINK_AUTO?this.getDefaultShrink():this._shrink}getDefaultShrink(){return this.node.isFlexEnabled()?1:0}get alignSelf(){return this._alignSelf}set alignSelf(e){this._alignSelf!==e&&(this._alignSelf=void 0===e?void 0:e,this._changed())}get minWidth(){return this._minWidth}set minWidth(e){this._minWidth=Math.max(0,e),this.node.forceLayout(!0,!1)}get minHeight(){return this._minHeight}set minHeight(e){this._minHeight=Math.max(0,e),this.node.forceLayout(!1,!0)}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth=Math.max(0,e),this.node.forceLayout(!0,!1)}get maxHeight(){return this._maxHeight}set maxHeight(e){this._maxHeight=Math.max(0,e),this.node.forceLayout(!1,!0)}set margin(e){this.marginLeft=e,this.marginTop=e,this.marginRight=e,this.marginBottom=e}get margin(){return this.marginLeft}set marginLeft(e){this._marginLeft=e,this._changed()}get marginLeft(){return this._marginLeft}set marginTop(e){this._marginTop=e,this._changed()}get marginTop(){return this._marginTop}set marginRight(e){this._marginRight=e,this._changed()}get marginRight(){return this._marginRight}set marginBottom(e){this._marginBottom=e,this._changed()}get marginBottom(){return this._marginBottom}_changed(){this.container&&this.container.changedContents()}resetLayoutSize(){this.resetHorizontalAxisLayoutSize(),this.resetVerticalAxisLayoutSize()}resetCrossAxisLayoutSize(){this.horizontal?this.resetVerticalAxisLayoutSize():this.resetHorizontalAxisLayoutSize()}resetHorizontalAxisLayoutSize(){let e=this.node.getRelAxisSize(!0);this._minWidth&&(e=Math.max(this._minWidth,e)),this._maxWidth&&(e=Math.min(this._maxWidth,e)),this.node.setAxisLayoutSize(!0,e)}resetVerticalAxisLayoutSize(){let e=this.node.getRelAxisSize(!1);this._minHeight&&(e=Math.max(this._minHeight,e)),this._maxHeight&&(e=Math.min(this._maxHeight,e)),this.node.setAxisLayoutSize(!1,e)}getCrossAxisMinSizeSetting(){return this.getMinSizeSetting(!this.horizontal)}getCrossAxisMaxSizeSetting(){return this.getMaxSizeSetting(!this.horizontal)}getMainAxisMaxSizeSetting(){return this.getMaxSizeSetting(this.horizontal)}getMinSizeSetting(e){return e?this._minWidth:this._minHeight}getMaxSizeSetting(e){return e?this._maxWidth:this._maxHeight}get horizontal(){return this.container.horizontal}getMainAxisMinSize(){return this.node.getAxisMinSize(this.horizontal)}getCrossAxisMinSize(){return this.node.getAxisMinSize(!this.horizontal)}getMainAxisLayoutSize(){return this.node.getAxisLayoutSize(this.horizontal)}getMainAxisLayoutPos(){return this.node.getAxisLayoutPos(this.horizontal)}setMainAxisLayoutPos(e){return this.node.setAxisLayoutPos(this.horizontal,e)}setCrossAxisLayoutPos(e){return this.node.setAxisLayoutPos(!this.horizontal,e)}getCrossAxisLayoutSize(){return this.node.getAxisLayoutSize(!this.horizontal)}resizeCrossAxis(e){return this.node.resizeAxis(!this.horizontal,e)}resizeMainAxis(e){return this.node.resizeAxis(this.horizontal,e)}getMainAxisPadding(){return this.node.getTotalPadding(this.horizontal)}getCrossAxisPadding(){return this.node.getTotalPadding(!this.horizontal)}getMainAxisMargin(){return this.node.getTotalMargin(this.horizontal)}getCrossAxisMargin(){return this.node.getTotalMargin(!this.horizontal)}getMainAxisMinSizeWithPaddingAndMargin(){return this.getMainAxisMinSize()+this.getMainAxisPadding()+this.getMainAxisMargin()}getCrossAxisMinSizeWithPaddingAndMargin(){return this.getCrossAxisMinSize()+this.getCrossAxisPadding()+this.getCrossAxisMargin()}getMainAxisLayoutSizeWithPaddingAndMargin(){return this.getMainAxisLayoutSize()+this.getMainAxisPadding()+this.getMainAxisMargin()}getCrossAxisLayoutSizeWithPaddingAndMargin(){return this.getCrossAxisLayoutSize()+this.getCrossAxisPadding()+this.getCrossAxisMargin()}hasFixedCrossAxisSize(){return!this.node.isZeroAxisSize(!this.horizontal)}hasRelCrossAxisSize(){return!!(this.horizontal?this.node.sourceFuncH:this.node.sourceFuncW)}}t.FlexItem=s,s.SHRINK_AUTO=-1},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(41),r=n(43);class i{constructor(e){this.subject=e,this._recalc=0,this._enabled=!1,this.x=0,this.y=0,this.w=0,this.h=0,this._skip=!1}get flexLayout(){return this.isFlexEnabled()?this.flex.layout:void 0}layoutFlexTree(){this.isFlexEnabled()&&this.flexLayout.layoutTree()}get flex(){return this._ensureFlex(),this._flex}_ensureFlex(){this._flex||(this._flex=new s.FlexContainer(this))}setFlexEnabled(e){this._skip||(e?this.enableFlex():this.disableFlex())}enableFlex(){this.forceLayout(),this.enableChildrenAsFlexItems(),this.updateEnabledFlag()}disableFlex(){this.forceLayout(),this.disableChildrenAsFlexItems(),this.updateEnabledFlag()}get skip(){return this._skip}set skip(e){this._skip!==e&&(e?this.setSkipped():this.unsetSkipped())}setSkipped(){const e=this.flexParent,t=this.isFlexEnabled();this._skip=!0,t&&this.disableFlex(),e&&(this.disableFlexItem(),this.enableChildrenAsFlexItems(),e.changedChildren())}unsetSkipped(){var e;this._skip=!1,(null===(e=this.getParent())||void 0===e?void 0:e.isFlexEnabled())&&(this.disableChildrenAsFlexItems(),this.enableFlexItem(),this.getParent().changedChildren()),this._flex&&this._flex.enabled&&this.enableFlex()}isFlexEnabled(){return!this._skip&&!!this._flex&&this._flex.enabled}isFlexItemEnabled(){return!this._skip&&void 0!==this.flexParent}isEnabled(){return this.isFlexEnabled()||this.isFlexItemEnabled()}get flexItem(){return this.ensureFlexItem(),this._flexItem}ensureFlexItem(){this._flexItem||(this._flexItem=new r.FlexItem(this))}getChildren(){const e=[],t=this.subject.getChildren();if(t){const n=t.length;for(let s=0;s<n;s++){const n=t[s];i.gatherChildren(n,e)}}return e}static gatherChildren(e,t){if(e.hasLayout()&&e.getLayout().skip){const n=e.getChildren();if(n){const e=n.length;for(let s=0;s<e;s++){const e=n[s];this.gatherChildren(e,t)}}}else t.push(e.getLayout())}enableChildrenAsFlexItems(){const e=this.getChildren();if(e)for(let t=0,n=e.length;t<n;t++){e[t].enableFlexItem()}}disableChildrenAsFlexItems(){const e=this.getChildren();if(e)for(let t=0,n=e.length;t<n;t++){e[t].disableFlexItem()}}enableFlexItem(){this.ensureFlexItem();const e=this.getParent();this._flexItem.setContainer(e._flex),e.changedContents(),this.updateEnabledFlag()}disableFlexItem(){this._flexItem&&this._flexItem.setContainer(void 0),this.updateEnabledFlag()}updateEnabledFlag(){const e=this.isEnabled();this._enabled!==e&&(e||this.disable(),this._enabled=e)}disable(){this.restoreSubjectToNonFlex()}restoreSubjectToNonFlex(){const e=this.subject;e.setLayoutCoords(e.getSourceX(),e.getSourceY()),e.setLayoutDimensions(e.getSourceW(),e.getSourceH())}getParent(){const e=i.getActiveLayoutSubject(this.subject.getParent());return e?e.getLayout():void 0}setParent(e,t){const n=i.getActiveLayoutNode(e);(null==n?void 0:n.isFlexEnabled())&&n.changedChildren();const s=i.getActiveLayoutNode(t);(null==s?void 0:s.isFlexEnabled())?(this._skip?this.enableChildrenAsFlexItems():this.enableFlexItem(),s.changedChildren()):(null==n?void 0:n.isFlexEnabled())&&(this._skip?this.disableChildrenAsFlexItems():this.disableFlexItem(),n.changedChildren())}get flexParent(){if(!this.flexItem.enabled)return;const e=this.getParent();return e&&e.isFlexEnabled()?e:void 0}updateVisible(){const e=this.flexParent;e&&e.changedChildren()}get items(){return this._items||(this._items=this.getFlexItems()),this._items}getFlexItems(){const e=[],t=this.getChildren();if(t)for(let n=0,s=t.length;n<s;n++){const s=t[n];s.subject.isDisplayed()&&s.isFlexItemEnabled()&&e.push(s)}return e}changedChildren(){this.clearFlexItemsCache(),this.changedContents()}clearFlexItemsCache(){this._items=void 0}setLayout(e,t,n,s){const r=this.subject;let i=r.getSourceX(),o=r.getSourceY();this.sourceFuncX&&(i=this.sourceFuncX(this.getParentAxisSizeWithPadding(!0),this.getParentAxisSizeWithPadding(!1))),this.sourceFuncY&&(o=this.sourceFuncY(this.getParentAxisSizeWithPadding(!0),this.getParentAxisSizeWithPadding(!1))),this.isFlexItemEnabled()?r.setLayoutCoords(e+i,t+o):r.setLayoutCoords(i,o),r.setLayoutDimensions(n,s)}forceLayout(e=!0,t=!0){this.updateRecalc(e,t)}changedContents(){this.updateRecalc()}isChanged(){return this._recalc>0}updateRecalc(e=!1,t=!1){if(this.isFlexEnabled()){const n=this._flex.layout;e=e||n.isAxisFitToContents(!0),t=t||n.isAxisFitToContents(!1)}const n=1+(e?2:0)+(t?4:0),s=this.getNewRecalcFlags(n);this._recalc|=n,s>1&&this.flexParent?this.flexParent.updateRecalcBottomUp(n):this.subject.triggerLayout()}getNewRecalcFlags(e){return 7-this._recalc&e}updateRecalcBottomUp(e){const t=this._getRecalcFromChangedChildRecalc(e),n=this.getNewRecalcFlags(t);if(this._recalc|=t,n>1){const e=this.flexParent;e?e.updateRecalcBottomUp(t):this.subject.triggerLayout()}else this.subject.triggerLayout()}_getRecalcFromChangedChildRecalc(e){const t=this._flex.layout,n=t.horizontal?1:2,s=t.horizontal?2:1;if(!(e&s)){if(e&n){if(t.isWrapping()){t.isCrossAxisFitToContents()&&(e+=s)}}}let r=t.isAxisFitToContents(!0),i=t.isAxisFitToContents(!1);return t.hasShrunk()&&(t.horizontal?r=!0:i=!0),e&1+(r?2:0)+(i?4:0)}get recalc(){return this._recalc}clearRecalcFlag(){this._recalc=0}enableLocalRecalcFlag(){this._recalc=1}updatedSourceW(){this.forceLayout(!0,!1)}updatedSourceH(){this.forceLayout(!1,!0)}get sourceFuncX(){return this.subject.getSourceFuncX()}get sourceFuncY(){return this.subject.getSourceFuncY()}get sourceFuncW(){return this.subject.getSourceFuncW()}get sourceFuncH(){return this.subject.getSourceFuncH()}getAxisLayoutSize(e){return e?this.w:this.h}setAxisLayoutSize(e,t){e?this.w=t:this.h=t}getAxisLayoutPos(e){return e?this.x:this.y}setAxisLayoutPos(e,t){e?this.x=t:this.y=t}getParentAxisSizeWithPadding(e){const t=this.getParent();if(t){if(t.isFlexEnabled())return t.getAxisLayoutSize(e)+t.getTotalPadding(e);{const n=t.subject;return e?n.getLayoutW():n.getLayoutH()}}return 0}getHorizontalPaddingOffset(){return this.getPaddingOffset(!0)}getVerticalPaddingOffset(){return this.getPaddingOffset(!1)}getPaddingOffset(e){if(this.isFlexEnabled()){const t=this.flex;return e?t.paddingLeft:t.paddingTop}return 0}getHorizontalPadding(){return this.getTotalPadding(!0)}getVerticalPadding(){return this.getTotalPadding(!1)}getTotalPadding(e){if(this.isFlexEnabled()){const t=this.flex;return e?t.paddingRight+t.paddingLeft:t.paddingTop+t.paddingBottom}return 0}getRelAxisSize(e){return e?this.sourceFuncW?this.allowRelAxisSizeFunction(!0)?this.sourceFuncW(this.getParentAxisSizeWithPadding(!0),this.getParentAxisSizeWithPadding(!1)):0:this.subject.getSourceW():this.sourceFuncH?this.allowRelAxisSizeFunction(!1)?this.sourceFuncH(this.getParentAxisSizeWithPadding(!0),this.getParentAxisSizeWithPadding(!1)):0:this.subject.getSourceH()}getMarginOffset(e){const t=this.flexItem;return t?e?t.marginLeft:t.marginTop:0}getHorizontalMarginOffset(){return this.getMarginOffset(!0)}getVerticalMarginOffset(){return this.getMarginOffset(!1)}getTotalMargin(e){const t=this.flexItem;return t?e?t.marginRight+t.marginLeft:t.marginTop+t.marginBottom:0}allowRelAxisSizeFunction(e){const t=this.flexParent;return!t||!t.flex.layout.isAxisFitToContents(e)}isZeroAxisSize(e){return e?!this.subject.getSourceW()&&!this.sourceFuncW:!this.subject.getSourceH()&&!this.sourceFuncH}getAxisMinSize(e){let t=this.getPlainAxisMinSize(e),n=0;return this.isFlexItemEnabled()&&(n=this.flexItem.getMinSizeSetting(e)),n>0&&(t=Math.max(t,n)),t}getPlainAxisMinSize(e){if(this.isFlexEnabled())return this.flex.layout.getAxisMinLineSize(e);return 0!==this.flexItem.shrink?0:this.getRelAxisSize(e)}resizeAxis(e,t){if(this.isFlexEnabled()){const n=this.flex;n.horizontal===e?n.layout.resizeMainAxis(t):n.layout.resizeCrossAxis(t)}else this.setAxisLayoutSize(e,t)}isLayoutRoot(){return this.isFlexEnabled()&&!this.isFlexItemEnabled()}static getActiveLayoutNode(e){var t;return null===(t=this.getActiveLayoutSubject(e))||void 0===t?void 0:t.getLayout()}static getActiveLayoutSubject(e){let t=e;for(;t&&t.hasLayout()&&t.getLayout().skip;)t=t.getParent();return t}}t.FlexNode=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(46),r=e=>e.core;class i extends s.ObjectList{constructor(e){super(),this.element=e}getIndex(e){return e.parent!==this.element?-1:super.getIndex(e)}itemInList(e){return e.parent===this.element}onAdd(e,t){this.connectParent(e),this.element.core.addChildAt(t,e.core)}onRemove(e,t){e._setParent(void 0),this.element.core.removeChildAt(t)}onSync(e,t,n){for(let t=0,n=e.length;t<n;t++)e[t]._setParent(void 0);for(let e=0,n=t.length;e<n;e++)this.connectParent(t[e]);this.element.core.syncChildren(e.map(r),t.map(r),n.map(r))}onSet(e,t,n){n._setParent(void 0),this.connectParent(e),this.element.core.setChildAt(t,e.core)}onMove(e,t,n){this.element.core.moveChild(t,n)}connectParent(e){const t=e.parent;if(t&&t!==this.element){const n=t.childList,s=n.getIndex(e);n.removeSilently(s),t.core.removeChildAt(s)}e._setParent(this.element)}}t.ElementChildList=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(6);t.ObjectList=class{constructor(){this._items=[],this._refs={}}getItems(){return this._items}get first(){return this._items[0]}get last(){return this._items.length?this._items[this._items.length-1]:void 0}add(e){this.itemInList(e)||(e.ref&&(this._refs[e.ref]=e),this._items.push(e),this.onAdd(e,this._items.length-1))}itemInList(e){return-1!==this.getIndex(e)}addAt(e,t){if(!(t>=0&&t<=this._items.length))throw new Error("addAt: The index "+t+" is out of bounds "+this._items.length);{let n=-1;if(n=this.getIndex(e),n===t)return;-1!==n?this.setAt(e,t):(e.ref&&(this._refs[e.ref]=e),this._items.splice(t,0,e),this.onAdd(e,t))}}replaceByRef(e){if(!e.ref)throw new Error("replaceByRef: no ref specified in item");{const t=this.getByRef(e.ref);if(!t)throw new Error("replaceByRef: no item found with reference: "+e.ref);this.replace(e,t)}this.addAt(e,this._items.length)}replace(e,t){const n=this.getIndex(t);if(-1===n)throw new Error("replace: The previous item does not exist");this.setAt(e,n)}setAt(e,t){if(!(t>=0&&t<=this._items.length))throw new Error("setAt: The index "+t+" is out of bounds "+this._items.length);{const n=this.getIndex(e);if(-1!==n){if(n!==t){const s=n;s!==t&&(this._items.splice(s,1),this._items.splice(t,0,e),this.onMove(e,s,t))}}else{if(t<this._items.length){const e=this._items[t].ref;e&&(this._refs[e]=void 0)}const n=this._items[t];this._items[t]=e,e.ref&&(this._refs[e.ref]=e),this.onSet(e,t,n)}}}getAt(e){return this._items[e]}getIndex(e){return this._items.indexOf(e)}remove(e){const t=this._items.indexOf(e);-1!==t&&this.removeAt(t)}removeAt(e){const t=this.removeSilently(e);return this.onRemove(t,e),t}removeSilently(e){const t=this._items[e];return t.ref&&(this._refs[t.ref]=void 0),this._items.splice(e,1),t}clear(){if(this._items.length){const e=this._items;this._items=[],this._refs={},this.onSync(e,[],[])}}get length(){return this._items.length}getRefs(){return this._refs}getByRef(e){return this._refs[e]}clearRef(e){delete this._refs[e]}setRef(e,t){this._refs[e]=t}setItems(e){const t=this._items;this._items=e;const n=new Set(t),r=[];for(let t=0,s=e.length;t<s;t++){n.delete(e[t])||r.push(e[t])}const i=s.Utils.setToArray(n);if(i.length||r.length){this._refs={};for(let e=0,t=this._items.length;e<t;e++){const t=this._items[e].ref;t&&(this._refs[t]=this._items[e])}}this.onSync(i,r,e)}sort(e){const t=this._items.slice();t.sort(e),this.onSync([],[],t)}onAdd(e,t){}onRemove(e,t){}onSync(e,t,n){}onSet(e,t,n){}onMove(e,t,n){}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(12))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(24),r=n(12),i=n(6);class o extends s.Handler{constructor(e,t,n,s){super(e,t),this.type=n,s||(s=e=>[]),this.getCArgs=s}handle(e,t){const n=e[this.name];if(t)if(i.Utils.isObjectLiteral(t))if(!t.type||n&&n.type===t.type)n?r.Patcher.patchObject(n,t):e[this.name]=void 0;else{const n=this.getCArgs(e);e[this.name]=r.Patcher.createObject(t,this.type,...n)}else e[this.name]=t;else e[this.name]=void 0}}t.SingleReferenceHandler=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CoreQuadList=class{constructor(){this.quadTextures=[],this.quadElementCores=[]}get length(){return this.quadTextures.length}reset(){this.quadTextures=[],this.quadElementCores=[]}getElement(e){return this.quadElementCores[e].element}getElementCore(e){return this.quadElementCores[e]}getTexture(e){return this.quadTextures[e]}getTextureWidth(e){const t=this.quadTextures[e];return t.w?t.w:this.quadElementCores[e].displayedTextureSource.w}getTextureHeight(e){const t=this.quadTextures[e];return t.h?t.h:this.quadElementCores[e].displayedTextureSource.h}add(e,t){this.quadTextures.push(e),this.quadElementCores.push(t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CoreQuadOperation=class{constructor(e,t,n,s,r,i){this.context=e,this.shader=t,this.shaderOwner=n,this.renderTextureInfo=s,this.scissor=r,this.index=i,this.length=0}get quadList(){return this.context.renderState.quadList}getTexture(e){return this.quadList.getTexture(this.index+e)}getElementCore(e){return this.quadList.getElementCore(this.index+e)}getElement(e){return this.quadList.getElement(this.index+e)}getElementWidth(e){return this.getElement(e).renderWidth}getElementHeight(e){return this.getElement(e).renderHeight}getTextureWidth(e){return this.quadList.getTextureWidth(this.index+e)}getTextureHeight(e){return this.quadList.getTextureHeight(this.index+e)}getRenderWidth(){return this.renderTextureInfo?this.renderTextureInfo.w:this.context.stage.w}getRenderHeight(){return this.renderTextureInfo?this.renderTextureInfo.h:this.context.stage.h}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CoreRenderExecutor=class{constructor(e){this.context=e,this.renderState=e.renderState}destroy(){}_reset(){this._bindRenderTexture(void 0),this._setScissor(void 0),this._clearRenderTexture()}execute(){this._reset();const e=this.renderState.quadOperations;let t=0;const n=e.length;for(;t<n;)this._processQuadOperation(e[t]),t++}_processQuadOperation(e){e.renderTextureInfo&&e.renderTextureInfo.ignore||(this._setupQuadOperation(e),this._execQuadOperation(e))}_setupQuadOperation(e){}_execQuadOperation(e){const t=e.renderTextureInfo?e.renderTextureInfo.renderTexture:void 0;this._renderTexture!==t&&this._bindRenderTexture(t),e.renderTextureInfo&&!e.renderTextureInfo.cleared?(this._setScissor(void 0),this._clearRenderTexture(),e.renderTextureInfo.cleared=!0,this._setScissor(e.scissor)):this._setScissor(e.scissor),this._renderQuadOperation(e)}_renderQuadOperation(e){}_bindRenderTexture(e){this._renderTexture=e}_clearRenderTexture(){}_setScissor(e){}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Renderer=class{constructor(e){this.stage=e,this._defaultShader=void 0}gc(e){}getDefaultShader(e=this.stage.context){return this._defaultShader||(this._defaultShader=this._createDefaultShader(e)),this._defaultShader}isValidShaderType(e){return e.prototype instanceof this._getShaderBaseType()}getSupportedShaderType(e){if(this.isValidShaderType(e))return e;{const t=this._getShaderAlternative(e);if(!t)return;return t}}_getShaderAlternative(e){}onResizeCanvasSize(){}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(22);t.TextureManager=class{constructor(e){this.stage=e,this._usedMemory=0,this._uploadedTextureSources=[],this.textureSourceHashmap=new Map}get usedMemory(){return this._usedMemory}destroy(){for(let e=0,t=this._uploadedTextureSources.length;e<t;e++)this._nativeFreeTextureSource(this._uploadedTextureSources[e]);this.textureSourceHashmap.clear(),this._usedMemory=0}getReusableTextureSource(e){return this.textureSourceHashmap.get(e)}getTextureSource(e,t){let n=t?this.textureSourceHashmap.get(t):void 0;return n||(n=new s.TextureSource(this,e),t&&(n.lookupId=t,this.textureSourceHashmap.set(t,n))),n}uploadTextureSource(e,t){if(e.isLoaded())return;this._addMemoryUsage(e.w*e.h);const n=this._nativeUploadTextureSource(e,t);e._nativeTexture=n,n.w=e.w,n.h=e.h,n.updateFrame=this.stage.frameCounter,this._uploadedTextureSources.push(e),this.addToLookupMap(e)}_addMemoryUsage(e){this._usedMemory+=e,this.stage.addMemoryUsage(e)}addToLookupMap(e){const t=e.lookupId;t&&(this.textureSourceHashmap.has(t)||this.textureSourceHashmap.set(t,e))}gc(){this.freeUnusedTextureSources(),this._cleanupLookupMap()}freeUnusedTextureSources(){const e=[];for(let t=0,n=this._uploadedTextureSources.length;t<n;t++){const n=this._uploadedTextureSources[t];n.allowCleanup()?this._freeManagedTextureSource(n):e.push(n)}this._uploadedTextureSources=e,this._cleanupLookupMap()}_freeManagedTextureSource(e){e.isLoaded()&&(this._nativeFreeTextureSource(e),this._addMemoryUsage(-e.w*e.h)),e.setNotLoaded()}_cleanupLookupMap(){this.textureSourceHashmap.forEach((e,t)=>{e.isLoaded()||e.isLoading()||e.isUsed()||this.textureSourceHashmap.delete(t)})}freeTextureSource(e){const t=this._uploadedTextureSources.indexOf(e),n=-1!==t;e.isLoaded()&&(n&&(this._addMemoryUsage(-e.w*e.h),this._uploadedTextureSources.splice(t,1)),this._nativeFreeTextureSource(e)),e.setNotLoaded()}_nativeUploadTextureSource(e,t){return this.stage.renderer.uploadTextureSource(e,t)}_nativeFreeTextureSource(e){this.stage.renderer.freeTextureSource(e),e.clearNativeTexture()}getStage(){return this.stage}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(11);t.TextTextureSettings=class{constructor(e){this.onChange=e,this.textSettings={}}set"font-size"(e){this.textSettings.fontSize=s.ensureFloat(e),this.onChange()}set"font-style"(e){this.textSettings.fontStyle=e,this.onChange()}set"font-weight"(e){this.textSettings.fontWeight=s.ensureFloat(e),this.onChange()}set"font-face"(e){Array.isArray(e)||(e=[e]),this.textSettings.fontFace=e,this.onChange()}set"cut-start-x"(e){this.textSettings.cutSx=s.ensureFloat(e),this.onChange()}set"cut-start-y"(e){this.textSettings.cutSy=s.ensureFloat(e),this.onChange()}set"cut-end-x"(e){this.textSettings.cutEx=s.ensureFloat(e),this.onChange()}set"cut-end-y"(e){this.textSettings.cutEy=s.ensureFloat(e),this.onChange()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Delegator=class{static delegate(e,t,n){const s=Object.getOwnPropertyDescriptors(t.prototype),r=Object.keys(s);for(let t=0,i=r.length;t<i;t++){const i=r[t];"constructor"!==i&&this.delegateProperty(i,s[i],e.prototype,n)}}static delegateProperty(e,t,n,s){const r=Object.assign({},t);r.get&&(r.get=function(){return this[s][e]}),r.set&&(r.set=function(t){this[s][e]=t}),r.value&&r.value instanceof Function&&(r.value=function(...t){return this[s][e](...t)}),Object.defineProperty(n,e,r)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(13),r=n(11),i=n(4),o=n(9),a=n(55);class c extends s.Node{constructor(e){super(e),this.settings=new o.TextTextureSettings(()=>this.update()),this._text="",this._lineHeight=0,this._fontColor=4294967295,this.el.flex=!0,this.el.flexWrap=!0}set"line-height"(e){this._lineHeight=r.ensureFloat(e),this.update()}set"font-color"(e){this._fontColor=r.ensureColor(e),this.update()}set text(e){this._text=e,this.update()}setElementText(e){this._text=e.trim(),this.update()}update(){const e=this.settings.textSettings,t=e.fontSize||24,n=Math.round(this._lineHeight||1.3*t),s=Math.round(.2*t),r=Math.round(n-t),o=this._fontColor||4294967295,a=this._text.replace(/(\r?\n)/,` ${c.newlinePattern} `).split(/\s+/);if(a.length>1||""!=a[0]){const t=a.map(t=>{const n=new i.Element(this.stage);if(t===c.newlinePattern)n.funcW=e=>e,n.h=0;else{const a=new i.TextTexture(this.stage);a.text=t,a.setSettings(e),n.texture=a,n.marginRight=s,n.marginTop=Math.round(.8*r),n.marginBottom=Math.round(.2*r),n.color=o}return n});this.el.childList.setItems(t)}}}t.Paragraph=c,c.newlinePattern="@+~^",a.Delegator.delegate(c,o.TextTextureSettings,"settings")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(3),r=n(34),i=n(19),o=Object.create(null);t.compileVugel=function(e,t){if("string"!=typeof e){if(!e.nodeType)return s.warn("invalid template option: ",e),()=>{};e=e.innerHTML}const n=e,a=o[n];if(a)return a;if("#"===e[0]){const t=document.querySelector(e);t||s.warn("Template element not found or is empty: "+e),e=t?t.innerHTML:""}const{code:c}=r.compile(e,Object.assign({hoistStatic:!0,onError(e){const t="Template compilation error: "+e.message,n=e.loc;s.warn(n?`${t}\n${n}`:t)}},t)),l=new Function("Vue",c)(i);return o[n]=l}},function(e,t,n){"use strict";n.r(t),n.d(t,"BASE_TRANSITION",(function(){return u})),n.d(t,"CAMELIZE",(function(){return j})),n.d(t,"CREATE_BLOCK",(function(){return d})),n.d(t,"CREATE_COMMENT",(function(){return p})),n.d(t,"CREATE_SLOTS",(function(){return T})),n.d(t,"CREATE_STATIC",(function(){return _})),n.d(t,"CREATE_TEXT",(function(){return g})),n.d(t,"CREATE_VNODE",(function(){return f})),n.d(t,"FRAGMENT",(function(){return o})),n.d(t,"KEEP_ALIVE",(function(){return l})),n.d(t,"MERGE_PROPS",(function(){return O})),n.d(t,"OPEN_BLOCK",(function(){return h})),n.d(t,"POP_SCOPE_ID",(function(){return R})),n.d(t,"PUSH_SCOPE_ID",(function(){return A})),n.d(t,"RENDER_LIST",(function(){return y})),n.d(t,"RENDER_SLOT",(function(){return C})),n.d(t,"RESOLVE_COMPONENT",(function(){return x})),n.d(t,"RESOLVE_DIRECTIVE",(function(){return v})),n.d(t,"RESOLVE_DYNAMIC_COMPONENT",(function(){return m})),n.d(t,"SET_BLOCK_TRACKING",(function(){return E})),n.d(t,"SUSPENSE",(function(){return c})),n.d(t,"TELEPORT",(function(){return a})),n.d(t,"TO_DISPLAY_STRING",(function(){return S})),n.d(t,"TO_HANDLERS",(function(){return w})),n.d(t,"WITH_CTX",(function(){return M})),n.d(t,"WITH_DIRECTIVES",(function(){return b})),n.d(t,"WITH_SCOPE_ID",(function(){return L})),n.d(t,"advancePositionWithClone",(function(){return de})),n.d(t,"advancePositionWithMutation",(function(){return fe})),n.d(t,"assert",(function(){return pe})),n.d(t,"baseCompile",(function(){return an})),n.d(t,"baseParse",(function(){return Ae})),n.d(t,"buildProps",(function(){return Yt})),n.d(t,"buildSlots",(function(){return Wt})),n.d(t,"createArrayExpression",(function(){return U})),n.d(t,"createAssignmentExpression",(function(){return Q})),n.d(t,"createBlockStatement",(function(){return $})),n.d(t,"createCacheExpression",(function(){return Y})),n.d(t,"createCallExpression",(function(){return H})),n.d(t,"createCompilerError",(function(){return i})),n.d(t,"createCompoundExpression",(function(){return V})),n.d(t,"createConditionalExpression",(function(){return G})),n.d(t,"createForLoopParams",(function(){return kt})),n.d(t,"createFunctionExpression",(function(){return X})),n.d(t,"createIfStatement",(function(){return Z})),n.d(t,"createInterpolation",(function(){return W})),n.d(t,"createObjectExpression",(function(){return B})),n.d(t,"createObjectProperty",(function(){return N})),n.d(t,"createReturnStatement",(function(){return J})),n.d(t,"createRoot",(function(){return I})),n.d(t,"createSequenceExpression",(function(){return K})),n.d(t,"createSimpleExpression",(function(){return D})),n.d(t,"createStructuralDirectiveTransform",(function(){return lt})),n.d(t,"createTemplateLiteral",(function(){return q})),n.d(t,"createTransformContext",(function(){return ot})),n.d(t,"createVNodeCall",(function(){return k})),n.d(t,"findDir",(function(){return ge})),n.d(t,"findProp",(function(){return _e})),n.d(t,"generate",(function(){return ut})),n.d(t,"getBaseTransformPreset",(function(){return on})),n.d(t,"getInnerRange",(function(){return he})),n.d(t,"hasDynamicKeyVBind",(function(){return me})),n.d(t,"hasScopeRef",(function(){return Oe})),n.d(t,"helperNameMap",(function(){return P})),n.d(t,"injectProp",(function(){return Te})),n.d(t,"isBindKey",(function(){return xe})),n.d(t,"isBuiltInType",(function(){return ee})),n.d(t,"isCoreComponent",(function(){return te})),n.d(t,"isMemberExpression",(function(){return ue})),n.d(t,"isSimpleIdentifier",(function(){return ce})),n.d(t,"isSlotOutlet",(function(){return Ce})),n.d(t,"isTemplateNode",(function(){return ye})),n.d(t,"isText",(function(){return ve})),n.d(t,"isVSlot",(function(){return be})),n.d(t,"loadDep",(function(){return re})),n.d(t,"locStub",(function(){return F})),n.d(t,"noopDirectiveTransform",(function(){return cn})),n.d(t,"parseJS",(function(){return ie})),n.d(t,"processExpression",(function(){return bt})),n.d(t,"processFor",(function(){return Lt})),n.d(t,"processIf",(function(){return wt})),n.d(t,"processSlotOutlet",(function(){return Qt})),n.d(t,"registerRuntimeHelpers",(function(){return z})),n.d(t,"resolveComponentType",(function(){return Gt})),n.d(t,"toValidAssetId",(function(){return Se})),n.d(t,"trackSlotScopes",(function(){return Bt})),n.d(t,"trackVForSlotScopes",(function(){return Nt})),n.d(t,"transform",(function(){return at})),n.d(t,"transformBind",(function(){return en})),n.d(t,"transformElement",(function(){return Xt})),n.d(t,"transformExpression",(function(){return vt})),n.d(t,"transformModel",(function(){return sn})),n.d(t,"transformOn",(function(){return Jt})),n.d(t,"traverseNode",(function(){return ct})),n.d(t,"walkJS",(function(){return oe}));var s=n(0);function r(e){throw e}function i(e,t,n,s){const r=new SyntaxError(String(e));return r.code=e,r.loc=t,r}n.d(t,"generateCodeFrame",(function(){return s.j}));const o=Symbol(""),a=Symbol(""),c=Symbol(""),l=Symbol(""),u=Symbol(""),h=Symbol(""),d=Symbol(""),f=Symbol(""),p=Symbol(""),g=Symbol(""),_=Symbol(""),x=Symbol(""),m=Symbol(""),v=Symbol(""),b=Symbol(""),y=Symbol(""),C=Symbol(""),T=Symbol(""),S=Symbol(""),O=Symbol(""),w=Symbol(""),j=Symbol(""),E=Symbol(""),A=Symbol(""),R=Symbol(""),L=Symbol(""),M=Symbol(""),P={[o]:"Fragment",[a]:"Teleport",[c]:"Suspense",[l]:"KeepAlive",[u]:"BaseTransition",[h]:"openBlock",[d]:"createBlock",[f]:"createVNode",[p]:"createCommentVNode",[g]:"createTextVNode",[_]:"createStaticVNode",[x]:"resolveComponent",[m]:"resolveDynamicComponent",[v]:"resolveDirective",[b]:"withDirectives",[y]:"renderList",[C]:"renderSlot",[T]:"createSlots",[S]:"toDisplayString",[O]:"mergeProps",[w]:"toHandlers",[j]:"camelize",[E]:"setBlockTracking",[A]:"pushScopeId",[R]:"popScopeId",[L]:"withScopeId",[M]:"withCtx"};function z(e){Object.getOwnPropertySymbols(e).forEach(t=>{P[t]=e[t]})}const F={source:"",start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0}};function I(e,t=F){return{type:0,children:e,helpers:[],components:[],directives:[],hoists:[],imports:[],cached:0,temps:0,codegenNode:void 0,loc:t}}function k(e,t,n,s,r,i,o,a=!1,c=!1,l=F){return e&&(a?(e.helper(h),e.helper(d)):e.helper(f),o&&e.helper(b)),{type:13,tag:t,props:n,children:s,patchFlag:r,dynamicProps:i,directives:o,isBlock:a,isForBlock:c,loc:l}}function U(e,t=F){return{type:17,loc:t,elements:e}}function B(e,t=F){return{type:15,loc:t,properties:e}}function N(e,t){return{type:16,loc:F,key:Object(s.y)(e)?D(e,!0):e,value:t}}function D(e,t,n=F,s=!1){return{type:4,loc:n,isConstant:s,content:e,isStatic:t}}function W(e,t){return{type:5,loc:t,content:Object(s.y)(e)?D(e,!1,t):e}}function V(e,t=F){return{type:8,loc:t,children:e}}function H(e,t=[],n=F){return{type:14,loc:n,callee:e,arguments:t}}function X(e,t,n=!1,s=!1,r=F){return{type:18,params:e,returns:t,newline:n,isSlot:s,loc:r}}function G(e,t,n,s=!0){return{type:19,test:e,consequent:t,alternate:n,newline:s,loc:F}}function Y(e,t,n=!1){return{type:20,index:e,value:t,isVNode:n,loc:F}}function $(e){return{type:21,body:e,loc:F}}function q(e){return{type:22,elements:e,loc:F}}function Z(e,t,n){return{type:23,test:e,consequent:t,alternate:n,loc:F}}function Q(e,t){return{type:24,left:e,right:t,loc:F}}function K(e){return{type:25,expressions:e,loc:F}}function J(e){return{type:26,returns:e,loc:F}}const ee=(e,t)=>e===t||e===Object(s.m)(t);function te(e){return ee(e,"Teleport")?a:ee(e,"Suspense")?c:ee(e,"KeepAlive")?l:ee(e,"BaseTransition")?u:void 0}let ne,se;function re(e){return window._deps[e]}const ie=(e,t)=>(pe(!1,"Expression AST analysis can only be performed in non-browser builds."),ne||(ne=re("@babel/parser").parse),ne(e,t)),oe=(e,t)=>(pe(!1,"Expression AST analysis can only be performed in non-browser builds."),(se||(se=re("estree-walker").walk))(e,t)),ae=/^\d|[^\$\w]/,ce=e=>!ae.test(e),le=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\[[^\]]+\])*$/,ue=e=>le.test(e);function he(e,t,n){const s={source:e.source.substr(t,n),start:de(e.start,e.source,t),end:e.end};return null!=n&&(s.end=de(e.start,e.source,t+n)),s}function de(e,t,n=t.length){return fe({...e},t,n)}function fe(e,t,n=t.length){let s=0,r=-1;for(let e=0;e<n;e++)10===t.charCodeAt(e)&&(s++,r=e);return e.offset+=n,e.line+=s,e.column=-1===r?e.column+n:n-r,e}function pe(e,t){if(!e)throw new Error(t||"unexpected compiler condition")}function ge(e,t,n=!1){for(let r=0;r<e.props.length;r++){const i=e.props[r];if(7===i.type&&(n||i.exp)&&(Object(s.y)(t)?i.name===t:t.test(i.name)))return i}}function _e(e,t,n=!1,s=!1){for(let r=0;r<e.props.length;r++){const i=e.props[r];if(6===i.type){if(n)continue;if(i.name===t&&(i.value||s))return i}else if("bind"===i.name&&i.exp&&xe(i.arg,t))return i}}function xe(e,t){return!(!e||4!==e.type||!e.isStatic||e.content!==t)}function me(e){return e.props.some(e=>!(7!==e.type||"bind"!==e.name||e.arg&&4===e.arg.type&&e.arg.isStatic))}function ve(e){return 5===e.type||2===e.type}function be(e){return 7===e.type&&"slot"===e.name}function ye(e){return 1===e.type&&3===e.tagType}function Ce(e){return 1===e.type&&2===e.tagType}function Te(e,t,n){let r;const i=13===e.type?e.props:e.arguments[2];if(null==i||Object(s.y)(i))r=B([t]);else if(14===i.type){const e=i.arguments[0];Object(s.y)(e)||15!==e.type?i.arguments.unshift(B([t])):e.properties.unshift(t),r=i}else if(15===i.type){let e=!1;if(4===t.key.type){const n=t.key.content;e=i.properties.some(e=>4===e.key.type&&e.key.content===n)}e||i.properties.unshift(t),r=i}else r=H(n.helper(O),[B([t]),i]);13===e.type?e.props=r:e.arguments[2]=r}function Se(e,t){return`_${t}_${e.replace(/[^\w]/g,"_")}`}function Oe(e,t){if(!e||0===Object.keys(t).length)return!1;switch(e.type){case 1:for(let n=0;n<e.props.length;n++){const s=e.props[n];if(7===s.type&&(Oe(s.arg,t)||Oe(s.exp,t)))return!0}return e.children.some(e=>Oe(e,t));case 11:return!!Oe(e.source,t)||e.children.some(e=>Oe(e,t));case 9:return e.branches.some(e=>Oe(e,t));case 10:return!!Oe(e.condition,t)||e.children.some(e=>Oe(e,t));case 4:return!e.isStatic&&ce(e.content)&&!!t[e.content];case 8:return e.children.some(e=>Object(s.s)(e)&&Oe(e,t));case 5:case 12:return Oe(e.content,t);case 2:case 3:default:return!1}}const we=/&(gt|lt|amp|apos|quot);/g,je={gt:">",lt:"<",amp:"&",apos:"'",quot:'"'},Ee={delimiters:["{{","}}"],getNamespace:()=>0,getTextMode:()=>0,isVoidTag:s.c,isPreTag:s.c,isCustomElement:s.c,decodeEntities:e=>e.replace(we,(e,t)=>je[t]),onError:r};function Ae(e,t={}){const n=function(e,t){return{options:{...Ee,...t},column:1,line:1,offset:0,originalSource:e,source:e,inPre:!1,inVPre:!1}}(e,t),s=Ve(n);return I(Re(n,0,[]),He(n,s))}function Re(e,t,n){const r=Xe(n),i=r?r.ns:0,o=[];for(;!Qe(e,t,n);){const a=e.source;let c=void 0;if(0===t||1===t)if(!e.inVPre&&Ge(a,e.options.delimiters[0]))c=Ne(e,t);else if(0===t&&"<"===a[0])if(1===a.length)Ze(e,5,1);else if("!"===a[1])Ge(a,"\x3c!--")?c=Pe(e):Ge(a,"<!DOCTYPE")?c=ze(e):Ge(a,"<![CDATA[")?0!==i?c=Me(e,n):(Ze(e,1),c=ze(e)):(Ze(e,11),c=ze(e));else if("/"===a[1])if(2===a.length)Ze(e,5,2);else{if(">"===a[2]){Ze(e,14,2),Ye(e,3);continue}if(/[a-z]/i.test(a[2])){Ze(e,23),ke(e,1,r);continue}Ze(e,12,2),c=ze(e)}else/[a-z]/i.test(a[1])?c=Fe(e,n):"?"===a[1]?(Ze(e,21,1),c=ze(e)):Ze(e,12,1);if(c||(c=De(e,t)),Object(s.o)(c))for(let e=0;e<c.length;e++)Le(o,c[e]);else Le(o,c)}let a=!1;if(2!==t)if(e.inPre){if(r&&e.options.isPreTag(r.tag)){const e=o[0];e&&2===e.type&&(e.content=e.content.replace(/^\r?\n/,""))}}else for(let e=0;e<o.length;e++){const t=o[e];if(2===t.type)if(/[^\t\r\n\f ]/.test(t.content))t.content=t.content.replace(/[\t\r\n\f ]+/g," ");else{const n=o[e-1],s=o[e+1];!n||!s||3===n.type||3===s.type||1===n.type&&1===s.type&&/[\r\n]/.test(t.content)?(a=!0,o[e]=null):t.content=" "}}return a?o.filter(Boolean):o}function Le(e,t){if(3!==t.type){if(2===t.type){const n=Xe(e);if(n&&2===n.type&&n.loc.end.offset===t.loc.start.offset)return n.content+=t.content,n.loc.end=t.loc.end,void(n.loc.source+=t.loc.source)}e.push(t)}}function Me(e,t){Ye(e,9);const n=Re(e,3,t);return 0===e.source.length?Ze(e,6):Ye(e,3),n}function Pe(e){const t=Ve(e);let n;const s=/--(\!)?>/.exec(e.source);if(s){s.index<=3&&Ze(e,0),s[1]&&Ze(e,10),n=e.source.slice(4,s.index);const t=e.source.slice(0,s.index);let r=1,i=0;for(;-1!==(i=t.indexOf("\x3c!--",r));)Ye(e,i-r+1),i+4<t.length&&Ze(e,16),r=i+1;Ye(e,s.index+s[0].length-r+1)}else n=e.source.slice(4),Ye(e,e.source.length),Ze(e,7);return{type:3,content:n,loc:He(e,t)}}function ze(e){const t=Ve(e),n="?"===e.source[1]?1:2;let s;const r=e.source.indexOf(">");return-1===r?(s=e.source.slice(n),Ye(e,e.source.length)):(s=e.source.slice(n,r),Ye(e,r+1)),{type:3,content:s,loc:He(e,t)}}function Fe(e,t){const n=e.inPre,s=e.inVPre,r=Xe(t),i=ke(e,0,r),o=e.inPre&&!n,a=e.inVPre&&!s;if(i.isSelfClosing||e.options.isVoidTag(i.tag))return i;t.push(i);const c=e.options.getTextMode(i.tag,i.ns,r),l=Re(e,c,t);if(t.pop(),i.children=l,Ke(e.source,i.tag))ke(e,1,r);else if(Ze(e,24,0,i.loc.start),0===e.source.length&&"script"===i.tag.toLowerCase()){const t=l[0];t&&Ge(t.loc.source,"\x3c!--")&&Ze(e,8)}return i.loc=He(e,i.loc.start),o&&(e.inPre=!1),a&&(e.inVPre=!1),i}const Ie=Object(s.C)("if,else,else-if,for,slot");function ke(e,t,n){const r=Ve(e),i=/^<\/?([a-z][^\t\r\n\f />]*)/i.exec(e.source),o=i[1],a=e.options.getNamespace(o,n);Ye(e,i[0].length),$e(e);const c=Ve(e),l=e.source;let u=Ue(e,t);e.options.isPreTag(o)&&(e.inPre=!0),!e.inVPre&&u.some(e=>7===e.type&&"pre"===e.name)&&(e.inVPre=!0,Object(s.i)(e,c),e.source=l,u=Ue(e,t).filter(e=>"v-pre"!==e.name));let h=!1;0===e.source.length?Ze(e,9):(h=Ge(e.source,"/>"),1===t&&h&&Ze(e,4),Ye(e,h?2:1));let d=0;const f=e.options;if(!e.inVPre&&!f.isCustomElement(o)){const e=u.some(e=>7===e.type&&"is"===e.name);f.isNativeTag&&!e?f.isNativeTag(o)||(d=1):(e||te(o)||f.isBuiltInComponent&&f.isBuiltInComponent(o)||/^[A-Z]/.test(o)||"component"===o)&&(d=1),"slot"===o?d=2:"template"===o&&u.some(e=>7===e.type&&Ie(e.name))&&(d=3)}return{type:1,ns:a,tag:o,tagType:d,props:u,isSelfClosing:h,children:[],loc:He(e,r),codegenNode:void 0}}function Ue(e,t){const n=[],s=new Set;for(;e.source.length>0&&!Ge(e.source,">")&&!Ge(e.source,"/>");){if(Ge(e.source,"/")){Ze(e,22),Ye(e,1),$e(e);continue}1===t&&Ze(e,3);const r=Be(e,s);0===t&&n.push(r),/^[^\t\r\n\f />]/.test(e.source)&&Ze(e,15),$e(e)}return n}function Be(e,t){const n=Ve(e),s=/^[^\t\r\n\f />][^\t\r\n\f />=]*/.exec(e.source)[0];t.has(s)&&Ze(e,2),t.add(s),"="===s[0]&&Ze(e,19);{const t=/["'<]/g;let n;for(;n=t.exec(s);)Ze(e,17,n.index)}Ye(e,s.length);let r=void 0;/^[\t\r\n\f ]*=/.test(e.source)&&($e(e),Ye(e,1),$e(e),r=function(e){const t=Ve(e);let n;const s=e.source[0],r='"'===s||"'"===s;if(r){Ye(e,1);const t=e.source.indexOf(s);-1===t?n=We(e,e.source.length,4):(n=We(e,t,4),Ye(e,1))}else{const t=/^[^\t\r\n\f >]+/.exec(e.source);if(!t)return;const s=/["'<=`]/g;let r;for(;r=s.exec(t[0]);)Ze(e,18,r.index);n=We(e,t[0].length,4)}return{content:n,isQuoted:r,loc:He(e,t)}}(e),r||Ze(e,13));const i=He(e,n);if(!e.inVPre&&/^(v-|:|@|#)/.test(s)){const t=/(?:^v-([a-z0-9-]+))?(?:(?::|^@|^#)([^\.]+))?(.+)?$/i.exec(s);let o;if(t[2]){const r=s.indexOf(t[2]),i=He(e,qe(e,n,r),qe(e,n,r+t[2].length));let a=t[2],c=!0;a.startsWith("[")&&(c=!1,a.endsWith("]")||Ze(e,26),a=a.substr(1,a.length-2)),o={type:4,content:a,isStatic:c,isConstant:c,loc:i}}if(r&&r.isQuoted){const e=r.loc;e.start.offset++,e.start.column++,e.end=de(e.start,r.content),e.source=e.source.slice(1,-1)}return{type:7,name:t[1]||(Ge(s,":")?"bind":Ge(s,"@")?"on":"slot"),exp:r&&{type:4,content:r.content,isStatic:!1,isConstant:!1,loc:r.loc},arg:o,modifiers:t[3]?t[3].substr(1).split("."):[],loc:i}}return{type:6,name:s,value:r&&{type:2,content:r.content,loc:r.loc},loc:i}}function Ne(e,t){const[n,s]=e.options.delimiters,r=e.source.indexOf(s,n.length);if(-1===r)return void Ze(e,25);const i=Ve(e);Ye(e,n.length);const o=Ve(e),a=Ve(e),c=r-n.length,l=e.source.slice(0,c),u=We(e,c,t),h=u.trim(),d=u.indexOf(h);return d>0&&fe(o,l,d),fe(a,l,c-(u.length-h.length-d)),Ye(e,s.length),{type:5,content:{type:4,isStatic:!1,isConstant:!1,content:h,loc:He(e,o,a)},loc:He(e,i)}}function De(e,t){const n=["<",e.options.delimiters[0]];3===t&&n.push("]]>");let s=e.source.length;for(let t=0;t<n.length;t++){const r=e.source.indexOf(n[t],1);-1!==r&&s>r&&(s=r)}const r=Ve(e);return{type:2,content:We(e,s,t),loc:He(e,r)}}function We(e,t,n){const s=e.source.slice(0,t);return Ye(e,t),2===n||3===n||-1===s.indexOf("&")?s:e.options.decodeEntities(s,4===n)}function Ve(e){const{column:t,line:n,offset:s}=e;return{column:t,line:n,offset:s}}function He(e,t,n){return{start:t,end:n=n||Ve(e),source:e.originalSource.slice(t.offset,n.offset)}}function Xe(e){return e[e.length-1]}function Ge(e,t){return e.startsWith(t)}function Ye(e,t){const{source:n}=e;fe(e,n,t),e.source=n.slice(t)}function $e(e){const t=/^[\t\r\n\f ]+/.exec(e.source);t&&Ye(e,t[0].length)}function qe(e,t,n){return de(t,e.originalSource.slice(t.offset,n),n)}function Ze(e,t,n,s=Ve(e)){n&&(s.offset+=n,s.column+=n),e.options.onError(i(t,{start:s,end:s,source:""}))}function Qe(e,t,n){const s=e.source;switch(t){case 0:if(Ge(s,"</"))for(let e=n.length-1;e>=0;--e)if(Ke(s,n[e].tag))return!0;break;case 1:case 2:{const e=Xe(n);if(e&&Ke(s,e.tag))return!0;break}case 3:if(Ge(s,"]]>"))return!0}return!s}function Ke(e,t){return Ge(e,"</")&&e.substr(2,t.length).toLowerCase()===t.toLowerCase()&&/[\t\n\f />]/.test(e[2+t.length]||">")}function Je(e,t){!function e(t,n,s,r=!1){for(let i=0;i<t.length;i++){const o=t[i];if(1===o.type&&0===o.tagType){if(!r&&tt(o,s)){o.codegenNode.patchFlag="-1";const e=n.transformHoist?n.transformHoist(o,n):o.codegenNode;o.codegenNode=n.hoist(e);continue}{const e=o.codegenNode;if(13===e.type){const t=it(e);if(!(t&&512!==t&&1!==t||nt(o)||st())){const t=rt(o);t&&(e.props=n.hoist(t))}}}}if(1===o.type)e(o.children,n,s);else if(11===o.type)e(o.children,n,s,1===o.children.length);else if(9===o.type)for(let t=0;t<o.branches.length;t++){const r=o.branches[t].children;e(r,n,s,1===r.length)}else 12===o.type&&tt(o.content,s)&&(o.codegenNode=n.hoist(o.codegenNode))}}(e.children,t,new Map,et(e,e.children[0]))}function et(e,t){const{children:n}=e;return 1===n.length&&1===t.type&&!Ce(t)}function tt(e,t=new Map){switch(e.type){case 1:if(0!==e.tagType)return!1;const n=t.get(e);if(void 0!==n)return n;const r=e.codegenNode;if(13!==r.type)return!1;if(it(r)||nt(e)||st())return t.set(e,!1),!1;for(let n=0;n<e.children.length;n++)if(!tt(e.children[n],t))return t.set(e,!1),!1;return r.isBlock&&(r.isBlock=!1),t.set(e,!0),!0;case 2:case 3:return!0;case 9:case 11:case 10:return!1;case 5:case 12:return tt(e.content,t);case 4:return e.isConstant;case 8:return e.children.every(e=>Object(s.y)(e)||Object(s.z)(e)||tt(e,t));default:return!1}}function nt(e){return!(!_e(e,"key",!0)&&!_e(e,"ref",!0))}function st(e){return!1}function rt(e){const t=e.codegenNode;if(13===t.type)return t.props}function it(e){const t=e.patchFlag;return t?parseInt(t,10):void 0}function ot(e,{prefixIdentifiers:t=!1,hoistStatic:n=!1,cacheHandlers:i=!1,nodeTransforms:o=[],directiveTransforms:a={},transformHoist:c=null,isBuiltInComponent:l=s.d,expressionPlugins:u=[],scopeId:h=null,ssr:d=!1,onError:f=r}){const p={prefixIdentifiers:t,hoistStatic:n,cacheHandlers:i,nodeTransforms:o,directiveTransforms:a,transformHoist:c,isBuiltInComponent:l,expressionPlugins:u,scopeId:h,ssr:d,onError:f,root:e,helpers:new Set,components:new Set,directives:new Set,hoists:[],imports:new Set,temps:0,cached:0,identifiers:{},scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,currentNode:e,childIndex:0,helper:e=>(p.helpers.add(e),e),helperString:e=>"_"+P[p.helper(e)],replaceNode(e){p.parent.children[p.childIndex]=p.currentNode=e},removeNode(e){const t=p.parent.children,n=e?t.indexOf(e):p.currentNode?p.childIndex:-1;e&&e!==p.currentNode?p.childIndex>n&&(p.childIndex--,p.onNodeRemoved()):(p.currentNode=null,p.onNodeRemoved()),p.parent.children.splice(n,1)},onNodeRemoved:()=>{},addIdentifiers(e){},removeIdentifiers(e){},hoist:e=>(p.hoists.push(e),D("_hoisted_"+p.hoists.length,!1,e.loc,!0)),cache:(e,t=!1)=>Y(++p.cached,e,t)};return p}function at(e,t){const n=ot(e,t);ct(e,n),t.hoistStatic&&Je(e,n),t.ssr||function(e,t){const{helper:n}=t,{children:r}=e,i=r[0];if(1===r.length)if(et(e,i)&&i.codegenNode){const t=i.codegenNode;13===t.type&&(t.isBlock=!0,n(h),n(d)),e.codegenNode=t}else e.codegenNode=i;else r.length>1&&(e.codegenNode=k(t,n(o),void 0,e.children,`64 /* ${s.e[64]} */`,void 0,void 0,!0))}(e,n),e.helpers=[...n.helpers],e.components=[...n.components],e.directives=[...n.directives],e.imports=[...n.imports],e.hoists=n.hoists,e.temps=n.temps,e.cached=n.cached}function ct(e,t){t.currentNode=e;const{nodeTransforms:n}=t,r=[];for(let i=0;i<n.length;i++){const o=n[i](e,t);if(o&&(Object(s.o)(o)?r.push(...o):r.push(o)),!t.currentNode)return;e=t.currentNode}switch(e.type){case 3:t.ssr||t.helper(p);break;case 5:t.ssr||t.helper(S);break;case 9:for(let n=0;n<e.branches.length;n++)ct(e.branches[n],t);break;case 10:case 11:case 1:case 0:!function(e,t){let n=0;const r=()=>{n--};for(;n<e.children.length;n++){const i=e.children[n];Object(s.y)(i)||(t.parent=e,t.childIndex=n,t.onNodeRemoved=r,ct(i,t))}}(e,t)}let i=r.length;for(;i--;)r[i]()}function lt(e,t){const n=Object(s.y)(e)?t=>t===e:t=>e.test(t);return(e,s)=>{if(1===e.type){const{props:r}=e;if(3===e.tagType&&r.some(be))return;const i=[];for(let o=0;o<r.length;o++){const a=r[o];if(7===a.type&&n(a.name)){r.splice(o,1),o--;const n=t(e,a,s);n&&i.push(n)}}return i}}}function ut(e,t={}){const n=function(e,{mode:t="function",prefixIdentifiers:n="module"===t,sourceMap:s=!1,filename:r="template.vue.html",scopeId:i=null,optimizeBindings:o=!1,runtimeGlobalName:a="Vue",runtimeModuleName:c="vue",ssr:l=!1}){const u={mode:t,prefixIdentifiers:n,sourceMap:s,filename:r,scopeId:i,optimizeBindings:o,runtimeGlobalName:a,runtimeModuleName:c,ssr:l,source:e.loc.source,code:"",column:1,line:1,offset:0,indentLevel:0,map:void 0,helper:e=>"_"+P[e],push(e,t){u.code+=e},indent(){h(++u.indentLevel)},deindent(e=!1){e?--u.indentLevel:h(--u.indentLevel)},newline(){h(u.indentLevel)}};function h(e){u.push("\n"+"  ".repeat(e))}return u}(e,t),{mode:s,push:r,prefixIdentifiers:i,indent:o,deindent:a,newline:c,scopeId:l,ssr:u}=n,h=e.helpers.length>0,d=!i&&"module"!==s;if(function(e,t){const{ssr:n,prefixIdentifiers:s,push:r,newline:i,runtimeModuleName:o,runtimeGlobalName:a}=t,c=a,l=e=>`${P[e]}: _${P[e]}`;if(e.helpers.length>0&&(r(`const _Vue = ${c}\n`),e.hoists.length)){const t=[f,p,g,_].filter(t=>e.helpers.includes(t)).map(l).join(", ");r(`const { ${t} } = _Vue\n`)}(function(e,t){if(!e.length)return;const{push:n,newline:s,helper:r,scopeId:i,mode:o}=t;s(),e.forEach((e,r)=>{n(`const _hoisted_${r+1} = `),pt(e,t),s()})})(e.hoists,t),i(),r("return ")}(e,n),r(u?"function ssrRender(_ctx, _push, _parent) {":"function render(_ctx, _cache) {"),o(),d&&(r("with (_ctx) {"),o(),h&&(r(`const { ${e.helpers.map(e=>`${P[e]}: _${P[e]}`).join(", ")} } = _Vue`),r("\n"),c())),e.components.length&&(ht(e.components,"component",n),(e.directives.length||e.temps>0)&&c()),e.directives.length&&(ht(e.directives,"directive",n),e.temps>0&&c()),e.temps>0){r("let ");for(let t=0;t<e.temps;t++)r(`${t>0?", ":""}_temp${t}`)}return(e.components.length||e.directives.length||e.temps)&&(r("\n"),c()),u||r("return "),e.codegenNode?pt(e.codegenNode,n):r("null"),d&&(a(),r("}")),a(),r("}"),{ast:e,code:n.code,map:n.map?n.map.toJSON():void 0}}function ht(e,t,{helper:n,push:s,newline:r}){const i=n("component"===t?x:v);for(let n=0;n<e.length;n++){const o=e[n];s(`const ${Se(o,t)} = ${i}(${JSON.stringify(o)})`),n<e.length-1&&r()}}function dt(e,t){const n=e.length>3||!1;t.push("["),n&&t.indent(),ft(e,t,n),n&&t.deindent(),t.push("]")}function ft(e,t,n=!1,r=!0){const{push:i,newline:o}=t;for(let a=0;a<e.length;a++){const c=e[a];Object(s.y)(c)?i(c):Object(s.o)(c)?dt(c,t):pt(c,t),a<e.length-1&&(n?(r&&i(","),o()):r&&i(", "))}}function pt(e,t){if(Object(s.y)(e))t.push(e);else if(Object(s.z)(e))t.push(t.helper(e));else switch(e.type){case 1:case 9:case 11:pt(e.codegenNode,t);break;case 2:!function(e,t){t.push(JSON.stringify(e.content),e)}(e,t);break;case 4:gt(e,t);break;case 5:!function(e,t){const{push:n,helper:s}=t;n(s(S)+"("),pt(e.content,t),n(")")}(e,t);break;case 12:pt(e.codegenNode,t);break;case 8:_t(e,t);break;case 3:break;case 13:!function(e,t){const{push:n,helper:s}=t,{tag:r,props:i,children:o,patchFlag:a,dynamicProps:c,directives:l,isBlock:u,isForBlock:p}=e;l&&n(s(b)+"(");u&&n(`(${s(h)}(${p?"true":""}), `);n(s(u?d:f)+"(",e),ft(function(e){let t=e.length;for(;t--&&null==e[t];);return e.slice(0,t+1).map(e=>e||"null")}([r,i,o,a,c]),t),n(")"),u&&n(")");l&&(n(", "),pt(l,t),n(")"))}(e,t);break;case 14:!function(e,t){const n=Object(s.y)(e.callee)?e.callee:t.helper(e.callee);t.push(n+"(",e),ft(e.arguments,t),t.push(")")}(e,t);break;case 15:!function(e,t){const{push:n,indent:s,deindent:r,newline:i}=t,{properties:o}=e;if(!o.length)return void n("{}",e);const a=o.length>1||!1;n(a?"{":"{ "),a&&s();for(let e=0;e<o.length;e++){const{key:s,value:r}=o[e];xt(s,t),n(": "),pt(r,t),e<o.length-1&&(n(","),i())}a&&r(),n(a?"}":" }")}(e,t);break;case 17:!function(e,t){dt(e.elements,t)}(e,t);break;case 18:!function(e,t){const{push:n,indent:r,deindent:i,scopeId:o,mode:a}=t,{params:c,returns:l,body:u,newline:h,isSlot:d}=e;d&&n(`_${P[M]}(`);n("(",e),Object(s.o)(c)?ft(c,t):c&&pt(c,t);n(") => "),(h||u)&&(n("{"),r());l?(h&&n("return "),Object(s.o)(l)?dt(l,t):pt(l,t)):u&&pt(u,t);(h||u)&&(i(),n("}"));d&&n(")")}(e,t);break;case 19:!function(e,t){const{test:n,consequent:s,alternate:r,newline:i}=e,{push:o,indent:a,deindent:c,newline:l}=t;if(4===n.type){const e=!ce(n.content);e&&o("("),gt(n,t),e&&o(")")}else o("("),pt(n,t),o(")");i&&a(),t.indentLevel++,i||o(" "),o("? "),pt(s,t),t.indentLevel--,i&&l(),i||o(" "),o(": ");const u=19===r.type;u||t.indentLevel++;pt(r,t),u||t.indentLevel--;i&&c(!0)}(e,t);break;case 20:!function(e,t){const{push:n,helper:s,indent:r,deindent:i,newline:o}=t;n(`_cache[${e.index}] || (`),e.isVNode&&(r(),n(s(E)+"(-1),"),o());n(`_cache[${e.index}] = `),pt(e.value,t),e.isVNode&&(n(","),o(),n(s(E)+"(1),"),o(),n(`_cache[${e.index}]`),i());n(")")}(e,t);break;case 21:case 22:case 23:case 24:case 25:case 26:case 10:break;default:0}}function gt(e,t){const{content:n,isStatic:s}=e;t.push(s?JSON.stringify(n):n,e)}function _t(e,t){for(let n=0;n<e.children.length;n++){const r=e.children[n];Object(s.y)(r)?t.push(r):pt(r,t)}}function xt(e,t){const{push:n}=t;if(8===e.type)n("["),_t(e,t),n("]");else if(e.isStatic){n(ce(e.content)?e.content:JSON.stringify(e.content),e)}else n(`[${e.content}]`,e)}const mt=Object(s.C)("true,false,null,this"),vt=(e,t)=>{if(5===e.type)e.content=bt(e.content,t);else if(1===e.type)for(let n=0;n<e.props.length;n++){const s=e.props[n];if(7===s.type&&"for"!==s.name){const e=s.exp,n=s.arg;!e||4!==e.type||"on"===s.name&&n||(s.exp=bt(e,t,"slot"===s.name)),n&&4===n.type&&!n.isStatic&&(s.arg=bt(n,t))}}};function bt(e,t,n=!1,r=!1){if(!t.prefixIdentifiers||!e.content.trim())return e;const o=e.content,a=o.indexOf("(")>-1;if(ce(o))return n||t.identifiers[o]||Object(s.q)(o)||mt(o)?t.identifiers[o]||a||(e.isConstant=!0):e.content="_ctx."+o,e;let c;const l=r?` ${o} `:`(${o})${n?"=>{}":""}`;try{c=ie(l,{plugins:[...t.expressionPlugins,"bigInt","optionalChaining","nullishCoalescingOperator"]}).program}catch(n){return t.onError(i(41,e.loc,0,n.message)),e}const u=[],h=Object.create(t.identifiers);oe(c,{enter(e,t){if("Identifier"===e.type){if(!(e=>u.some(t=>t.start===e.start))(e)){const n=function(e,t){if((!yt(t)||t.id!==e&&!t.params.includes(e))&&!St(e,t)&&("MemberExpression"!==t.type&&"OptionalMemberExpression"!==t.type||t.property!==e||t.computed)&&"ArrayPattern"!==t.type&&!Object(s.q)(e.name)&&"require"!==e.name&&"arguments"!==e.name)return!0}(e,t);!h[e.name]&&n?(Tt(e,t)&&(e.prefix=e.name+": "),e.name="_ctx."+e.name,u.push(e)):St(e,t)||(n&&h[e.name]||a||(e.isConstant=!0),u.push(e))}}else yt(e)&&e.params.forEach(t=>oe(t,{enter(t,n){if(!("Identifier"!==t.type||St(t,n)||n&&"AssignmentPattern"===n.type&&n.right===t)){const{name:n}=t;if(e.scopeIds&&e.scopeIds.has(n))return;n in h?h[n]++:h[n]=1,(e.scopeIds||(e.scopeIds=new Set)).add(n)}}}))},leave(e){e!==c.body[0].expression&&e.scopeIds&&e.scopeIds.forEach(e=>{h[e]--,0===h[e]&&delete h[e]})}});const d=[];let f;return u.sort((e,t)=>e.start-t.start),u.forEach((t,n)=>{const s=t.start-1,r=t.end-1,i=u[n-1],a=o.slice(i?i.end-1:0,s);(a.length||t.prefix)&&d.push(a+(t.prefix||""));const c=o.slice(s,r);d.push(D(t.name,!1,{source:c,start:de(e.loc.start,c,s),end:de(e.loc.start,c,r)},t.isConstant)),n===u.length-1&&r<o.length&&d.push(o.slice(r))}),d.length?f=V(d,e.loc):(f=e,f.isConstant=!a),f.identifiers=Object.keys(h),f}const yt=e=>/Function(Expression|Declaration)$/.test(e.type),Ct=e=>e&&"ObjectProperty"===e.type&&!e.computed,Tt=(e,t)=>Ct(t)&&t.value===e&&"Identifier"===t.key.type&&t.key.name===e.name&&t.key.start===e.start,St=(e,t)=>Ct(t)&&t.key===e;const Ot=lt(/^(if|else|else-if)$/,(e,t,n)=>wt(e,t,n,(e,t,s)=>()=>{if(s)e.codegenNode=Et(t,0,n);else{let s=e.codegenNode;for(;19===s.alternate.type;)s=s.alternate;s.alternate=Et(t,e.branches.length-1,n)}}));function wt(e,t,n,s){if(!("else"===t.name||t.exp&&t.exp.content.trim())){const s=t.exp?t.exp.loc:e.loc;n.onError(i(27,t.loc)),t.exp=D("true",!1,s)}if("if"===t.name){const r=jt(e,t),i={type:9,loc:e.loc,branches:[r]};if(n.replaceNode(i),s)return s(i,r,!0)}else{const r=n.parent.children;let o=r.indexOf(e);for(;o-- >=-1;){const a=r[o];if(a&&9===a.type){n.removeNode();const r=jt(e,t);0,a.branches.push(r);const i=s&&s(a,r,!1);ct(r,n),i&&i(),n.currentNode=null}else n.onError(i(28,e.loc));break}}}function jt(e,t){return{type:10,loc:e.loc,condition:"else"===t.name?void 0:t.exp,children:3===e.tagType?e.children:[e]}}function Et(e,t,n){return e.condition?G(e.condition,At(e,t,n),H(n.helper(p),['""',"true"])):At(e,t,n)}function At(e,t,n){const{helper:r}=n,i=N("key",D(t+"",!1)),{children:c}=e,l=c[0];if(1!==c.length||1!==l.type){if(1===c.length&&11===l.type){const e=l.codegenNode;return Te(e,i,n),e}return k(n,r(o),B([i]),c,`64 /* ${s.e[64]} */`,void 0,void 0,!0,!1,e.loc)}{const e=l.codegenNode;return 13!==e.type||1===l.tagType&&e.tag!==a||(e.isBlock=!0,r(h),r(d)),Te(e,i,n),e}}const Rt=lt("for",(e,t,n)=>{const{helper:r}=n;return Lt(e,t,n,t=>{const i=H(r(y),[t.source]),a=_e(e,"key"),c=a?128:256;return t.codegenNode=k(n,r(o),void 0,i,`${c} /* ${s.e[c]} */`,void 0,void 0,!0,!0,e.loc),()=>{let c;const l=ye(e),{children:u}=t,f=u.length>1||1!==u[0].type,p=Ce(e)?e:l&&1===e.children.length&&Ce(e.children[0])?e.children[0]:null,g=a?N("key",6===a.type?D(a.value.content,!0):a.exp):null;p?(c=p.codegenNode,l&&g&&Te(c,g,n)):f?c=k(n,r(o),g?B([g]):void 0,e.children,`64 /* ${s.e[64]} */`,void 0,void 0,!0):(c=u[0].codegenNode,c.isBlock=!0,r(h),r(d)),i.arguments.push(X(kt(t.parseResult),c,!0))}})});function Lt(e,t,n,s){if(!t.exp)return void n.onError(i(29,t.loc));const r=Ft(t.exp);if(!r)return void n.onError(i(30,t.loc));const{addIdentifiers:o,removeIdentifiers:a,scopes:c}=n,{source:l,value:u,key:h,index:d}=r,f={type:11,loc:t.loc,source:l,valueAlias:u,keyAlias:h,objectIndexAlias:d,parseResult:r,children:3===e.tagType?e.children:[e]};n.replaceNode(f),c.vFor++;const p=s&&s(f);return()=>{c.vFor--,p&&p()}}const Mt=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,Pt=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,zt=/^\(|\)$/g;function Ft(e,t){const n=e.loc,s=e.content,r=s.match(Mt);if(!r)return;const[,i,o]=r,a={source:It(n,o.trim(),s.indexOf(o,i.length)),value:void 0,key:void 0,index:void 0};let c=i.trim().replace(zt,"").trim();const l=i.indexOf(c),u=c.match(Pt);if(u){c=c.replace(Pt,"").trim();const e=u[1].trim();let t;if(e&&(t=s.indexOf(e,l+c.length),a.key=It(n,e,t)),u[2]){const r=u[2].trim();r&&(a.index=It(n,r,s.indexOf(r,a.key?t+e.length:l+c.length)))}}return c&&(a.value=It(n,c,l)),a}function It(e,t,n){return D(t,!1,he(e,n,t.length))}function kt({value:e,key:t,index:n}){const s=[];return e&&s.push(e),t&&(e||s.push(D("_",!1)),s.push(t)),n&&(t||(e||s.push(D("_",!1)),s.push(D("__",!1))),s.push(n)),s}const Ut=D("undefined",!1),Bt=(e,t)=>{if(1===e.type&&(1===e.tagType||3===e.tagType)){const n=ge(e,"slot");if(n){n.exp;return t.scopes.vSlot++,()=>{t.scopes.vSlot--}}}},Nt=(e,t)=>{let n;if(ye(e)&&e.props.some(be)&&(n=ge(e,"for"))){const e=n.parseResult=Ft(n.exp);if(e){const{value:n,key:s,index:r}=e,{addIdentifiers:i,removeIdentifiers:o}=t;return n&&i(n),s&&i(s),r&&i(r),()=>{n&&o(n),s&&o(s),r&&o(r)}}}},Dt=(e,t,n)=>X(e,t,!1,!0,t.length?t[0].loc:n);function Wt(e,t,n=Dt){t.helper(M);const{children:s,loc:r}=e,o=[],a=[],c=(e,t)=>N("default",n(e,t,r));let l=t.scopes.vSlot>0||t.scopes.vFor>0;const u=ge(e,"slot",!0);if(u){const{arg:e,exp:t}=u;o.push(N(e||D("default",!0),n(t,s,r)))}let h=!1,d=!1;const f=[],p=new Set;for(let e=0;e<s.length;e++){const r=s[e];let c;if(!ye(r)||!(c=ge(r,"slot",!0))){3!==r.type&&f.push(r);continue}if(u){t.onError(i(34,c.loc));break}h=!0;const{children:_,loc:x}=r,{arg:m=D("default",!0),exp:v,loc:b}=c;let C;4===(g=m).type&&g.isStatic?C=m?m.content:"default":l=!0;const T=n(v,_,x);let S,O,w;if(S=ge(r,"if"))l=!0,a.push(G(S.exp,Vt(m,T),Ut));else if(O=ge(r,/^else(-if)?$/,!0)){let n,r=e;for(;r--&&(n=s[r],3===n.type););if(n&&ye(n)&&ge(n,"if")){s.splice(e,1),e--;let t=a[a.length-1];for(;19===t.alternate.type;)t=t.alternate;t.alternate=O.exp?G(O.exp,Vt(m,T),Ut):Vt(m,T)}else t.onError(i(28,O.loc))}else if(w=ge(r,"for")){l=!0;const e=w.parseResult||Ft(w.exp);e?a.push(H(t.helper(y),[e.source,X(kt(e),Vt(m,T),!0)])):t.onError(i(30,w.loc))}else{if(C){if(p.has(C)){t.onError(i(35,b));continue}p.add(C),"default"===C&&(d=!0)}o.push(N(m,T))}}var g;u||(h?f.length&&(d?t.onError(i(36,f[0].loc)):o.push(c(void 0,f))):o.push(c(void 0,s)));let _=B(o.concat(N("_",D("1",!1))),r);return a.length&&(_=H(t.helper(T),[_,U(a)])),{slots:_,hasDynamicSlots:l}}function Vt(e,t){return B([N("name",e),N("fn",t)])}const Ht=new WeakMap,Xt=(e,t)=>{if(1===e.type&&(0===e.tagType||1===e.tagType))return function(){const{tag:n,props:r}=e,i=1===e.tagType,o=i?Gt(e,t):`"${n}"`;let c,u,h,d,f,p,g=0,_=Object(s.s)(o)&&o.callee===m||!i&&("svg"===n||"foreignObject"===n||_e(e,"key",!0));if(r.length>0){const n=Yt(e,t);c=n.props,g=n.patchFlag,f=n.dynamicPropNames;const s=n.directives;p=s&&s.length?U(s.map(e=>function(e,t){const n=[],s=Ht.get(e);s?n.push(t.helperString(s)):(t.helper(v),t.directives.add(e.name),n.push(Se(e.name,"directive")));const{loc:r}=e;e.exp&&n.push(e.exp);e.arg&&(e.exp||n.push("void 0"),n.push(e.arg));if(Object.keys(e.modifiers).length){e.arg||(e.exp||n.push("void 0"),n.push("void 0"));const t=D("true",!1,r);n.push(B(e.modifiers.map(e=>N(e,t)),r))}return U(n,e.loc)}(e,t))):void 0}if(e.children.length>0){if(o===l&&(_=!0,g|=1024),i&&o!==a&&o!==l){const{slots:n,hasDynamicSlots:s}=Wt(e,t);u=n,s&&(g|=1024)}else if(1===e.children.length&&o!==a){const t=e.children[0],n=t.type,s=5===n||8===n;s&&!tt(t)&&(g|=1),u=s||2===n?t:e.children}else u=e.children}0!==g&&(h=String(g),f&&f.length&&(d=function(e){let t="[";for(let n=0,s=e.length;n<s;n++)t+=JSON.stringify(e[n]),n<s-1&&(t+=", ");return t+"]"}(f))),e.codegenNode=k(t,o,c,u,h,d,p,!!_,!1,e.loc)}};function Gt(e,t,n=!1){const{tag:s}=e,r="component"===e.tag?_e(e,"is"):ge(e,"is");if(r){const e=6===r.type?r.value&&D(r.value.content,!0):r.exp;if(e)return H(t.helper(m),[e])}const i=te(s)||t.isBuiltInComponent(s);return i?(n||t.helper(i),i):(t.helper(x),t.components.add(s),Se(s,"component"))}function Yt(e,t,n=e.props,r=!1){const{tag:o,loc:a}=e,c=1===e.tagType;let l=[];const u=[],h=[];let d=0,f=!1,p=!1,g=!1,_=!1,x=!1;const m=[],v=({key:e,value:t})=>{if(4===e.type&&e.isStatic){const n=e.content;if(!c&&Object(s.t)(n)&&"onclick"!==n.toLowerCase()&&"onUpdate:modelValue"!==n&&(_=!0),20===t.type||(4===t.type||8===t.type)&&tt(t))return;"ref"===n?f=!0:"class"!==n||c?"style"!==n||c?"key"===n||m.includes(n)||m.push(n):g=!0:p=!0}else x=!0};for(let d=0;d<n.length;d++){const p=n[d];if(6===p.type){const{loc:e,name:t,value:n}=p;if("ref"===t&&(f=!0),"is"===t&&"component"===o)continue;l.push(N(D(t,!0,he(e,0,t.length)),D(n?n.content:"",!0,n?n.loc:e)))}else{const{name:n,arg:d,exp:f,loc:g}=p,_="bind"===n,m="on"===n;if("slot"===n){c||t.onError(i(37,g));continue}if("once"===n)continue;if("is"===n||_&&"component"===o&&xe(d,"is"))continue;if(m&&r)continue;if(!d&&(_||m)){x=!0,f?(l.length&&(u.push(B($t(l),a)),l=[]),_?u.push(f):u.push({type:14,loc:g,callee:t.helper(w),arguments:[f]})):t.onError(i(_?31:32,g));continue}const b=t.directiveTransforms[n];if(b){const{props:n,needRuntime:i}=b(p,e,t);!r&&n.forEach(v),l.push(...n),i&&(h.push(p),Object(s.z)(i)&&Ht.set(p,i))}else h.push(p)}}let b=void 0;return u.length?(l.length&&u.push(B($t(l),a)),b=u.length>1?H(t.helper(O),u,a):u[0]):l.length&&(b=B($t(l),a)),x?d|=16:(p&&(d|=2),g&&(d|=4),m.length&&(d|=8),_&&(d|=32)),0!==d&&32!==d||!(f||h.length>0)||(d|=512),{props:b,directives:h,patchFlag:d,dynamicPropNames:m}}function $t(e){const t=new Map,n=[];for(let s=0;s<e.length;s++){const r=e[s];if(8===r.key.type||!r.key.isStatic){n.push(r);continue}const i=r.key.content,o=t.get(i);o?("style"===i||"class"===i||i.startsWith("on"))&&qt(o,r):(t.set(i,r),n.push(r))}return n}function qt(e,t){17===e.value.type?e.value.elements.push(t.value):e.value=U([e.value,t.value],e.loc)}const Zt=(e,t)=>{if(Ce(e)){const{children:n,loc:s}=e,{slotName:r,slotProps:i}=Qt(e,t),o=[t.prefixIdentifiers?"_ctx.$slots":"$slots",r];i&&o.push(i),n.length&&(i||o.push("{}"),o.push(X([],n,!1,!1,s))),e.codegenNode=H(t.helper(C),o,s)}};function Qt(e,t){let n='"default"',s=void 0;const r=_e(e,"name");r&&(6===r.type&&r.value?n=JSON.stringify(r.value.content):7===r.type&&r.exp&&(n=r.exp));const o=r?e.props.filter(e=>e!==r):e.props;if(o.length>0){const{props:n,directives:r}=Yt(e,t,o);s=n,r.length&&t.onError(i(33,r[0].loc))}return{slotName:n,slotProps:s}}const Kt=/^([\w$_]+|\([^)]*?\))\s*=>|^function(?:\s+[\w$]+)?\s*\(/,Jt=(e,t,n,r)=>{const{loc:o,modifiers:a,arg:c}=e;let l;if(e.exp||a.length||n.onError(i(32,o)),4===c.type)if(c.isStatic){const e=c.content;l=D("on"+(e.startsWith("vnode")?Object(s.g)(Object(s.f)(e)):Object(s.g)(e)),!0,c.loc)}else l=V(['"on" + (',c,")"]);else l=c,l.children.unshift('"on" + ('),l.children.push(")");let u=e.exp;u&&!u.content.trim()&&(u=void 0);let h=!u;if(u){const e=ue(u.content),t=!(e||Kt.test(u.content)),n=u.content.includes(";");(t||h&&e)&&(u=V(["$event => "+(n?"{":"("),u,n?"}":")"]))}let d={props:[N(l,u||D("() => {}",!1,o))]};return r&&(d=r(d)),h&&(d.props[0].value=n.cache(d.props[0].value)),d},en=(e,t,n)=>{const{exp:r,modifiers:o,loc:a}=e,c=e.arg;return r||n.onError(i(31,a)),o.includes("camel")&&(4===c.type?c.isStatic?c.content=Object(s.f)(c.content):c.content=`${n.helperString(j)}(${c.content})`:(c.children.unshift(n.helperString(j)+"("),c.children.push(")"))),{props:[N(c,r||D("",!0,a))]}},tn=(e,t)=>{if(0===e.type||1===e.type||11===e.type||10===e.type)return()=>{const n=e.children;let r=void 0,i=!1;for(let e=0;e<n.length;e++){const t=n[e];if(ve(t)){i=!0;for(let s=e+1;s<n.length;s++){const i=n[s];if(!ve(i)){r=void 0;break}r||(r=n[e]={type:8,loc:t.loc,children:[t]}),r.children.push(" + ",i),n.splice(s,1),s--}}}if(i&&(1!==n.length||0!==e.type&&(1!==e.type||0!==e.tagType)))for(let e=0;e<n.length;e++){const r=n[e];if(ve(r)||8===r.type){const i=[];2===r.type&&" "===r.content||i.push(r),t.ssr||2===r.type||i.push(`1 /* ${s.e[1]} */`),n[e]={type:12,content:r,loc:r.loc,codegenNode:H(t.helper(g),i)}}}}},nn=(e,t)=>{if(1===e.type&&ge(e,"once",!0))return t.helper(E),()=>{e.codegenNode&&(e.codegenNode=t.cache(e.codegenNode,!0))}},sn=(e,t,n)=>{const{exp:s,arg:r}=e;if(!s)return n.onError(i(38,e.loc)),rn();const o=4===s.type?s.content:s.loc.source;if(!ue(o))return n.onError(i(39,s.loc)),rn();const a=r||D("modelValue",!0),c=r?4===r.type&&r.isStatic?"onUpdate:"+r.content:V(['"onUpdate:" + ',r]):"onUpdate:modelValue",l=[N(a,e.exp),N(c,V(["$event => (",s," = $event)"]))];if(e.modifiers.length&&1===t.tagType){const t=e.modifiers.map(e=>(ce(e)?e:JSON.stringify(e))+": true").join(", "),n=r?4===r.type&&r.isStatic?r.content+"Modifiers":V([r,' + "Modifiers"']):"modelModifiers";l.push(N(n,D(`{ ${t} }`,!1,e.loc,!0)))}return rn(l)};function rn(e=[]){return{props:e}}function on(e){return[[nn,Ot,Rt,Zt,Xt,Bt,tn],{on:Jt,bind:en,model:sn}]}function an(e,t={}){const n=t.onError||r,o="module"===t.mode;!0===t.prefixIdentifiers?n(i(43)):o&&n(i(44));t.cacheHandlers&&n(i(45)),t.scopeId&&!o&&n(i(46));const a=Object(s.y)(e)?Ae(e,t):e,[c,l]=on();return at(a,{...t,prefixIdentifiers:!1,nodeTransforms:[...c,...t.nodeTransforms||[]],directiveTransforms:{...l,...t.directiveTransforms||{}}}),ut(a,{...t,prefixIdentifiers:!1})}const cn=()=>({props:[]})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(60);t.parserOptionsMinimal={isVoidTag:()=>!1,isNativeTag:e=>t.isTree2dTag(e),isPreTag:()=>!1};t.isTree2dTag=s.makeMap("container,rectangle,picture,text,paragraph,styled-rectangle,drawing,texture,svg,grayscale,rounded,shader,box-blur")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeMap=function(e,t){const n=Object.create(null),s=e.split(",");for(let e=0;e<s.length;e++)n[s[e]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(62),r=n(136),i=n(137);t.nodeOps=e=>({insert:(e,t,n)=>{null!=n?t.insertBefore(e,n):t.appendChild(e)},remove:e=>{const t=e.parent;null!=t&&t.removeChild(e)},createElement:(t,n)=>new(0,s.types[t])(e),createText:e=>new i.TextNode(e),createComment:e=>new r.Comment(e),setText:(e,t)=>{},setElementText:(e,t)=>{e.setElementText(t)},parentNode:e=>e.parent?e.parent:null,nextSibling:e=>e.nextSibling,querySelector:e=>null,setScopeId(e,t){e.element&&(e.element.ref=t)}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(9),r=n(9),i=n(9),o=n(56),a=n(8),c=n(9),l=n(9),u=n(9),h=n(9),d=n(14),f=n(14),p=n(14),g=n(14);t.types={container:a.Container,picture:s.Picture,rectangle:r.Rectangle,text:i.TextTexture,"styled-rectangle":c.StyledRectangle,drawing:l.Drawing,texture:u.Texture,svg:h.Svg,grayscale:d.Grayscale,rounded:f.Rounded,"box-blur":g.BoxBlur,shader:p.Shader,paragraph:o.Paragraph}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(4),r=n(18);class i extends r.DynamicSizeTexture{constructor(e){super(e),this.drawingTexture=new s.DrawingTexture(this.stage),this.textureElement.texture=this.drawingTexture}set onDraw(e){this.drawingTexture.drawingFunction=e}handleResize(e,t,n){this.drawingTexture.canvasWidth=t,this.drawingTexture.canvasHeight=n}update(){this.drawingTexture._changed()}}t.Drawing=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(20);t.C2dShader=s.C2dShader;const r=n(16);t.C2dDefaultShader=r.C2dDefaultShader;const i=n(35);t.C2dGrayscaleShader=i.C2dGrayscaleShader;const o=n(66);t.C2dBlurShader=o.C2dBlurShader},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class s{constructor(e,t,n){this.gl=e,this.vertexShaderSource=t,this.fragmentShaderSource=n,this._program=void 0,this._uniformLocations=new Map,this._attributeLocations=new Map,this._currentUniformValues={}}compile(){if(this._program)return;const e=this.gl;this._program=e.createProgram();const t=this._glCompile(e.VERTEX_SHADER,this.vertexShaderSource),n=this._glCompile(e.FRAGMENT_SHADER,this.fragmentShaderSource);e.attachShader(this._program,t),e.attachShader(this._program,n),e.linkProgram(this._program),e.getProgramParameter(this._program,e.LINK_STATUS)||(console.error("Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",e.getProgramParameter(this._program,e.VALIDATE_STATUS)),console.error("gl.getError()",e.getError()),""!==e.getProgramInfoLog(this._program)&&console.warn("Warning: gl.getProgramInfoLog()",e.getProgramInfoLog(this._program)),e.deleteProgram(this._program),this._program=void 0),e.deleteShader(t),e.deleteShader(n)}_glCompile(e,t){const n=this.gl.createShader(e);if(this.gl.shaderSource(n,t),this.gl.compileShader(n),!this.gl.getShaderParameter(n,this.gl.COMPILE_STATUS)){console.log(this.constructor.name,"Type: "+(e===this.gl.VERTEX_SHADER?"vertex shader":"fragment shader")),console.log(this.gl.getShaderInfoLog(n));let s=0;return console.log("========== source ==========\n"+t.split("\n").map(e=>++s+": "+e).join("\n")),null}return n}getUniformLocation(e){let t=this._uniformLocations.get(e);return void 0===t&&(t=this.gl.getUniformLocation(this._program,e),this._uniformLocations.set(e,t)),t}getAttribLocation(e){let t=this._attributeLocations.get(e);return void 0===t&&(t=this.gl.getAttribLocation(this._program,e),this._attributeLocations.set(e,t)),t}destroy(){this._program&&(this.gl.deleteProgram(this._program),this._program=void 0)}get glProgram(){return this._program}get compiled(){return!!this._program}static _valueEquals(e,t){if(e.length&&t.length){for(let n=0,s=e.length;n<s;n++)if(e[n]!==t[n])return!1;return!0}return e===t}static _valueClone(e){return e.length?e.slice(0):e}setUniformValue(e,t,n){const r=this._currentUniformValues[e];if(void 0===r||!s._valueEquals(r,t)){const r=s._valueClone(t);this._currentUniformValues[e]=r;const i=this.getUniformLocation(e);if(i){n===this.gl.uniformMatrix2fv||n===this.gl.uniformMatrix3fv||n===this.gl.uniformMatrix4fv?n.call(this.gl,i,!1,r):n.call(this.gl,i,r)}}}}t.WebGLShaderProgram=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(16);class r extends s.C2dDefaultShader{constructor(){super(...arguments),this._kernelRadius=1}get kernelRadius(){return this._kernelRadius}set kernelRadius(e){this._kernelRadius=e,this.redraw()}useDefault(){return 0===this._kernelRadius}_beforeDrawEl(e){e.target.context.filter="blur("+this._kernelRadius+"px)"}_afterDrawEl(e){e.target.context.filter="none"}}t.C2dBlurShader=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(21);t.WebGLShader=s.WebGLShader;var r=n(5);t.WebGLDefaultShader=r.WebGLDefaultShader;var i=n(36);t.WebGLGrayscaleShader=i.WebGLGrayscaleShader;var o=n(68);t.WebGLBoxBlurShader=o.WebGLBoxBlurShader;var a=n(69);t.WebGLDitheringShader=a.WebGLDitheringShader;var c=n(70);t.WebGLCircularPushShader=c.WebGLCircularPushShader;var l=n(71);t.WebGLInversionShader=l.WebGLInversionShader;var u=n(72);t.WebGLLinearBlurShader=u.WebGLLinearBlurShader;var h=n(73);t.WebGLOutlineShader=h.WebGLOutlineShader;var d=n(74);t.WebGLPixelateShader=d.WebGLPixelateShader;var f=n(75);t.WebGLRadialFilterShader=f.WebGLRadialFilterShader;var p=n(76);t.WebGLRoundedRectangleShader=p.WebGLRoundedRectangleShader;var g=n(77);t.WebGLRadialGradientShader=g.WebGLRadialGradientShader;var _=n(78);t.WebGLLight3dShader=_.WebGLLight3dShader},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(5);class r extends s.WebGLDefaultShader{setupUniforms(e){super.setupUniforms(e);const t=1/e.getTextureWidth(0),n=1/e.getTextureHeight(0);this._setUniform("stepTextureCoord",new Float32Array([t,n]),this.gl.uniform2fv)}}t.WebGLBoxBlurShader=r,r.prototype.vertexShaderSource="\n    #ifdef GL_ES\n    precision lowp float;\n    #endif\n    uniform vec2 stepTextureCoord;\n    attribute vec2 aVertexPosition;\n    attribute vec2 aTextureCoord;\n    attribute vec4 aColor;\n    uniform vec2 projection;\n    varying vec4 vColor;\n    varying vec2 vTextureCoordUl;\n    varying vec2 vTextureCoordUr;\n    varying vec2 vTextureCoordBl;\n    varying vec2 vTextureCoordBr;\n    void main(void){\n        gl_Position = vec4(aVertexPosition.x * projection.x - 1.0, aVertexPosition.y * -abs(projection.y) + 1.0, 0.0, 1.0);\n        vTextureCoordUl = aTextureCoord - stepTextureCoord;\n        vTextureCoordBr = aTextureCoord + stepTextureCoord;\n        vTextureCoordUr = vec2(vTextureCoordBr.x, vTextureCoordUl.y);\n        vTextureCoordBl = vec2(vTextureCoordUl.x, vTextureCoordBr.y);\n        vColor = aColor;\n        gl_Position.y = -sign(projection.y) * gl_Position.y;\n    }\n",r.prototype.fragmentShaderSource="\n    #ifdef GL_ES\n    precision lowp float;\n    #endif\n    varying vec2 vTextureCoordUl;\n    varying vec2 vTextureCoordUr;\n    varying vec2 vTextureCoordBl;\n    varying vec2 vTextureCoordBr;\n    varying vec4 vColor;\n    uniform sampler2D uSampler;\n    void main(void){\n        vec4 color = 0.25 * (texture2D(uSampler, vTextureCoordUl) + texture2D(uSampler, vTextureCoordUr) + texture2D(uSampler, vTextureCoordBl) + texture2D(uSampler, vTextureCoordBr));\n        gl_FragColor = color * vColor;\n    }\n"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(37),r=n(5);class i extends r.WebGLDefaultShader{constructor(){super(...arguments),this._noiseTexture=new s.NoiseTexture(this.context.stage),this._graining=1/256,this._random=!1}set graining(e){this._graining=e,this.redraw()}get graining(){return this._graining}set random(e){this._random=e,this.redraw()}get random(){return this._random}setExtraAttribsInBuffer(e){this._noiseTexture.load();let t=e.extraAttribsDataByteOffset/4;const n=e.quadList.floats,s=e.length;for(let r=0;r<s;r++){let s=e.getElementWidth(r)/this._noiseTexture.getRenderWidth(),i=e.getElementHeight(r)/this._noiseTexture.getRenderHeight(),o=0,a=0;if(this._random){if(o=Math.random(),a=Math.random(),s+=o,i+=a,Math.random()<.5){const e=o;o=s,s=e}if(Math.random()<.5){const e=a;a=i,i=e}}n[t]=o,n[t+1]=a,n[t+2]=s,n[t+3]=a,n[t+4]=s,n[t+5]=i,n[t+6]=o,n[t+7]=i,t+=8}}beforeDraw(e){const t=this.gl;t.vertexAttribPointer(this._attrib("aNoiseTextureCoord"),2,t.FLOAT,!1,8,this.getVertexAttribPointerOffset(e));const n=this._noiseTexture.getUpdatedSource().nativeTexture;t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,n),t.activeTexture(t.TEXTURE0)}getExtraAttribBytesPerVertex(){return 8}setupUniforms(e){super.setupUniforms(e),this._setUniform("uNoiseSampler",1,this.gl.uniform1i),this._setUniform("graining",2*this._graining,this.gl.uniform1f)}enableAttribs(){super.enableAttribs(),this.gl.enableVertexAttribArray(this._attrib("aNoiseTextureCoord"))}disableAttribs(){super.disableAttribs(),this.gl.disableVertexAttribArray(this._attrib("aNoiseTextureCoord"))}useDefault(){return 0===this._graining}afterDraw(e){this._random&&this.redraw()}}t.WebGLDitheringShader=i,i.prototype.vertexShaderSource="\n    #ifdef GL_ES\n    precision lowp float;\n    #endif\n    attribute vec2 aVertexPosition;\n    attribute vec2 aTextureCoord;\n    attribute vec2 aNoiseTextureCoord;\n    attribute vec4 aColor;\n    uniform vec2 projection;\n    varying vec2 vTextureCoord;\n    varying vec2 vNoiseTextureCoord;\n    varying vec4 vColor;\n    void main(void){\n        gl_Position = vec4(aVertexPosition.x * projection.x - 1.0, aVertexPosition.y * -abs(projection.y) + 1.0, 0.0, 1.0);\n        vTextureCoord = aTextureCoord;\n        vNoiseTextureCoord = aNoiseTextureCoord;\n        vColor = aColor;\n        gl_Position.y = -sign(projection.y) * gl_Position.y;\n    }\n",i.prototype.fragmentShaderSource="\n    #ifdef GL_ES\n    precision lowp float;\n    #endif\n    varying vec2 vTextureCoord;\n    varying vec2 vNoiseTextureCoord;\n    varying vec4 vColor;\n    uniform sampler2D uSampler;\n    uniform sampler2D uNoiseSampler;\n    uniform float graining;\n    void main(void){\n        vec4 noise = texture2D(uNoiseSampler, vNoiseTextureCoord);\n        vec4 color = texture2D(uSampler, vTextureCoord);\n        gl_FragColor = (color * vColor) + graining * (noise.r - 0.5);\n    }\n"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(5);class r extends s.WebGLDefaultShader{constructor(e){super(e),this._inputValue=0,this._maxDerivative=.01,this._normalizedValue=0,this._offset=0,this._amount=.1,this._aspectRatio=1,this._offsetX=0,this._offsetY=0,this._valuesTexture=void 0,this._values=new Uint8Array([]),this._buckets=0,this.buckets=100}get aspectRatio(){return this._aspectRatio}set aspectRatio(e){this._aspectRatio=e,this.redraw()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this.redraw()}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this.redraw()}set amount(e){this._amount=e,this.redraw()}get amount(){return this._amount}set inputValue(e){this._inputValue=e}get inputValue(){return this._inputValue}set maxDerivative(e){this._maxDerivative=e}get maxDerivative(){return this._maxDerivative}set buckets(e){e>100&&(console.warn("CircularPushShader: supports max 100 buckets"),e=100),this._buckets=e,this._values=new Uint8Array(this._getValues(e)),this.redraw()}get buckets(){return this._buckets}_getValues(e){const t=[];for(let n=0;n<e;n++)t.push(this._inputValue);return t}progress(e){this._offset+=e*this._buckets;const t=Math.floor(this._offset);this._offset-=t,this._shiftBuckets(t),this.redraw()}_shiftBuckets(e){for(let t=this._buckets-1;t>=0;t--){const n=t-e;n<0?(this._normalizedValue=Math.min(this._normalizedValue+this._maxDerivative,Math.max(this._normalizedValue-this._maxDerivative,this._inputValue)),this._values[t]=255*this._normalizedValue):this._values[t]=this._values[n]}}set offset(e){this._offset=e,this.redraw()}get offset(){return this._offset}setupUniforms(e){super.setupUniforms(e),this._setUniform("aspectRatio",this._aspectRatio,this.gl.uniform1f),this._setUniform("offsetX",this._offsetX,this.gl.uniform1f),this._setUniform("offsetY",this._offsetY,this.gl.uniform1f),this._setUniform("amount",this._amount,this.gl.uniform1f),this._setUniform("offset",this._offset,this.gl.uniform1f),this._setUniform("buckets",this._buckets,this.gl.uniform1f),this._setUniform("uValueSampler",1,this.gl.uniform1i)}useDefault(){return 0===this._amount}beforeDraw(e){const t=this.gl;t.activeTexture(t.TEXTURE1),this._valuesTexture?t.bindTexture(t.TEXTURE_2D,this._valuesTexture):(this._valuesTexture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this._valuesTexture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1)),t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,this._buckets,1,0,t.ALPHA,t.UNSIGNED_BYTE,this._values),t.activeTexture(t.TEXTURE0)}cleanup(){this._valuesTexture&&this.gl.deleteTexture(this._valuesTexture)}}t.WebGLCircularPushShader=r,r.prototype.vertexShaderSource="\n    #ifdef GL_ES\n    precision lowp float;\n    #endif\n    attribute vec2 aVertexPosition;\n    attribute vec2 aTextureCoord;\n    attribute vec4 aColor;\n    uniform vec2 projection;\n    uniform float offsetX;\n    uniform float offsetY;\n    uniform float aspectRatio;\n    varying vec2 vTextureCoord;\n    varying vec2 vPos;\n    varying vec4 vColor;\n    void main(void){\n        gl_Position = vec4(aVertexPosition.x * projection.x - 1.0, aVertexPosition.y * -abs(projection.y) + 1.0, 0.0, 1.0);\n        vTextureCoord = aTextureCoord;\n        vPos = vTextureCoord * 2.0 - 1.0;\n        vPos.y = vPos.y * aspectRatio;\n        vPos.y = vPos.y + offsetY;\n        vPos.x = vPos.x + offsetX;\n        vColor = aColor;\n        gl_Position.y = -sign(projection.y) * gl_Position.y;\n    }\n",r.prototype.fragmentShaderSource="\n    #ifdef GL_ES\n    precision lowp float;\n    #endif\n    varying vec2 vTextureCoord;\n    varying vec4 vColor;\n    varying vec2 vPos;\n    uniform float amount;\n    uniform float offset;\n    uniform float values[100];\n    uniform float buckets;\n    uniform sampler2D uSampler;\n    uniform sampler2D uValueSampler;\n    void main(void){\n        float l = length(vPos);\n        float m = (l * buckets * 0.678 - offset) / buckets;\n        float f = texture2D(uValueSampler, vec2(m, 0.0)).a * amount;\n        vec2 unit = vPos / l;\n        gl_FragColor = texture2D(uSampler, vTextureCoord - f * unit) * vColor;\n    }\n"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(5);class r extends s.WebGLDefaultShader{constructor(e){super(e),this._amount=1}set amount(e){this._amount=e,this.redraw()}get amount(){return this._amount}useDefault(){return 0===this._amount}setupUniforms(e){super.setupUniforms(e),this._setUniform("amount",this._amount,this.gl.uniform1f)}}t.WebGLInversionShader=r,r.prototype.fragmentShaderSource="\n    #ifdef GL_ES\n    precision lowp float;\n    #endif\n    varying vec2 vTextureCoord;\n    varying vec4 vColor;\n    uniform sampler2D uSampler;\n    uniform float amount;\n    void main(void){\n        vec4 color = texture2D(uSampler, vTextureCoord);\n        color.rgb = color.rgb * (1.0 - amount) + amount * (1.0 * color.a - color.rgb); \n        gl_FragColor = color * vColor;\n    }\n"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(5);class r extends s.WebGLDefaultShader{constructor(e){super(e),this._direction=new Float32Array([1,0]),this._kernelRadius=1}get x(){return this._direction[0]}set x(e){this._direction[0]=e,this.redraw()}get y(){return this._direction[1]}set y(e){this._direction[1]=e,this.redraw()}get kernelRadius(){return this._kernelRadius}set kernelRadius(e){this._kernelRadius=e,this.redraw()}useDefault(){return 0===this._kernelRadius}setupUniforms(e){super.setupUniforms(e),this._setUniform("direction",this._direction,this.gl.uniform2fv),this._setUniform("kernelRadius",this._kernelRadius,this.gl.uniform1i);const t=e.getRenderWidth(),n=e.getRenderHeight();this._setUniform("resolution",new Float32Array([t,n]),this.gl.uniform2fv)}}t.WebGLLinearBlurShader=r,r.prototype.fragmentShaderSource="\n    #ifdef GL_ES\n    precision lowp float;\n    #endif\n    uniform vec2 resolution;\n    varying vec2 vTextureCoord;\n    varying vec4 vColor;\n    uniform sampler2D uSampler;\n    uniform vec2 direction;\n    uniform int kernelRadius;\n    \n    vec4 blur1(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n        vec4 color = vec4(0.0);\n        vec2 off1 = vec2(1.3333333333333333) * direction;\n        color += texture2D(image, uv) * 0.29411764705882354;\n        color += texture2D(image, uv + (off1 / resolution)) * 0.35294117647058826;\n        color += texture2D(image, uv - (off1 / resolution)) * 0.35294117647058826;\n        return color; \n    }\n    \n    vec4 blur2(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n        vec4 color = vec4(0.0);\n        vec2 off1 = vec2(1.3846153846) * direction;\n        vec2 off2 = vec2(3.2307692308) * direction;\n        color += texture2D(image, uv) * 0.2270270270;\n        color += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;\n        color += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;\n        color += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;\n        color += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;\n        return color;\n    }\n    \n    vec4 blur3(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n        vec4 color = vec4(0.0);\n        vec2 off1 = vec2(1.411764705882353) * direction;\n        vec2 off2 = vec2(3.2941176470588234) * direction;\n        vec2 off3 = vec2(5.176470588235294) * direction;\n        color += texture2D(image, uv) * 0.1964825501511404;\n        color += texture2D(image, uv + (off1 / resolution)) * 0.2969069646728344;\n        color += texture2D(image, uv - (off1 / resolution)) * 0.2969069646728344;\n        color += texture2D(image, uv + (off2 / resolution)) * 0.09447039785044732;\n        color += texture2D(image, uv - (off2 / resolution)) * 0.09447039785044732;\n        color += texture2D(image, uv + (off3 / resolution)) * 0.010381362401148057;\n        color += texture2D(image, uv - (off3 / resolution)) * 0.010381362401148057;\n        return color;\n    }    \n\n    void main(void){\n        if (kernelRadius == 1) {\n            gl_FragColor = blur1(uSampler, vTextureCoord, resolution, direction) * vColor;\n        } else if (kernelRadius == 2) {\n            gl_FragColor = blur2(uSampler, vTextureCoord, resolution, direction) * vColor;\n        } else {\n            gl_FragColor = blur3(uSampler, vTextureCoord, resolution, direction) * vColor;\n        }\n    }\n"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(10),r=n(5);class i extends r.WebGLDefaultShader{constructor(e){super(e),this._width=5,this._col=4294967295,this._color=[1,1,1,1]}set width(e){this._width=e,this.redraw()}get width(){return this._width}get color(){return this._col}set color(e){if(this._col!==e){const t=s.ColorUtils.getRgbaComponentsNormalized(e);t[0]=t[0]*t[3],t[1]=t[1]*t[3],t[2]=t[2]*t[3],this._color=t,this.redraw(),this._col=e}}useDefault(){return 0===this._width||0===this._color[3]}setupUniforms(e){super.setupUniforms(e);const t=this.gl;this._setUniform("color",new Float32Array(this._color),t.uniform4fv)}enableAttribs(){super.enableAttribs(),this.gl.enableVertexAttribArray(this._attrib("aCorner"))}disableAttribs(){super.disableAttribs(),this.gl.disableVertexAttribArray(this._attrib("aCorner"))}setExtraAttribsInBuffer(e){let t=e.extraAttribsDataByteOffset/4;const n=e.quadList.floats,s=e.length;for(let r=0;r<s;r++){const s=e.getElementCore(r),i=this._width/s.getLayoutW(),o=i/(1-2*i),a=this._width/s.getLayoutH(),c=a/(1-2*a);n[t]=-o,n[t+1]=-c,n[t+2]=1+o,n[t+3]=-c,n[t+4]=1+o,n[t+5]=1+c,n[t+6]=-o,n[t+7]=1+c,t+=8}}beforeDraw(e){const t=this.gl;t.vertexAttribPointer(this._attrib("aCorner"),2,t.FLOAT,!1,8,this.getVertexAttribPointerOffset(e))}getExtraAttribBytesPerVertex(){return 8}}t.WebGLOutlineShader=i,i.prototype.vertexShaderSource="\n    #ifdef GL_ES\n    precision lowp float;\n    #endif\n    attribute vec2 aVertexPosition;\n    attribute vec2 aTextureCoord;\n    attribute vec4 aColor;\n    attribute vec2 aCorner;\n    uniform vec2 projection;\n    varying vec2 vTextureCoord;\n    varying vec2 vCorner;\n    varying vec4 vColor;\n    void main(void){\n        gl_Position = vec4(aVertexPosition.x * projection.x - 1.0, aVertexPosition.y * -abs(projection.y) + 1.0, 0.0, 1.0);\n        vTextureCoord = aTextureCoord;\n        vCorner = aCorner;\n        vColor = aColor;\n        gl_Position.y = -sign(projection.y) * gl_Position.y;\n    }\n",i.prototype.fragmentShaderSource="\n    #ifdef GL_ES\n    precision lowp float;\n    #endif\n    varying vec2 vTextureCoord;\n    varying vec4 vColor;\n    varying vec2 vCorner;\n    uniform vec4 color;\n    uniform sampler2D uSampler;\n    void main(void){\n        vec2 m = min(vCorner, 1.0 - vCorner);\n        float value = step(0.0, min(m.x, m.y));\n        gl_FragColor = mix(color, texture2D(uSampler, vTextureCoord) * vColor, value);\n    }\n"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(5);class r extends s.WebGLDefaultShader{constructor(e){super(e),this._size=new Float32Array([4,4])}get x(){return this._size[0]}set x(e){this._size[0]=e,this.redraw()}get y(){return this._size[1]}set y(e){this._size[1]=e,this.redraw()}get size(){return this._size[0]}set size(e){this._size[0]=e,this._size[1]=e,this.redraw()}useDefault(){return 0===this._size[0]&&0===this._size[1]}setupUniforms(e){super.setupUniforms(e);const t=this.gl;this._setUniform("size",new Float32Array(this._size),t.uniform2fv)}getExtraAttribBytesPerVertex(){return 8}enableAttribs(){super.enableAttribs(),this.gl.enableVertexAttribArray(this._attrib("aTextureRes"))}disableAttribs(){super.disableAttribs(),this.gl.disableVertexAttribArray(this._attrib("aTextureRes"))}setExtraAttribsInBuffer(e){let t=e.extraAttribsDataByteOffset/4;const n=e.quadList.floats,s=e.length;for(let r=0;r<s;r++){const s=e.quadList.getTextureWidth(e.index+r),i=e.quadList.getTextureHeight(e.index+r);n[t]=s,n[t+1]=i,n[t+2]=s,n[t+3]=i,n[t+4]=s,n[t+5]=i,n[t+6]=s,n[t+7]=i,t+=8}}beforeDraw(e){const t=this.gl;t.vertexAttribPointer(this._attrib("aTextureRes"),2,t.FLOAT,!1,this.getExtraAttribBytesPerVertex(),this.getVertexAttribPointerOffset(e))}}t.WebGLPixelateShader=r,r.prototype.vertexShaderSource="\n    #ifdef GL_ES\n    precision lowp float;\n    #endif\n    attribute vec2 aVertexPosition;\n    attribute vec2 aTextureCoord;\n    attribute vec4 aColor;\n    attribute vec2 aTextureRes;\n    uniform vec2 projection;\n    varying vec2 vTextureCoord;\n    varying vec4 vColor;\n    varying vec2 vTextureRes;\n    void main(void){\n        gl_Position = vec4(aVertexPosition.x * projection.x - 1.0, aVertexPosition.y * -abs(projection.y) + 1.0, 0.0, 1.0);\n        vTextureCoord = aTextureCoord;\n        vColor = aColor;\n        vTextureRes = aTextureRes;\n        gl_Position.y = -sign(projection.y) * gl_Position.y;\n    }\n",r.prototype.fragmentShaderSource="\n    #ifdef GL_ES\n    precision lowp float;\n    #endif\n    varying vec2 vTextureCoord;\n    varying vec4 vColor;\n    varying vec2 vTextureRes;\n\n    uniform vec2 size;\n    uniform sampler2D uSampler;\n    \n    vec2 mapCoord( vec2 coord )\n    {\n        coord *= vTextureRes.xy;\n        return coord;\n    }\n    \n    vec2 unmapCoord( vec2 coord )\n    {\n        coord /= vTextureRes.xy;\n        return coord;\n    }\n    \n    vec2 pixelate(vec2 coord, vec2 size)\n    {\n        return floor( coord / size ) * size;\n    }\n    \n    void main(void)\n    {\n        vec2 coord = mapCoord(vTextureCoord);\n        coord = pixelate(coord, size);\n        coord = unmapCoord(coord);\n        gl_FragColor = texture2D(uSampler, coord) * vColor;\n    }\n"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(5);class r extends s.WebGLDefaultShader{constructor(e){super(e),this._radius=0,this._cutoff=1}set radius(e){this._radius=e,this.redraw()}get radius(){return this._radius}set cutoff(e){this._cutoff=e,this.redraw()}get cutoff(){return this._cutoff}useDefault(){return 0===this._radius}setupUniforms(e){super.setupUniforms(e),this._setUniform("radius",2*(this._radius-.5)/e.getRenderWidth(),this.gl.uniform1f),this._setUniform("cutoff",.5*e.getRenderWidth()/this._cutoff,this.gl.uniform1f)}}t.WebGLRadialFilterShader=r,r.prototype.vertexShaderSource="\n    #ifdef GL_ES\n    precision lowp float;\n    #endif\n    attribute vec2 aVertexPosition;\n    attribute vec2 aTextureCoord;\n    attribute vec4 aColor;\n    uniform vec2 projection;\n    varying vec2 pos;\n    varying vec2 vTextureCoord;\n    varying vec4 vColor;\n    void main(void){\n        gl_Position = vec4(aVertexPosition.x * projection.x - 1.0, aVertexPosition.y * -abs(projection.y) + 1.0, 0.0, 1.0);\n        vTextureCoord = aTextureCoord;\n        vColor = aColor;\n        gl_Position.y = -sign(projection.y) * gl_Position.y;\n        pos = gl_Position.xy;\n    }\n",r.prototype.fragmentShaderSource="\n    #ifdef GL_ES\n    precision lowp float;\n    #endif\n    varying vec2 vTextureCoord;\n    varying vec2 pos;\n    varying vec4 vColor;\n    uniform sampler2D uSampler;\n    uniform float radius;\n    uniform float cutoff;\n    void main(void){\n        vec4 color = texture2D(uSampler, vTextureCoord);\n        float f = max(0.0, min(1.0, 1.0 - (length(pos) - radius) * cutoff));\n        gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor * f;\n    }\n"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(5);class r extends s.WebGLDefaultShader{constructor(e){super(e),this._radius=0}set radius(e){e<1&&(e=1),this._radius=e,this.redraw()}get radius(){return this._radius}setupUniforms(e){super.setupUniforms(e);const t=e.shaderOwner,n=this.context.stage.getPixelRatio();this._setUniform("radius",(this._radius+.5)*n,this.gl.uniform1f),this._setUniform("resolution",new Float32Array([t.getLayoutW()*n,t.getLayoutH()*n]),this.gl.uniform2fv)}}t.WebGLRoundedRectangleShader=r,r.prototype.vertexShaderSource="\n    #ifdef GL_ES\n    precision lowp float;\n    #endif\n    attribute vec2 aVertexPosition;\n    attribute vec2 aTextureCoord;\n    \n    attribute vec4 aColor;\n    uniform vec2 projection;\n    varying vec2 vTextureCoord;\n    varying vec4 vColor;\n    \n    void main(void){\n        gl_Position = vec4(aVertexPosition.x * projection.x - 1.0, aVertexPosition.y * -abs(projection.y) + 1.0, 0.0, 1.0);\n        vTextureCoord = aTextureCoord;\n        vColor = aColor;\n        gl_Position.y = -sign(projection.y) * gl_Position.y;\n    }\n",r.prototype.fragmentShaderSource="\n    #ifdef GL_ES\n    precision lowp float;\n    #endif\n    #define PI 3.14159265359\n    varying vec2 vTextureCoord;\n    varying vec4 vColor;\n    uniform sampler2D uSampler;\n    uniform vec2 resolution;\n    uniform float radius;\n    float roundBox(vec2 p, vec2 b, float r) {\n        float d = length(max(abs(p)-b+r, 0.1))-r;\n        return smoothstep(0.0, 1.0, d);\n    }\n    void main() {\n        vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n        vec2 halfRes = 0.5 * resolution.xy;\n        float b = roundBox(vTextureCoord.xy * resolution - halfRes, halfRes, radius);\n        gl_FragColor = mix(color, vec4(0.0), b);\n    }\n"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(5),r=n(10);class i extends s.WebGLDefaultShader{constructor(){super(...arguments),this._x=0,this._y=0,this._radiusX=100,this._radiusY=100,this._color=4294967295,this._rawColor=new Float32Array([255,255,255,255])}set x(e){this._x=e,this.redraw()}get x(){return this._x}set y(e){this._y=e,this.redraw()}get y(){return this._y}set radiusX(e){this._radiusX=e,this.redraw()}get radiusX(){return this._radiusX}set radiusY(e){this._radiusY=e,this.redraw()}get radiusY(){return this._radiusY}set radius(e){this.radiusX=e,this.radiusY=e}get radius(){return this.radiusX}get color(){return this._color}set color(e){if(this._color!==e){const t=r.ColorUtils.getRgbaComponentsNormalized(e);t[0]=t[0]*t[3],t[1]=t[1]*t[3],t[2]=t[2]*t[3],this._rawColor=new Float32Array(t),this.redraw(),this._color=e}}setupUniforms(e){super.setupUniforms(e);const t=e.getNormalRenderTextureCoords(this._x,this._y);this._setUniform("center",new Float32Array(t),this.gl.uniform2fv),this._setUniform("radius",2*this._radiusX/e.getRenderWidth(),this.gl.uniform1f),this._setUniform("alpha",e.getElementCore(0).renderContext.alpha,this.gl.uniform1f),this._setUniform("color",this._rawColor,this.gl.uniform4fv),this._setUniform("aspectRatio",this._radiusX/this._radiusY*e.getRenderHeight()/e.getRenderWidth(),this.gl.uniform1f)}}t.WebGLRadialGradientShader=i,i.prototype.vertexShaderSource="\n    #ifdef GL_ES\n    precision lowp float;\n    #endif\n    attribute vec2 aVertexPosition;\n    attribute vec2 aTextureCoord;\n    attribute vec4 aColor;\n    uniform vec2 projection;\n    uniform vec2 center;\n    uniform float aspectRatio;\n    varying vec2 pos;\n    varying vec2 vTextureCoord;\n    varying vec4 vColor;\n    void main(void){\n        gl_Position = vec4(aVertexPosition.x * projection.x - 1.0, aVertexPosition.y * -abs(projection.y) + 1.0, 0.0, 1.0);\n        vTextureCoord = aTextureCoord;\n        vColor = aColor;\n        gl_Position.y = -sign(projection.y) * gl_Position.y;\n        pos = gl_Position.xy - center;\n        pos.y = pos.y * aspectRatio;\n    }\n",i.prototype.fragmentShaderSource="\n    #ifdef GL_ES\n    precision lowp float;\n    #endif\n    varying vec2 vTextureCoord;\n    varying vec4 vColor;\n    varying vec2 pos;\n    uniform sampler2D uSampler;\n    uniform float radius;\n    uniform vec4 color;\n    uniform float alpha;\n    void main(void){\n        float dist = length(pos);\n        gl_FragColor = mix(color * alpha, texture2D(uSampler, vTextureCoord) * vColor, min(1.0, dist / radius));\n    }\n"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(5);class r extends s.WebGLDefaultShader{constructor(e){super(e),this._strength=.5,this._ambient=.5,this._fudge=.4,this._rx=0,this._ry=0,this._z=0,this._pivotX=NaN,this._pivotY=NaN,this._pivotZ=NaN,this._lightY=0,this._lightZ=0}setupUniforms(e){super.setupUniforms(e);const t=e.shaderOwner,n=t.element,s=isNaN(this._pivotX)?n.pivotX*t.getLayoutW():this._pivotX,r=isNaN(this._pivotY)?n.pivotY*t.getLayoutH():this._pivotY,i=t.getRenderTextureCoords(s,r),o=-Math.atan2(t.renderContext.tc,t.renderContext.ta),a=this.gl;this._setUniform("pivot",new Float32Array([i[0],i[1],this._pivotZ]),a.uniform3fv),this._setUniform("rot",new Float32Array([this._rx,this._ry,o]),a.uniform3fv),this._setUniform("z",this._z,a.uniform1f),this._setUniform("lightY",this.lightY,a.uniform1f),this._setUniform("lightZ",this.lightZ,a.uniform1f),this._setUniform("strength",this._strength,a.uniform1f),this._setUniform("ambient",this._ambient,a.uniform1f),this._setUniform("fudge",this._fudge,a.uniform1f)}set strength(e){this._strength=e,this.redraw()}get strength(){return this._strength}set ambient(e){this._ambient=e,this.redraw()}get ambient(){return this._ambient}set fudge(e){this._fudge=e,this.redraw()}get fudge(){return this._fudge}get rx(){return this._rx}set rx(e){this._rx=e,this.redraw()}get ry(){return this._ry}set ry(e){this._ry=e,this.redraw()}get z(){return this._z}set z(e){this._z=e,this.redraw()}get pivotX(){return this._pivotX}set pivotX(e){this._pivotX=e+1,this.redraw()}get pivotY(){return this._pivotY}set pivotY(e){this._pivotY=e+1,this.redraw()}get lightY(){return this._lightY}set lightY(e){this._lightY=e,this.redraw()}get pivotZ(){return this._pivotZ}set pivotZ(e){this._pivotZ=e,this.redraw()}get lightZ(){return this._lightZ}set lightZ(e){this._lightZ=e,this.redraw()}useDefault(){return 0===this._rx&&0===this._ry&&0===this._z&&0===this._strength&&1===this._ambient}}t.WebGLLight3dShader=r,r.prototype.vertexShaderSource="\n    #ifdef GL_ES\n    precision lowp float;\n    #endif\n    attribute vec2 aVertexPosition;\n    attribute vec2 aTextureCoord;\n    attribute vec4 aColor;\n    uniform vec2 projection;\n    varying vec2 vTextureCoord;\n    varying vec4 vColor;\n\n    uniform float fudge;\n    uniform float strength;\n    uniform float ambient;\n    uniform float z;\n    uniform float lightY;\n    uniform float lightZ;\n    uniform vec3 pivot;\n    uniform vec3 rot;\n    varying vec3 pos;\n\n    void main(void) {\n        pos = vec3(aVertexPosition.xy, z);\n        \n        pos -= pivot;\n        \n        // Undo XY rotation\n        mat2 iRotXy = mat2( cos(rot.z), sin(rot.z), \n                           -sin(rot.z), cos(rot.z));\n        pos.xy = iRotXy * pos.xy;\n        \n        // Perform 3d rotations\n        gl_Position.x = cos(rot.x) * pos.x - sin(rot.x) * pos.z;\n        gl_Position.y = pos.y;\n        gl_Position.z = sin(rot.x) * pos.x + cos(rot.x) * pos.z;\n        \n        pos.x = gl_Position.x;\n        pos.y = cos(rot.y) * gl_Position.y - sin(rot.y) * gl_Position.z;\n        pos.z = sin(rot.y) * gl_Position.y + cos(rot.y) * gl_Position.z;\n        \n        // Redo XY rotation\n        iRotXy[0][1] = -iRotXy[0][1];\n        iRotXy[1][0] = -iRotXy[1][0];\n        pos.xy = iRotXy * pos.xy; \n\n        // Undo translate to pivot position\n        pos.xyz += pivot;\n\n        pos = vec3(pos.x * projection.x - 1.0, pos.y * -abs(projection.y) + 1.0, pos.z * projection.x);\n        \n        // Set depth perspective\n        float perspective = 1.0 + fudge * pos.z;\n\n        pos.z += lightZ * projection.x;\n\n        // Map coords to gl coordinate space.\n        // Set z to 0 because we don't want to perform z-clipping\n        gl_Position = vec4(pos.xy, 0.0, perspective);\n\n        // Correct light source position.\n        pos.y += lightY * abs(projection.y);\n\n        vTextureCoord = aTextureCoord;\n        vColor = aColor;\n        \n        gl_Position.y = -sign(projection.y) * gl_Position.y;\n    }\n",r.prototype.fragmentShaderSource="\n    #ifdef GL_ES\n    precision lowp float;\n    #endif\n    varying vec2 vTextureCoord;\n    varying vec4 vColor;\n    varying vec3 pos;\n    uniform sampler2D uSampler;\n    uniform float ambient;\n    uniform float strength;\n    void main(void){\n        vec4 rgba = texture2D(uSampler, vTextureCoord);\n        float d = length(pos);\n        float n = 1.0 / max(0.1, d);\n        rgba.rgb = rgba.rgb * (strength * n + ambient);\n        gl_FragColor = rgba * vColor;\n    }\n"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(7);class r extends s.Texture{constructor(){super(...arguments),this._drawingFunction=void 0,this._canvasWidth=0,this._canvasHeight=0}set drawingFunction(e){this._drawingFunction=e,this._changed()}get drawingFunction(){return this._drawingFunction}set canvasWidth(e){this._canvasWidth!==e&&(this._canvasWidth=e,this._changed())}set canvasHeight(e){this._canvasHeight!==e&&(this._canvasHeight=e,this._changed())}_getIsValid(){return!!this._drawingFunction&&this._canvasWidth>0&&this._canvasHeight>0}_getSourceLoader(){return e=>{const t=this.stage.platform.getDrawingCanvas();t.width=this._canvasWidth,t.height=this._canvasHeight;const n=t.getContext("2d");let s;n.imageSmoothingEnabled=!0;try{s=this._drawingFunction({context:n,w:this._canvasWidth,h:this._canvasHeight})}catch(t){return void(t instanceof Error?e(t):e(new Error("Error while drawing: "+t)))}const r=n=>{const s=n;s.source=t,e(void 0,s)};s instanceof Promise?s.then(e=>r(e)).catch(t=>e(t)):r(s)}}}t.DrawingTexture=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(7);class r extends s.Texture{constructor(){super(...arguments),this._htmlElement=void 0,this._scale=1}set htmlElement(e){this._htmlElement=e,this._changed()}get htmlElement(){return this._htmlElement}set scale(e){this._scale=e,this._changed()}get scale(){return this._scale}set html(e){if(e){const t=document.createElement("div");t.innerHTML="<div>"+e+"</div>",t.firstElementChild&&(this.htmlElement=t.firstElementChild)}else this.htmlElement=void 0}get html(){return this._htmlElement?this._htmlElement.innerHTML:""}_getIsValid(){return!!this.htmlElement}_getLookupId(){return this._scale+":"+this.html}_getSourceLoader(){const e=this._htmlElement,t=this._scale;return n=>{const s=window.html2canvas;if(!window.html2canvas)return n(new Error("Please include html2canvas (https://html2canvas.hertzen.com/)"));const i=r.getPreloadArea();i.appendChild(e),s(e,{backgroundColor:null,scale:t}).then(t=>{if(i.removeChild(e),0===t.height)return n(new Error("Canvas height is 0"));n(void 0,{source:t,width:t.width,height:t.height})}).catch(e=>{console.error(e)})}}static getPreloadArea(){return this._preloadArea||(this._preloadArea=document.createElement("div"),this._preloadArea.attachShadow&&this._preloadArea.attachShadow({mode:"closed"}),this._preloadArea.style.opacity="0",this._preloadArea.style.pointerEvents="none",this._preloadArea.style.position="fixed",this._preloadArea.style.display="block",this._preloadArea.style.top="100vh",this._preloadArea.style.overflow="hidden",document.body.appendChild(this._preloadArea)),this._preloadArea}}t.HtmlTexture=r,r._preloadArea=void 0},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(7);class r extends s.Texture{constructor(){super(...arguments),this._src=void 0,this._hasAlpha=!1}get src(){return this._src}set src(e){this._src!==e&&(this._src=e,this._changed())}get hasAlpha(){return this._hasAlpha}set hasAlpha(e){this._hasAlpha!==e&&(this._hasAlpha=e,this._changed())}_getIsValid(){return!!this._src}_getLookupId(){return this._src}_getSourceLoader(){const e=this._src,t=this._hasAlpha;return n=>this.stage.platform.loadSrcTexture({src:e,hasAlpha:t},n)}getNonDefaults(){const e=super.getNonDefaults();return this._src&&(e.src=this._src),e}}t.ImageTexture=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(7);class r extends s.Texture{constructor(e){super(e),this.stage=e,this.becomesUsed()}_getLookupId(){return"__whitepix"}_getSourceLoader(){return e=>{e(void 0,{source:new Uint8Array([255,255,255,255]),width:1,height:1,permanent:!0})}}addElement(e){}removeElement(e){}incActiveCount(){}decActiveCount(){}isAutosizeTexture(){return!1}}t.RectangleTexture=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(7),r=n(6),i=n(10);class o extends s.Texture{constructor(e){super(e),this._options=void 0,this.pixelRatio=this.stage.pixelRatio}set options(e){this._options=e,this._changed()}get options(){return this._options}_getIsValid(){return!!this._options&&!!this._options.w&&!!this._options.h}_getLookupId(){return"RC$"+s.Texture.getLookupIdFromSettings(this._options)+"|"+this.pixelRatio}_getSourceLoader(){const e=r.Utils.clone(this._options),t=this.pixelRatio;return n=>{const s=this.stage.platform.getDrawingCanvas();n(void 0,{source:s,renderInfo:o.drawOnCanvas(s,e,t)})}}static drawOnCanvas(e,t,n){let{w:s,h:r,radius:i=[0,0,0,0],strokeWidth:o=0,shadowBlur:a=0,shadowOffsetX:c=0,shadowOffsetY:l=0}=t;const{strokeColor:u,fill:h=!0,fillColor:d=4294967295,shadowColor:f=4294967295}=t;s*=n,r*=n,i=i.map(e=>e*n),o*=n,a*=n,c*=n,l*=n;const p=e.getContext("2d");p.imageSmoothingEnabled=!0,e.width=s+o+2+2*a+Math.abs(c),e.height=r+o+2+2*a+Math.abs(l),p.beginPath();const g=.5*o+1+a-Math.max(0,c),_=.5*o+1+a-Math.max(0,l);return p.moveTo(g+i[0],_),p.lineTo(g+s-i[1],_),p.arcTo(g+s,_,g+s,_+i[1],i[1]),p.lineTo(g+s,_+r-i[2]),p.arcTo(g+s,_+r,g+s-i[2],_+r,i[2]),p.lineTo(g+i[3],_+r),p.arcTo(g,_+r,g,_+r-i[3],i[3]),p.lineTo(g,_+i[0]),p.arcTo(g,_,g+i[0],_,i[0]),p.closePath(),a&&(p.shadowBlur=a,p.shadowOffsetX=c,p.shadowOffsetY=l,p.shadowColor=this.convertToCanvasColor(f)),o&&(p.strokeStyle=this.convertToCanvasColor(u),p.lineWidth=o,p.stroke()),h&&(p.fillStyle=this.convertToCanvasColor(d),p.fill()),{offsetX:g/n,offsetY:_/n}}static convertToCanvasColor(e){return r.Utils.isNumber(e)?i.ColorUtils.getRgbaString(e):e}}t.RoundRectTexture=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(7);class r extends s.Texture{constructor(){super(...arguments),this._textureSource=void 0}get textureSource(){return this._textureSource}set textureSource(e){e!==this._textureSource&&(e&&e.isResultTexture&&(this.pixelRatio=this.stage.getPixelRatio()),this._textureSource=e,this._changed())}_getIsValid(){return!!this._textureSource}}t.SourceTexture=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(7),r=n(6);class i extends s.Texture{constructor(e){super(e),this._options=void 0,this.pixelRatio=this.stage.pixelRatio}set options(e){this._options=e,this._changed()}get options(){return this._options}_getIsValid(){return!!(this._options&&this._options.src&&this._options.w&&this._options.h)}_getLookupId(){const{w:e,h:t,src:n}=this._options;return"svg"+[e,t,n].join(",")+"|"+this.pixelRatio}_getSourceLoader(){const e=r.Utils.clone(this._options);return t=>{const n=this.stage.platform.getDrawingCanvas(),s=n.getContext("2d");s.imageSmoothingEnabled=!0;const r=new Image;r.onload=()=>{const i=e.w*this.pixelRatio,o=e.h*this.pixelRatio;n.width=i,n.height=o,s.drawImage(r,0,0,n.width,n.height),t(void 0,{source:n})},r.onerror=e=>t(new Error("Image load error: "+e.toString())),r.src=e.src}}}t.SvgTexture=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(7),r=n(40),i=n(6);class o extends s.Texture{constructor(e){super(e),this.settings={},this._text="",this.pixelRatio=this.stage.pixelRatio}setSettings(e){this.settings=e,this._changed()}get text(){return this._text}set text(e){this._text!==e&&(this._text=e,this._changed())}get fontWeight(){return this.settings.fontWeight}set fontWeight(e){this.settings.fontWeight!==e&&(this.settings.fontWeight=e,this._changed())}get fontStyle(){return this.settings.fontStyle}set fontStyle(e){this.settings.fontStyle!==e&&(this.settings.fontStyle=e,this._changed())}get fontSize(){return this.settings.fontSize}set fontSize(e){this.settings.fontSize!==e&&(this.settings.fontSize=e,this._changed())}get fontFace(){return this.settings.fontFace}set fontFace(e){this.settings.fontFace!==e&&(this.settings.fontFace=e,this._changed())}get cutSx(){return this.settings.cutSx}set cutSx(e){this.settings.cutSx!==e&&(this.settings.cutSx=e,this._changed())}get cutEx(){return this.settings.cutEx}set cutEx(e){this.settings.cutEx!==e&&(this.settings.cutEx=e,this._changed())}get cutSy(){return this.settings.cutSy}set cutSy(e){this.settings.cutSy!==e&&(this.settings.cutSy=e,this._changed())}get cutEy(){return this.settings.cutEy}set cutEy(e){this.settings.cutEy!==e&&(this.settings.cutEy=e,this._changed())}get pixelRatio(){return super.pixelRatio}set pixelRatio(e){this.pixelRatio!==e&&(super.pixelRatio=e,this._changed())}_getIsValid(){return!!this._text}_getLookupId(){return"TX$"+this.text+"|"+s.Texture.getLookupIdFromSettings(this.settings)+"|"+this.pixelRatio}_getSourceLoader(){const e=this.cloneArgs();return t=>{const n=this.stage.platform.getDrawingCanvas(),s=new r.TextTextureRenderer(this.stage,n,this.text,e,this.pixelRatio),i=s.draw(),o=()=>{t(void 0,Object.assign({renderInfo:s.renderInfo},this.stage.platform.getTextureOptionsForDrawingCanvas(n)))};i?i.then(()=>{o()}).catch(e=>{t(e)}):o()}}getNonDefaults(){const e=super.getNonDefaults();for(const[t,n]of Object.entries(this.settings))e[t]=n;return e}cloneArgs(){return i.Utils.clone(this.settings)}}t.TextTexture=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(10);t.ColorUtils=s.ColorUtils;const r=n(17);t.Element=r.Element;const i=n(45);t.ElementChildList=i.ElementChildList;const o=n(23);t.ElementListeners=o.ElementListeners;const a=n(46);t.ObjectList=a.ObjectList;const c=n(15);t.Shader=c.Shader;const l=n(102);t.Stage=l.Stage;const u=n(7);t.Texture=u.Texture;const h=n(53);t.TextureManager=h.TextureManager;const d=n(22);t.TextureSource=d.TextureSource,function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(23))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(89),r=n(90),i=n(91);class o{constructor(e){this.flags=0,this._parent=void 0,this._onUpdate=void 0,this.updatedFlags=0,this._worldContext=new r.ElementCoreContext,this._hasUpdates=!1,this._localAlpha=1,this._onAfterCalcs=void 0,this._onAfterUpdate=void 0,this._localPx=0,this._localPy=0,this._localTa=1,this._localTb=0,this._localTc=0,this._localTd=1,this._isComplex=!1,this._dimsUnknown=!1,this._clipping=!1,this._zSort=!1,this._outOfBounds=0,this._displayedTextureSource=void 0,this._zContextUsage=0,this._children=void 0,this._hasRenderUpdates=0,this._zIndexedChildren=void 0,this._renderContext=this._worldContext,this._scissor=void 0,this._shaderOwner=void 0,this._updateTreeOrder=0,this._colorUl=4294967295,this._colorUr=4294967295,this._colorBl=4294967295,this._colorBr=4294967295,this._x=0,this._y=0,this._w=0,this._h=0,this._sx=0,this._sy=0,this._sw=0,this._sh=0,this._tw=0,this._th=0,this._relFuncFlags=0,this._funcX=void 0,this._funcY=void 0,this._funcW=void 0,this._funcH=void 0,this._scaleX=1,this._scaleY=1,this._pivotX=.5,this._pivotY=.5,this._mountX=0,this._mountY=0,this._rotation=0,this._alpha=1,this._visible=!0,this.ulx=0,this.uly=0,this.brx=1,this.bry=1,this._isRoot=!1,this._zIndex=0,this._forceZIndexContext=!1,this._zParent=void 0,this._zIndexResort=!1,this._shader=void 0,this._renderToTextureEnabled=!1,this._texturizer=void 0,this._useRenderToTexture=!1,this._withinBoundsMargin=!1,this._viewport=void 0,this._clipbox=!0,this.render=this._renderSimple,this._layout=void 0,this._stashedTexCoords=void 0,this._stashedColors=void 0,this._element=e,this.context=e.stage.context,this.renderState=this.context.renderState}getRenderContext(){return this._renderContext}get x(){return this._sx}set x(e){const t=e-this._sx;t&&(this._sx=e,this._funcX||(this._x+=t,this.updateLocalTranslateDelta(t,0)))}get funcX(){return this._funcX}set funcX(e){this._funcX!==e&&(e?(this._relFuncFlags|=1,this._funcX=e):this._disableFuncX(),this.hasFlexLayout()?this.layout.forceLayout():this._triggerRecalcTranslate())}_disableFuncX(){this._relFuncFlags=65534&this._relFuncFlags,this._funcX=void 0}get y(){return this._sy}set y(e){const t=e-this._sy;t&&(this._sy=e,this._funcY||(this._y+=t,this.updateLocalTranslateDelta(0,t)))}get funcY(){return this._funcY}set funcY(e){this._funcY!==e&&(e?(this._relFuncFlags|=2,this._funcY=e):this._disableFuncY(),this.hasFlexLayout()?this.layout.forceLayout():this._triggerRecalcTranslate())}_disableFuncY(){this._relFuncFlags=65533&this._relFuncFlags,this._funcY=void 0}get w(){return this._sw}set w(e){this._sw!==e&&(this._sw=e,this._updateBaseDimensions())}get funcW(){return this._funcW}set funcW(e){this._funcW!==e&&(e?(this._relFuncFlags|=4,this._funcW=e):this._disableFuncW(),this._updateBaseDimensions())}_disableFuncW(){this._relFuncFlags=65531&this._relFuncFlags,this._funcW=void 0}get h(){return this._sh}set h(e){this._sh!==e&&(this._sh=e,this._updateBaseDimensions())}get funcH(){return this._funcH}set funcH(e){this._funcH!==e&&(e?(this._relFuncFlags|=8,this._funcH=e):this._disableFuncH(),this._updateBaseDimensions())}_disableFuncH(){this._relFuncFlags=65527&this._relFuncFlags,this._funcH=void 0}get scaleX(){return this._scaleX}set scaleX(e){this._scaleX!==e&&(this._scaleX=e,this._updateLocalTransform())}get scaleY(){return this._scaleY}set scaleY(e){this._scaleY!==e&&(this._scaleY=e,this._updateLocalTransform())}get scale(){return this.scaleX}set scale(e){this._scaleX===e&&this._scaleY===e||(this._scaleX=e,this._scaleY=e,this._updateLocalTransform())}get pivotX(){return this._pivotX}set pivotX(e){this._pivotX!==e&&(this._pivotX=e,this._updateLocalTranslate())}get pivotY(){return this._pivotY}set pivotY(e){this._pivotY!==e&&(this._pivotY=e,this._updateLocalTranslate())}get pivot(){return this._pivotX}set pivot(e){this._pivotX===e&&this._pivotY===e||(this._pivotX=e,this._pivotY=e,this._updateLocalTranslate())}get mountX(){return this._mountX}set mountX(e){this._mountX!==e&&(this._mountX=e,this._updateLocalTranslate())}get mountY(){return this._mountY}set mountY(e){this._mountY!==e&&(this._mountY=e,this._updateLocalTranslate())}get mount(){return this._mountX}set mount(e){this._mountX===e&&this._mountY===e||(this._mountX=e,this._mountY=e,this._updateLocalTranslate())}get rotation(){return this._rotation}set rotation(e){this._rotation!==e&&(this._rotation=e,this._updateLocalTransform())}get alpha(){return this._alpha}set alpha(e){if(e=e>1?1:e<1e-14?0:e,this._alpha!==e){const t=this._alpha;this._alpha=e,this.updateLocalAlpha(),0===t!=(0===e)&&this._element._updateEnabledFlag()}}get visible(){return this._visible}set visible(e){this._visible!==e&&(this._visible=e,this.updateLocalAlpha(),this._element._updateEnabledFlag(),this.hasFlexLayout()&&this.layout.updateVisible())}_updateLocalTransform(){if(0!==this._rotation&&this._rotation%(2*Math.PI)){const e=Math.sin(this._rotation),t=Math.cos(this._rotation);this._setLocalTransform(t*this._scaleX,-e*this._scaleY,e*this._scaleX,t*this._scaleY)}else this._setLocalTransform(this._scaleX,0,0,this._scaleY);this._updateLocalTranslate()}_updateLocalTranslate(){this.updateLocalTranslate(),this._triggerRecalcTranslate()}updateLocalTranslate(){const e=this._pivotX*this._w,t=this._pivotY*this._h;let n=this._x-(e*this._localTa+t*this._localTb)+e,s=this._y-(e*this._localTc+t*this._localTd)+t;n-=this._mountX*this._w,s-=this._mountY*this._h,this._localPx=n,this._localPy=s}updateLocalTranslateDelta(e,t){this._addLocalTranslate(e,t)}updateLocalAlpha(){this._setLocalAlpha(this._visible?this._alpha:0)}hasUpdates(){return this._hasUpdates}hasRenderUpdates(){return this._hasRenderUpdates>0}hasRenderTextureUpdates(){return this._hasRenderUpdates>=3}clearHasRenderUpdates(){this._hasRenderUpdates=0}setHasRenderUpdates(e){if(this._worldContext.alpha){let t=this;for(t._hasRenderUpdates=Math.max(e,t._hasRenderUpdates);t=t._parent,t&&!(t._hasRenderUpdates>=3);)t._hasRenderUpdates=3}}setFlag(e){this.flags|=e,this._setHasUpdates(),this._parent&&this._parent.setHasRenderUpdates(3)}_setHasUpdates(){let e=this;for(;e&&!e._hasUpdates;)e._hasUpdates=!0,e=e._parent}getParent(){return this._parent}setParent(e){var t;if(e!==this._parent){const n=this.isZContext(),s=this._parent;if(this._parent=e,(this._layout||(null===(t=i.FlexNode.getActiveLayoutNode(e))||void 0===t?void 0:t.isFlexEnabled()))&&this.layout.setParent(s,e),s&&s.setHasRenderUpdates(3),this.setFlag(7),this._parent&&this._parent._setHasUpdates(),0===this._zIndex?this.setZParent(e):this.setZParent(e?e.findZContext():void 0),n!==this.isZContext())if(this.isZContext()){const e=s?s.findZContext():void 0;this.enableZContext(e)}else this.disableZContext();if(this._zIndexResort=!0,this._zParent&&this._zParent.enableZSort(),!this._shader){const t=e&&!e._renderToTextureEnabled?e._shaderOwner:void 0;t!==this._shaderOwner&&(this.setHasRenderUpdates(1),this._setShaderOwnerRecursive(t))}}}enableZSort(e=!1){!this._zSort&&this._zContextUsage>0&&(this._zSort=!0,e&&this.context.forceZSort(this))}addChildAt(e,t){this._children||(this._children=[]),this._children.length===e?this._children.push(t):this._children.splice(e,0,t),t.setParent(this)}setChildAt(e,t){this._children||(this._children=[]),this._children[e].setParent(void 0),this._children[e]=t,t.setParent(this)}removeChildAt(e){if(this._children){const t=this._children[e];this._children.splice(e,1),t.setParent(void 0)}}removeChildren(){if(this._children){for(let e=0,t=this._children.length;e<t;e++)this._children[e].setParent(void 0);this._children.splice(0),this._zIndexedChildren&&this._zIndexedChildren.splice(0)}}syncChildren(e,t,n){this._children=n;for(let t=0,n=e.length;t<n;t++)e[t].setParent(void 0);for(let e=0,n=t.length;e<n;e++)t[e].setParent(this)}moveChild(e,t){if(this._children){const n=this._children[e];this._children.splice(e,1),this._children.splice(t,0,n)}this._zIndexResort=!0,this._zParent&&this._zParent.enableZSort()}_setLocalTransform(e,t,n,s){this.setFlag(4),this._localTa=e,this._localTb=t,this._localTc=n,this._localTd=s,this._isComplex=0!==t||0!==n||e<0||s<0}_addLocalTranslate(e,t){this._localPx+=e,this._localPy+=t,this._triggerRecalcTranslate()}_setLocalAlpha(e){!this._worldContext.alpha&&this._parent&&this._parent._worldContext.alpha&&e?this.setFlag(129):this.setFlag(1),e<1e-14&&(e=0),this._localAlpha=e}setTextureDimensions(e,t,n=this._dimsUnknown){this._dimsUnknown=n,this._tw===e&&this._th===t||(this._tw=e,this._th=t,this._updateBaseDimensions())}_updateBaseDimensions(){(this._funcW||this._funcH)&&this._triggerRecalcTranslate();const e=this._sw||this._tw,t=this._sh||this._th;this.hasFlexLayout()?(this.layout.updatedSourceW(),this.layout.updatedSourceH()):(!this._funcW&&this._w!==e||!this._funcH&&this._h!==t)&&(this._funcW||(this._w=e),this._funcH||(this._h=t),this.onDimensionsChanged())}setLayoutCoords(e,t){this._x===e&&this._y===t||(this._x=e,this._y=t,this._updateLocalTranslate())}setLayoutDimensions(e,t){this._w===e&&this._h===t||(this._w=e,this._h=t,this.onDimensionsChanged())}onDimensionsChanged(){this._updateLocalTranslate(),this._texturizer&&(this._texturizer.releaseRenderTexture(),this._texturizer.updateResultTexture()),this.element._onResize(this._w,this._h)}setTextureCoords(e,t,n,s){this.setHasRenderUpdates(3),this.ulx=e,this.uly=t,this.brx=n,this.bry=s}get displayedTextureSource(){return this._displayedTextureSource}setDisplayedTextureSource(e){this.setHasRenderUpdates(3),this._displayedTextureSource=e}get isRoot(){return this._isRoot}setupAsRoot(){this._parent=new o(this._element),this._parent.w=this.context.stage.coordsWidth,this._parent.h=this.context.stage.coordsHeight,this._parent._hasRenderUpdates=3,this._parent._hasUpdates=!0,this._isRoot=!0,this.context.root=this,this._parent._viewport=[0,0,this.context.stage.coordsWidth,this.context.stage.coordsHeight],this._parent._scissor=this._parent._viewport,this._parent._recBoundsMargin=void 0,this.setFlag(7)}isAncestorOf(e){let t=e;for(;;){if(t=t._parent,!t)return!1;if(this===t)return!0}}isZContext(){return this._forceZIndexContext||this._renderToTextureEnabled||0!==this._zIndex||this._isRoot||!this._parent}findZContext(){return this.isZContext()?this:this._parent.findZContext()}setZParent(e){if(this._zParent!==e){if(this._zParent&&(0!==this._zIndex&&this._zParent.decZContextUsage(),this._zParent.enableZSort()),void 0!==e){const t=e._zContextUsage>0;0!==this._zIndex&&e.incZContextUsage(),e._zContextUsage>0&&((t||this._parent!==e)&&e._zIndexedChildren.push(this),e.enableZSort())}this._zParent=e,this._zIndexResort=!0}}incZContextUsage(){if(this._zContextUsage++,1===this._zContextUsage&&(this._zIndexedChildren||(this._zIndexedChildren=[]),this._children)){for(let e=0,t=this._children.length;e<t;e++)this._zIndexedChildren.push(this._children[e]);this._zSort=!1}}decZContextUsage(){this._zContextUsage--,0===this._zContextUsage&&(this._zSort=!1,this._zIndexedChildren.splice(0))}get zIndex(){return this._zIndex}set zIndex(e){if(this._zIndex!==e){this.setHasRenderUpdates(1);let t=this._zParent;const n=this.isZContext();if(0===e&&0!==this._zIndex?this._parent===this._zParent?this._zParent&&this._zParent.decZContextUsage():t=this._parent:0!==e&&0===this._zIndex?(t=this._parent?this._parent.findZContext():void 0,t===this._zParent&&this._zParent&&(this._zParent.incZContextUsage(),this._zParent.enableZSort())):e!==this._zIndex&&this._zParent&&this._zParent._zContextUsage&&this._zParent.enableZSort(),t!==this._zParent&&this.setZParent(void 0),this._zIndex=e,t!==this._zParent&&this.setZParent(t),n!==this.isZContext())if(this.isZContext()){const e=this._parent?this._parent.findZContext():void 0;this.enableZContext(e)}else this.disableZContext();this._zIndexResort=!0,this._zParent&&this._zParent.enableZSort()}}get forceZIndexContext(){return this._forceZIndexContext}set forceZIndexContext(e){this.setHasRenderUpdates(1);const t=this.isZContext();if(this._forceZIndexContext=e,t!==this.isZContext())if(this.isZContext()){const e=this._parent?this._parent.findZContext():void 0;this.enableZContext(e)}else this.disableZContext()}enableZContext(e){if(e&&e._zContextUsage>0){this._getZIndexedDescs().forEach(e=>{this.isAncestorOf(e)&&0!==e._zIndex&&e.setZParent(this)})}}_getZIndexedDescs(){const e=[];if(this._children)for(let t=0,n=this._children.length;t<n;t++)this._children[t]._getZIndexedDescsRec(e);return e}_getZIndexedDescsRec(e){if(this._zIndex)e.push(this);else if(this._children&&!this.isZContext())for(let t=0,n=this._children.length;t<n;t++)this._children[t]._getZIndexedDescsRec(e)}disableZContext(){if(this._zContextUsage>0){const e=this._parent?this._parent.findZContext():void 0;this._zSort&&this.sortZIndexedChildren(),this._zIndexedChildren.slice().forEach(t=>{0!==t._zIndex&&t.setZParent(e)})}}get colorUl(){return this._colorUl}set colorUl(e){this._colorUl!==e&&(this.setHasRenderUpdates(this._displayedTextureSource?3:1),this._colorUl=e)}get colorUr(){return this._colorUr}set colorUr(e){this._colorUr!==e&&(this.setHasRenderUpdates(this._displayedTextureSource?3:1),this._colorUr=e)}get colorBl(){return this._colorBl}set colorBl(e){this._colorBl!==e&&(this.setHasRenderUpdates(this._displayedTextureSource?3:1),this._colorBl=e)}get colorBr(){return this._colorBr}set colorBr(e){this._colorBr!==e&&(this.setHasRenderUpdates(this._displayedTextureSource?3:1),this._colorBr=e)}set onUpdate(e){this._onUpdate=e,this.setFlag(7)}get onUpdate(){return this._onUpdate}set onAfterUpdate(e){this._onAfterUpdate=e,this.setFlag(7)}get onAfterUpdate(){return this._onUpdate}set onAfterCalcs(e){this._onAfterCalcs=e,this.setFlag(7)}get onAfterCalcs(){return this._onUpdate}get shader(){return this._shader}set shader(e){this.setHasRenderUpdates(1);const t=this._shader;if(this._shader=e,!e&&t){const e=this._parent&&!this._parent._renderToTextureEnabled?this._parent._shaderOwner:void 0;this._setShaderOwnerRecursive(e)}else e&&this._setShaderOwnerRecursive(this)}get activeShader(){return this._shaderOwner?this._shaderOwner.shader:this.renderState.defaultShader}get activeShaderOwner(){return this._shaderOwner}get clipping(){return this._clipping}set clipping(e){this._clipping!==e&&(this._clipping=e,this.setFlag(3))}get clipbox(){return this._clipbox}set clipbox(e){this._clipbox=e}_setShaderOwnerRecursive(e){if(this._shaderOwner=e,this._children&&!this._renderToTextureEnabled)for(let t=0,n=this._children.length;t<n;t++){const n=this._children[t];n._shader||(n._setShaderOwnerRecursive(e),n._hasRenderUpdates=3)}}_setShaderOwnerChildrenRecursive(e){if(this._children)for(let t=0,n=this._children.length;t<n;t++){const n=this._children[t];n._shader||(n._setShaderOwnerRecursive(e),n._hasRenderUpdates=3)}}_hasRenderContext(){return this._renderContext!==this._worldContext}get renderContext(){return this._renderContext}updateRenderToTextureEnabled(){const e=this.texturizer;e.enabled?this._enableRenderToTexture():(this._disableRenderToTexture(),e.releaseRenderTexture())}_enableRenderToTexture(){if(!this._renderToTextureEnabled){const e=this.isZContext();this._renderToTextureEnabled=!0,this._renderContext=new r.ElementCoreContext,this._setShaderOwnerChildrenRecursive(void 0),e||this.enableZContext(this._parent?this._parent.findZContext():void 0),this.setHasRenderUpdates(3),this.setFlag(7),this.render=this._renderAdvanced}}_disableRenderToTexture(){this._renderToTextureEnabled&&(this._renderToTextureEnabled=!1,this._setShaderOwnerChildrenRecursive(this._shaderOwner),this._renderContext=this._worldContext,this.isZContext()||this.disableZContext(),this.setFlag(7),this.setHasRenderUpdates(3),this.render=this._renderSimple)}isWhite(){return 4294967295===this._colorUl&&4294967295===this._colorUr&&4294967295===this._colorBl&&4294967295===this._colorBr}hasSimpleTexCoords(){return 0===this.ulx&&0===this.uly&&1===this.brx&&1===this.bry}_stashTexCoords(){this._stashedTexCoords=[this.ulx,this.uly,this.brx,this.bry],this.ulx=0,this.uly=0,this.brx=1,this.bry=1}_unstashTexCoords(){this.ulx=this._stashedTexCoords[0],this.uly=this._stashedTexCoords[1],this.brx=this._stashedTexCoords[2],this.bry=this._stashedTexCoords[3],this._stashedTexCoords=void 0}_stashColors(){this._stashedColors=[this._colorUl,this._colorUr,this._colorBr,this._colorBl],this._colorUl=4294967295,this._colorUr=4294967295,this._colorBr=4294967295,this._colorBl=4294967295}_unstashColors(){this._colorUl=this._stashedColors[0],this._colorUr=this._stashedColors[1],this._colorBr=this._stashedColors[2],this._colorBl=this._stashedColors[3],this._stashedColors=void 0}isDisplayed(){return this._visible}isVisible(){return this._localAlpha>1e-14}get outOfBounds(){return this._outOfBounds}set boundsMargin(e){this._boundsMargin=e?e.slice():void 0,this._triggerRecalcTranslate()}get boundsMargin(){return this._boundsMargin}hasRelativeDimensionFunctions(){return 12&this._relFuncFlags}update(){if(this.flags|=135&this._parent.updatedFlags,this._layout&&this._layout.isEnabled()){const e=this.isFlexLayoutRoot()&&this.hasRelativeDimensionFunctions();(256&this.flags||e)&&this._layout.layoutFlexTree()}else 2&this.flags&&this._relFuncFlags&&this._applyRelativeDimFuncs();this._onUpdate&&(this._hasUpdates=!0,this._onUpdate({element:this.element}));const e=this._parent._worldContext,t=this._worldContext,n=e.alpha&&this._localAlpha;if(this._hasUpdates||this.flags&&n||t.alpha&&!n){let s=this.flags;1&s&&(!t.alpha&&n&&(this._hasRenderUpdates=3),t.alpha=e.alpha*this._localAlpha,t.alpha<1e-14&&(t.alpha=0)),6&s&&(t.px=e.px+this._localPx*e.ta,t.py=e.py+this._localPy*e.td,0!==e.tb&&(t.px+=this._localPy*e.tb),0!==e.tc&&(t.py+=this._localPx*e.tc)),4&s&&(t.ta=this._localTa*e.ta,t.tb=this._localTd*e.tb,t.tc=this._localTa*e.tc,t.td=this._localTd*e.td,this._isComplex&&(t.ta+=this._localTc*e.tb,t.tb+=this._localTb*e.ta,t.tc+=this._localTc*e.td,t.td+=this._localTb*e.tc));const i=this._parent._renderContext;if(this._parent._hasRenderContext()){const e=this._renderContext===this._worldContext;e&&(this._renderContext=new r.ElementCoreContext);const t=this._renderContext;(e||1&s)&&(t.alpha=i.alpha*this._localAlpha,t.alpha<1e-14&&(t.alpha=0)),(e||6&s)&&(t.px=i.px+this._localPx*i.ta,t.py=i.py+this._localPy*i.td,0!==i.tb&&(t.px+=this._localPy*i.tb),0!==i.tc&&(t.py+=this._localPx*i.tc)),e&&(s|=2),(e||4&s)&&(t.ta=this._localTa*i.ta,t.tb=this._localTd*i.tb,t.tc=this._localTa*i.tc,t.td=this._localTd*i.td,this._isComplex&&(t.ta+=this._localTc*i.tb,t.tb+=this._localTb*i.ta,t.tc+=this._localTc*i.td,t.td+=this._localTb*i.tc))}else this._renderContext=this._worldContext;-1===this.context.updateTreeOrder?this.context.updateTreeOrder=this._updateTreeOrder+1:this._updateTreeOrder=this.context.updateTreeOrder++;const o=this._renderToTextureEnabled&&this._texturizer.mustRenderToTexture();this._useRenderToTexture!==o&&(this.flags|=6,s|=2,this._useRenderToTexture||this._texturizer.release()),this._useRenderToTexture=o;const a=this._renderContext,c=this._dimsUnknown?2048:this._w,l=this._dimsUnknown?2048:this._h;let u,h,d,f;const p=0!==a.tb||0!==a.tc||a.ta<0||a.td<0;if(p?(u=Math.min(0,c*a.ta,c*a.ta+l*a.tb,l*a.tb)+a.px,d=Math.max(0,c*a.ta,c*a.ta+l*a.tb,l*a.tb)+a.px,h=Math.min(0,c*a.tc,c*a.tc+l*a.td,l*a.td)+a.py,f=Math.max(0,c*a.tc,c*a.tc+l*a.td,l*a.td)+a.py):(u=a.px,d=a.px+a.ta*c,h=a.py,f=a.py+a.td*l),this._dimsUnknown&&(p||this._localTa<1||this._localTd<1)){const e=this._x*i.ta+this._y*i.tb+i.px,t=this._x*i.tc+this._y*i.td+i.py;e<u&&(u=e),t<h&&(h=t),e>d&&(d=e),t>f&&(f=t)}if(6&s||!this._scissor)if(this._clipping&&a.isSquare()){const e=this._parent._useRenderToTexture?this._parent._viewport:this._parent._scissor;if(e){const t=Math.max(e[0],u),n=Math.max(e[1],h);this._scissor=[t,n,Math.min(e[2]+e[0],d)-t,Math.min(e[3]+e[1],f)-n]}else this._scissor=[u,h,d-u,f-h]}else this._scissor=this._parent._useRenderToTexture?this._parent._viewport:this._parent._scissor;if(this._boundsMargin?this._recBoundsMargin=this._boundsMargin:this._recBoundsMargin=this._parent._recBoundsMargin,this._onAfterCalcs&&(this._onAfterCalcs({element:this.element}),p?(u=Math.min(0,c*a.ta,c*a.ta+l*a.tb,l*a.tb)+a.px,d=Math.max(0,c*a.ta,c*a.ta+l*a.tb,l*a.tb)+a.px,h=Math.min(0,c*a.tc,c*a.tc+l*a.td,l*a.td)+a.py,f=Math.max(0,c*a.tc,c*a.tc+l*a.td,l*a.td)+a.py):(u=a.px,d=a.px+a.ta*c,h=a.py,f=a.py+a.td*l),this._dimsUnknown&&(p||this._localTa<1||this._localTb<1))){const e=this._x*i.ta+this._y*i.tb+i.px,t=this._x*i.tc+this._y*i.td+i.py;e<u&&(u=e),t<h&&(h=t),e>d&&(d=e),t>f&&(f=t)}if(2===this._parent._outOfBounds)this._outOfBounds=2,this._withinBoundsMargin&&(this._withinBoundsMargin=!1,this.element._disableWithinBoundsMargin());else if(6&s){this._outOfBounds=0;let e=!0;if(!this._renderToTextureEnabled||!this._texturizer||!this._texturizer.renderOffscreen){const t=this._scissor;t&&(t[2]<=0||t[3]<=0)?this._outOfBounds=2:((t[0]>d||t[1]>f||u>t[0]+t[2]||h>t[1]+t[3])&&(this._outOfBounds=1),this._outOfBounds&&(this._clipping||this._useRenderToTexture||this._clipbox&&c&&l)&&(this._outOfBounds=2)),e=0===this._outOfBounds,e||(e=this._recBoundsMargin?!(d<t[0]-this._recBoundsMargin[2]||f<t[1]-this._recBoundsMargin[3]||u>t[0]+t[2]+this._recBoundsMargin[0]||h>t[1]+t[3]+this._recBoundsMargin[1]):!(d<t[0]-100||f<t[1]-100||u>t[0]+t[2]+100||h>t[1]+t[3]+100),e&&2===this._outOfBounds&&(this._outOfBounds=1))}if(this._withinBoundsMargin!==e)if(this._withinBoundsMargin=e,this._withinBoundsMargin){this._hasUpdates=!0;const e=this.flags;if(this.flags=0,this.element._enableWithinBoundsMargin(),this.flags)return this.flags=e|this.flags,this.update();this.flags=e}else this.element._disableWithinBoundsMargin()}if(this._useRenderToTexture&&(this._viewport?(this._viewport[2]=c,this._viewport[3]=l):this._viewport=[0,0,c,l]),this.updatedFlags=151&this.flags,this.flags=0,this._hasUpdates=!1,this._outOfBounds<2){if(this._useRenderToTexture&&(this._worldContext.isIdentity()?this._renderContext=this._worldContext:this._renderContext=r.ElementCoreContext.IDENTITY),this._children)for(let e=0,t=this._children.length;e<t;e++)this._children[e].update();this._useRenderToTexture&&(this._renderContext=a)}else if(this._children)for(let e=0,t=this._children.length;e<t;e++)this._children[e]._hasUpdates?this._children[e].update():(this._children[e].flags|=this.updatedFlags,this._children[e].updateOutOfBounds());this._onAfterUpdate&&this._onAfterUpdate({element:this.element})}else-1===this.context.updateTreeOrder||this._updateTreeOrder>=this.context.updateTreeOrder?this.context.updateTreeOrder=-1:this.updateTreeOrder()}_applyRelativeDimFuncs(){const e=this.getLayoutParent();if(1&this._relFuncFlags){const t=this._funcX(e._w,e._h);t!==this._x&&(this._localPx+=t-this._x,this._x=t)}if(2&this._relFuncFlags){const t=this._funcY(e._w,e._h);t!==this._y&&(this._localPy+=t-this._y,this._y=t)}let t=!1;if(4&this._relFuncFlags){const n=this._funcW(e._w,e._h);n!==this._w&&(this._w=n,t=!0)}if(8&this._relFuncFlags){const n=this._funcH(e._w,e._h);n!==this._h&&(this._h=n,t=!0)}t&&this.onDimensionsChanged()}getLayoutParent(){let e=this.getParent();for(;e.skipInLayout;){const t=e.getParent();if(!t)return e;e=t}return e}updateOutOfBounds(){if(2!==this._outOfBounds&&this._renderContext.alpha>0&&(this._outOfBounds=2,this._withinBoundsMargin&&(this._withinBoundsMargin=!1,this.element._disableWithinBoundsMargin()),this._children))for(let e=0,t=this._children.length;e<t;e++)this._children[e].updateOutOfBounds()}updateTreeOrder(){if(this._localAlpha&&2!==this._outOfBounds&&(this._updateTreeOrder=this.context.updateTreeOrder++,this._children))for(let e=0,t=this._children.length;e<t;e++)this._children[e].updateTreeOrder()}_renderSimple(){if(this._hasRenderUpdates=0,this._zSort&&this.sortZIndexedChildren(),this._outOfBounds<2&&this._renderContext.alpha){const e=this.renderState;if(0===this._outOfBounds&&this._displayedTextureSource&&(e.setShader(this.activeShader,this._shaderOwner),e.setScissor(this._scissor),e.addElementCore(this)),this._children)if(this._zContextUsage)for(let e=0,t=this._zIndexedChildren.length;e<t;e++)this._zIndexedChildren[e].render();else for(let e=0,t=this._children.length;e<t;e++)0===this._children[e]._zIndex&&this._children[e].render()}}_renderAdvanced(){const e=this._hasRenderUpdates;if(this._hasRenderUpdates=0,this._zSort&&this.sortZIndexedChildren(),this._outOfBounds<2&&this._renderContext.alpha){const t=this.renderState;let n,s,i=!0;if(this._useRenderToTexture){if(0===this._w||0===this._h)return;if(!this._texturizer.hasRenderTexture()||e>=3){if(t.setShader(t.defaultShader,this),s=t.renderTextureInfo,n={renderTexture:void 0,reusableTexture:void 0,reusableRenderStateOffset:0,w:this._w,h:this._h,empty:!0,cleared:!1,ignore:!1,cache:!1},(this._texturizer.hasResultTexture()||!t.isCachingTexturizer&&e<3)&&(n.cache=!0,t.isCachingTexturizer=!0),this._texturizer.hasResultTexture()||this._texturizer.releaseRenderTexture(),t.setRenderTextureInfo(n),t.setScissor(void 0),this._displayedTextureSource){const e=this._renderContext;this._renderContext=r.ElementCoreContext.IDENTITY,this.renderState.addElementCore(this),this._renderContext=e}}else i=!1}else 0===this._outOfBounds&&this._displayedTextureSource&&(t.setShader(this.activeShader,this._shaderOwner),t.setScissor(this._scissor),this.renderState.addElementCore(this));if(i&&this._children)if(this._zContextUsage)for(let e=0,t=this._zIndexedChildren.length;e<t;e++)this._zIndexedChildren[e].render();else for(let e=0,t=this._children.length;e<t;e++)0===this._children[e]._zIndex&&this._children[e].render();if(this._useRenderToTexture){let e=!1;if(i&&(t.finishedRenderTexture(),this._texturizer.empty=n.empty,n.empty?this._texturizer.releaseRenderTexture():n.reusableTexture?(this._texturizer.reuseTextureAsRenderTexture(n.reusableTexture),n.ignore=!0):(this._texturizer.renderTextureReused&&this._texturizer.releaseRenderTexture(),n.renderTexture=this._texturizer.getRenderTexture()),t.setRenderTextureInfo(s),e=!0),!this._texturizer.empty){const s=this._texturizer.getResultTexture();if(e&&(s&&(s.updateFrame=this.element.stage.frameCounter),this._texturizer.updateResultTexture()),!this._texturizer.renderOffscreen){t.setShader(this.activeShader,this._shaderOwner),t.setScissor(this._scissor);const e=!n||n.cache;t.setTexturizer(this._texturizer,e),this._stashTexCoords(),this._texturizer.colorize||this._stashColors(),this.renderState.addElementCore(this),this._texturizer.colorize||this._unstashColors(),this._unstashTexCoords(),t.setTexturizer(void 0,!1)}}}n&&n.cache&&(t.isCachingTexturizer=!1)}}get zSort(){return this._zSort}sortZIndexedChildren(){const e=this._zIndexedChildren.length;let t=0;const n=this._zIndexedChildren,s=[];for(let r=0;r<e;r++)n[r]._zParent===this&&(n[r]._zIndexResort?s.push(n[r]):(t!==r&&(n[t]=n[r]),t++));const r=s.length;if(r){for(let e=0;e<r;e++)s[e]._zIndexResort=!1;s.sort(o.sortZIndexedChildren);const e=t;if(e){t=0;let i=0,o=0;const a=[];for(;;){const c=(n[i]._zIndex===s[o]._zIndex?n[i]._updateTreeOrder-s[o]._updateTreeOrder:n[i]._zIndex-s[o]._zIndex)>0?s[o++]:n[i++];if(0!==t&&a[t-1]===c||(a[t++]=c),i>=e){do{const e=s[o++];0!==t&&a[t-1]===e||(a[t++]=e)}while(o<r);break}if(o>=r){do{const e=n[i++];0!==t&&a[t-1]===e||(a[t++]=e)}while(i<e);break}}this._zIndexedChildren=a}else{t=0;let e=0;do{n[t++]=s[e++]}while(e<r);n.length>t&&n.splice(t)}}else n.length>t&&n.splice(t);this._zSort=!1}get localTa(){return this._localTa}get localTb(){return this._localTb}get localTc(){return this._localTc}get localTd(){return this._localTd}get element(){return this._element}get renderUpdates(){return this._hasRenderUpdates}get texturizer(){return this._texturizer||(this._texturizer=new s.ElementTexturizer(this)),this._texturizer}getCornerPoints(){const e=this._worldContext;return[e.px,e.py,e.px+this._w*e.ta,e.py+this._w*e.tc,e.px+this._w*e.ta+this._h*e.tb,e.py+this._w*e.tc+this._h*e.td,e.px+this._h*e.tb,e.py+this._h*e.td]}getRenderTextureCoords(e,t){const n=this._renderContext;return[n.px+n.ta*e+n.tb*t,n.py+n.tc*e+n.td*t]}getAbsoluteCoords(e,t){const n=this._renderContext;return[n.px+n.ta*e+n.tb*t,n.py+n.tc*e+n.td*t]}get skipInLayout(){return!!this._layout&&this._layout.skip}set skipInLayout(e){this.skipInLayout!==e&&(this._triggerRecalcTranslate(),this.layout.skip=e)}get layout(){return this._ensureLayout(),this._layout}hasLayout(){return!!this._layout}getLayout(){return this.layout}enableFlexLayout(){this._ensureLayout()}_ensureLayout(){this._layout||(this._layout=new i.FlexNode(this))}disableFlexLayout(){this._triggerRecalcTranslate()}hasFlexLayout(){return this._layout&&this._layout.isEnabled()}isFlexLayoutRoot(){return this._layout&&this._layout.isLayoutRoot()}getFlexContainer(){return this.layout.isFlexEnabled()?this.layout.flex:void 0}getFlexItem(){return this.layout.flexItem}triggerLayout(){this.setFlag(256)}_triggerRecalcTranslate(){this.setFlag(2)}getRenderWidth(){return this._w}getRenderHeight(){return this._h}isWithinBoundsMargin(){return this._withinBoundsMargin}get parent(){return this._parent}hasTexturizer(){return!!this._texturizer}getChildren(){return this._children}getSourceFuncX(){return this._funcX}getSourceFuncY(){return this._funcY}getSourceFuncW(){return this._funcW}getSourceFuncH(){return this._funcH}static sortZIndexedChildren(e,t){return e._zIndex===t._zIndex?e._updateTreeOrder-t._updateTreeOrder:e._zIndex-t._zIndex}getSourceX(){return this._sx}getSourceY(){return this._sy}getSourceW(){return this._sw||this._tw}getSourceH(){return this._sh||this._th}getLayoutX(){return this._x}getLayoutY(){return this._y}getLayoutW(){return this._w}getLayoutH(){return this._h}convertWorldCoordsToLocal(e,t){const n=this._worldContext;if(e-=n.px,t-=n.py,n.isIdentity())return[e,t];if(n.isSquare())return[e/n.ta,t/n.td];{const s=n.tc/n.ta,r=(t-s*e)/(n.td-n.tb*s);return[(e-n.tb*r)/n.ta,r]}}isCoordsWithinElement(e,t){return e>=0&&t>=0&&e<this._w&&t<this._h}getCoordinatesOrigin(){const e=this._parent;return e?e._useRenderToTexture?e:e.getCoordinatesOrigin():this}isWorldCoordinatesInScissor(e,t){const n=this._scissor;if(n){const s=this.getCoordinatesOrigin(),[r,i]=s.convertWorldCoordsToLocal(e,t);return!(r<n[0]||i<n[1]||r>=n[0]+n[2]||i>=n[1]+n[3])}return!0}gatherElementsAtCoordinates(e,t,n){let s=!1;if(!this._renderContext.alpha)return;const[r,i]=this.convertWorldCoordsToLocal(e,t);s=this.isCoordsWithinElement(r,i),s&&0!==this.zIndex&&(this.isWorldCoordinatesInScissor(e,t)||(s=!1)),s&&n.push({offsetX:r,offsetY:i,element:this.element});const o=this._useRenderToTexture||this._clipping&&this._renderContext.isSquare(),a=s||!o;if(this._children&&a)if(this._zContextUsage)for(let s=0,r=this._zIndexedChildren.length;s<r;s++)this._zIndexedChildren[s].gatherElementsAtCoordinates(e,t,n);else for(let s=0,r=this._children.length;s<r;s++)0===this._children[s]._zIndex&&this._children[s].gatherElementsAtCoordinates(e,t,n)}checkWithinBounds(){this.setFlag(6)}}t.ElementCore=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(22);t.ElementTexturizer=class{constructor(e){this._core=e,this._element=this._core.element,this.context=this._core.context,this._enabled=!1,this.lazy=!1,this._colorize=!1,this._renderTexture=void 0,this._reusedTexture=void 0,this._resultTextureSource=void 0,this._renderOffscreen=!1,this.empty=!1}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._core.updateRenderToTextureEnabled()}get renderOffscreen(){return this._renderOffscreen}set renderOffscreen(e){this._renderOffscreen=e,this._core.setHasRenderUpdates(1),this._core.checkWithinBounds()}get colorize(){return this._colorize}set colorize(e){this._colorize!==e&&(this._colorize=e,this._core.setHasRenderUpdates(1))}_getTextureSource(){return this._resultTextureSource||(this._resultTextureSource=new s.TextureSource(this._element.stage.textureManager),this.updateResultTexture()),this._resultTextureSource}hasResultTexture(){return!!this._resultTextureSource}resultTextureInUse(){return this._resultTextureSource&&this._resultTextureSource.hasEnabledElements()}updateResultTexture(){const e=this.getResultTexture();if(this._resultTextureSource){if(this._resultTextureSource.nativeTexture!==e){const t=e?e.w:0,n=e?e.h:0;this._resultTextureSource.replaceNativeTexture(e,t,n)}this._resultTextureSource.forEachEnabledElement(e=>{e._updateTextureDimensions(),e.core.setHasRenderUpdates(3)})}}mustRenderToTexture(){return!(!this._enabled||this.lazy)||!(!this._enabled||!this.lazy||this._core.hasRenderTextureUpdates())}deactivate(){this.release()}get renderTextureReused(){return!!this._reusedTexture}release(){this.releaseRenderTexture()}releaseRenderTexture(){this._renderTexture&&(this.context.releaseRenderTexture(this._renderTexture),this._renderTexture=void 0,this.updateResultTexture())}reuseTextureAsRenderTexture(e){this._renderTexture!==e&&(this.releaseRenderTexture(),this._reusedTexture=e)}hasRenderTexture(){return!!this._renderTexture}getRenderTexture(){return this._renderTexture||(this._renderTexture=this.context.allocateRenderTexture(this._core.getLayoutW(),this._core.getLayoutH()),this._reusedTexture=void 0),this._renderTexture}getResultTexture(){return this._reusedTexture||this._renderTexture}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class s{constructor(){this.alpha=1,this.px=0,this.py=0,this.ta=1,this.tb=0,this.tc=0,this.td=1}isIdentity(){return 1===this.alpha&&0===this.px&&0===this.py&&1===this.ta&&0===this.tb&&0===this.tc&&1===this.td}isSquare(){return 0===this.tb&&0===this.tc}}t.ElementCoreContext=s,s.IDENTITY=new s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(41);t.FlexContainer=s.FlexContainer;const r=n(43);t.FlexItem=r.FlexItem;const i=n(44);t.FlexNode=i.FlexNode;const o=n(101);t.FlexTarget=o.FlexTarget},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(93),r=n(94),i=n(100);t.FlexLayouter=class{constructor(e){this.container=e,this.lineLayouter=new r.LineLayouter(this),this.resizingMainAxis=!1,this.resizingCrossAxis=!1,this.cachedInitialWidth=0,this.cachedInitialHeight=0,this.cachedLayoutWidth=0,this.cachedLayoutHeight=0,this.shrunk=!1,this.totalCrossAxisSize=0}layoutTree(){this.isSubTree()?this.shouldSkipSubTree()||(this.updateSubTreeLayout(),this.updateItemCoords()):(this.updateTreeLayout(),this.updateItemCoords())}isSubTree(){return!!this.item.flexParent}shouldSkipSubTree(){return!this.container.node.isChanged()}updateTreeLayout(){this.recalc?this.performUpdateLayoutTree():this.performUpdateLayoutTreeFromCache()}performUpdateLayoutTree(){this.setCachedInitialSizes(),this.initializeAxisSizes(),this.layoutAxes(),this.setLayoutCache()}setCachedInitialSizes(){this.cachedInitialWidth=this.item.getRelAxisSize(!0),this.cachedInitialHeight=this.item.getRelAxisSize(!1)}setLayoutCache(){this.cachedLayoutWidth=this.item.getAxisLayoutSize(!0),this.cachedLayoutHeight=this.item.getAxisLayoutSize(!1)}performUpdateLayoutTreeFromCache(){this.isInitialSizeCacheValid()?this.useLayoutCache():(this.item.enableLocalRecalcFlag(),this.performUpdateLayoutTree())}useLayoutCache(){this.item.setAxisLayoutSize(!0,this.cachedLayoutWidth),this.item.setAxisLayoutSize(!1,this.cachedLayoutHeight)}isInitialSizeCacheValid(){const e=this.item.getRelAxisSize(!0),t=this.item.getRelAxisSize(!1);return this.cachedInitialWidth===e&&this.cachedInitialHeight===t}updateItemCoords(){new i.ItemCoordinatesUpdater(this).finalize()}updateSubTreeLayout(){const e=this.crossAxisSize;this.layoutMainAxis(),this.performResizeCrossAxis(e)}initializeAxisSizes(){this.item.isFlexItemEnabled()?this.item.flexItem&&this.item.flexItem.resetLayoutSize():(this.mainAxisSize=this.getMainAxisBasis(),this.crossAxisSize=this.getCrossAxisBasis()),this.resizingMainAxis=!1,this.resizingCrossAxis=!1,this.shrunk=!1}layoutAxes(){this.layoutMainAxis(),this.layoutCrossAxis()}layoutMainAxis(){this.lineLayouter.layoutLines(),this.fitMainAxisSizeToContents()}getLines(){return this.lineLayouter.getLines()}fitMainAxisSizeToContents(){this.resizingMainAxis||this.isMainAxisFitToContents()&&(this.mainAxisSize=this.lineLayouter.getMainAxisContentSize())}layoutCrossAxis(){const e=new s.ContentAligner(this);this.totalCrossAxisSize=e.getTotalCrossAxisSize(),this.fitCrossAxisSizeToContents(),e.align()}fitCrossAxisSizeToContents(){this.resizingCrossAxis||this.isCrossAxisFitToContents()&&(this.crossAxisSize=this.totalCrossAxisSize)}isWrapping(){return this.container.wrap}isAxisFitToContents(e){return this.horizontal===e?this.isMainAxisFitToContents():this.isCrossAxisFitToContents()}isMainAxisFitToContents(){return!this.isWrapping()&&!this.hasFixedMainAxisBasis()}isCrossAxisFitToContents(){return!this.hasFixedCrossAxisBasis()}hasFixedMainAxisBasis(){return!this.item.isZeroAxisSize(this.horizontal)}hasFixedCrossAxisBasis(){return!this.item.isZeroAxisSize(!this.horizontal)}getAxisMinLineSize(e){return this.horizontal===e?this.lineLayouter.getMainAxisMinSize():this.lineLayouter.getCrossAxisMinSize()}resizeMainAxis(e){this.mainAxisSize!==e&&(this.recalc>0?this.performResizeMainAxis(e):this.checkValidCacheMainAxisResize(e)?(this.mainAxisSize=e,this.fitCrossAxisSizeToContents()):(this.item.enableLocalRecalcFlag(),this.performResizeMainAxis(e)))}checkValidCacheMainAxisResize(e){return e===this.subjectMainAxisSize||!this.isCrossAxisFitToContents()}performResizeMainAxis(e){this.shrunk=e<this.mainAxisSize,this.mainAxisSize=e,this.resizingMainAxis=!0,this.layoutAxes(),this.resizingMainAxis=!1}resizeCrossAxis(e){this.crossAxisSize!==e&&(this.recalc>0?this.performResizeCrossAxis(e):this.crossAxisSize=e)}performResizeCrossAxis(e){this.crossAxisSize=e,this.resizingCrossAxis=!0,this.layoutCrossAxis(),this.resizingCrossAxis=!1}get subjectMainAxisSize(){return this.horizontal?this.item.subject.getLayoutW():this.item.subject.getLayoutH()}getParentFlexContainer(){return this.item.isFlexItemEnabled()?this.item.flexItem.getContainer():void 0}getMainAxisBasis(){return this.item.getRelAxisSize(this.horizontal)}getCrossAxisBasis(){return this.item.getRelAxisSize(!this.horizontal)}get horizontal(){return this.container.horizontal}get reverse(){return this.container.reverse}get item(){return this.container.node}get items(){return this.item.items}isResizingMainAxis(){return this.resizingMainAxis}isResizingCrossAxis(){return this.resizingCrossAxis}get mainAxisSize(){return this.item.getAxisLayoutSize(this.horizontal)}set mainAxisSize(e){this.item.setAxisLayoutSize(this.horizontal,e)}get crossAxisSize(){return this.item.getAxisLayoutSize(!this.horizontal)}set crossAxisSize(e){this.item.setAxisLayoutSize(!this.horizontal,e)}hasShrunk(){return this.shrunk}get recalc(){return this.item.recalc}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(42);t.ContentAligner=class{constructor(e){this.layout=e,this.totalCrossAxisSize=0,this.init()}init(){this.totalCrossAxisSize=this.calcTotalCrossAxisSize()}get lines(){return this.layout.getLines()}align(){const e=this.layout.crossAxisSize-this.totalCrossAxisSize,{spacingBefore:t,spacingBetween:n}=this.getSpacing(e),s=this.lines;let r=0;"stretch"===this.layout.container.alignContent&&s.length&&e>0&&(r=e/s.length);let i=t;for(let e=0,t=s.length;e<t;e++){const t=i,o=s[e].createItemAligner(),a=s[e].crossAxisLayoutSize+r;o.setCrossAxisLayoutSize(a),o.setCrossAxisLayoutOffset(t),o.align(),o.getRecursiveResizeOccured()&&s[e].setItemPositions(),i+=a,i+=n}}getTotalCrossAxisSize(){return this.totalCrossAxisSize}calcTotalCrossAxisSize(){const e=this.lines;let t=0;for(let n=0,s=e.length;n<s;n++){t+=e[n].crossAxisLayoutSize}return t}getSpacing(e){const t=this.layout.container.alignContent,n=this.lines.length;return s.getSpacing(t,n,e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(95);t.LineLayouter=class{constructor(e){this._layout=e,this.mainAxisContentSize=0,this.curMainAxisPos=0,this.mainAxisSize=0,this.maxMainAxisPos=0}layoutLines(){this.setup();const e=this._layout.items,t=this._layout.isWrapping();let n,s=0;const r=e.length;for(n=0;n<r;n++){const r=e[n];this.layoutFlexItem(r);const i=r.flexItem.getMainAxisLayoutSizeWithPaddingAndMargin();if(t&&n>s){this.curMainAxisPos+i>this.mainAxisSize&&(this.layoutLine(s,n-1),this.curMainAxisPos=0,s=n)}this.addToMainAxisPos(i)}s<n&&this.layoutLine(s,n-1)}setup(){this.mainAxisSize=this._layout.mainAxisSize,this.curMainAxisPos=0,this.maxMainAxisPos=0,this.lines=[],this.mainAxisMinSize=void 0,this.crossAxisMinSize=void 0,this.mainAxisContentSize=0}layoutFlexItem(e){e.isFlexEnabled()?e.flexLayout.updateTreeLayout():e.flexItem.resetLayoutSize()}addToMainAxisPos(e){this.curMainAxisPos+=e,this.curMainAxisPos>this.maxMainAxisPos&&(this.maxMainAxisPos=this.curMainAxisPos)}layoutLine(e,t){const n=this.getAvailableMainAxisLayoutSpace(),r=new s.LineLayout(this._layout,e,t,n);r.performLayout(),this.lines.push(r),(0===this.mainAxisContentSize||this.curMainAxisPos>this.mainAxisContentSize)&&(this.mainAxisContentSize=this.curMainAxisPos)}getAvailableMainAxisLayoutSpace(){return!this._layout.isResizingMainAxis()&&this._layout.isMainAxisFitToContents()?0:this.mainAxisSize-this.curMainAxisPos}calcCrossAxisMinSize(){let e=0;const t=this._layout.items;for(let n=0,s=t.length;n<s;n++){const s=t[n].flexItem.getCrossAxisMinSizeWithPaddingAndMargin();e=Math.max(e,s)}return e}calcMainAxisMinSize(){const e=this.lines;return 1===e.length?e[0].getMainAxisMinSize():this._layout.mainAxisSize}getLines(){return this.lines}getMainAxisMinSize(){return void 0===this.mainAxisMinSize&&(this.mainAxisMinSize=this.calcMainAxisMinSize()),this.mainAxisMinSize}getCrossAxisMinSize(){return void 0===this.crossAxisMinSize&&(this.crossAxisMinSize=this.calcCrossAxisMinSize()),this.crossAxisMinSize}getMainAxisContentSize(){return this.mainAxisContentSize}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(96),r=n(97),i=n(98),o=n(99);t.LineLayout=class{constructor(e,t,n,s){this.layout=e,this.startIndex=t,this.endIndex=n,this.availableSpace=s,this.crossAxisMaxLayoutSize=0,this.items=e.items}getLayout(){return this.layout}performLayout(){this._setItemSizes(),this.setItemPositions(),this._calcLayoutInfo()}_setItemSizes(){this.availableSpace>0?this._growItemSizes(this.availableSpace):this.availableSpace<0&&this._shrinkItemSizes(-this.availableSpace)}_growItemSizes(e){const t=new r.SizeGrower(this);t.grow(e),this.availableSpace-=t.getGrownSize()}_shrinkItemSizes(e){const t=new s.SizeShrinker(this);t.shrink(e),this.availableSpace+=t.getShrunkSize()}setItemPositions(){new i.ItemPositioner(this).position()}createItemAligner(){return new o.ItemAligner(this)}_calcLayoutInfo(){this._calcCrossAxisMaxLayoutSize()}getMainAxisMinSize(){let e=0;for(let t=this.startIndex;t<=this.endIndex;t++){e+=this.items[t].flexItem.getMainAxisMinSizeWithPaddingAndMargin()}return e}get numberOfItems(){return this.endIndex-this.startIndex+1}get crossAxisLayoutSize(){const e=this.layout.isCrossAxisFitToContents()&&!this.layout.isResizingCrossAxis();return this.layout.isWrapping()||e?this.crossAxisMaxLayoutSize:this.layout.crossAxisSize}_calcCrossAxisMaxLayoutSize(){this.crossAxisMaxLayoutSize=this._getCrossAxisMaxLayoutSize()}_getCrossAxisMaxLayoutSize(){let e=0;for(let t=this.startIndex;t<=this.endIndex;t++){const n=this.items[t];e=Math.max(e,n.flexItem.getCrossAxisLayoutSizeWithPaddingAndMargin())}return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SizeShrinker=class{constructor(e){this.line=e,this.amountRemaining=0,this.shrunkSize=0}shrink(e){this.shrunkSize=0,this.amountRemaining=e;let t=this.getTotalShrinkAmount();if(t){const e=this.line.items;do{const n=this.amountRemaining/t;for(let s=this.line.startIndex;s<=this.line.endIndex;s++){const r=e[s].flexItem,i=r.shrink;if(i>0){let e=i*n;const s=r.getMainAxisMinSize(),o=r.getMainAxisLayoutSize();if(o>s){const n=o-s;e>=n&&(e=n,t-=i);const a=o-e;if(r.resizeMainAxis(a),this.shrunkSize+=e,this.amountRemaining-=e,Math.abs(this.amountRemaining)<1e-5)return}}}}while(t&&Math.abs(this.amountRemaining)>1e-5)}}getTotalShrinkAmount(){let e=0;const t=this.line.items;for(let n=this.line.startIndex;n<=this.line.endIndex;n++){const s=t[n].flexItem;if(s.shrink){const t=s.getMainAxisMinSize();s.getMainAxisLayoutSize()>t&&(e+=s.shrink)}}return e}getShrunkSize(){return this.shrunkSize}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SizeGrower=class{constructor(e){this.line=e,this.amountRemaining=0,this.grownSize=0}grow(e){this.grownSize=0,this.amountRemaining=e;let t=this.getTotalGrowAmount();if(t){const e=this.line.items;do{const n=this.amountRemaining/t;for(let s=this.line.startIndex;s<=this.line.endIndex;s++){const r=e[s].flexItem,i=r.grow;if(i>0){let e=i*n;const s=r.getMainAxisMaxSizeSetting(),o=r.getMainAxisLayoutSize();if(s>0)if(o>=s)e=0;else{const n=s-o;e>=n&&(e=n,t-=i)}if(e>0){const t=o+e;if(r.resizeMainAxis(t),this.grownSize+=e,this.amountRemaining-=e,Math.abs(this.amountRemaining)<1e-5)return}}}}while(t&&Math.abs(this.amountRemaining)>1e-5)}}getTotalGrowAmount(){let e=0;const t=this.line.items;for(let n=this.line.startIndex;n<=this.line.endIndex;n++){const s=t[n].flexItem;if(s.grow){const t=s.getMainAxisMaxSizeSetting(),n=s.getMainAxisLayoutSize();(0===t||n<t)&&(e+=s.grow)}}return e}getGrownSize(){return this.grownSize}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(42);t.ItemPositioner=class{constructor(e){this.line=e}get _layout(){return this.line.getLayout()}position(){const{spacingBefore:e,spacingBetween:t}=this.getSpacing();let n=e;const s=this.line.items;for(let e=this.line.startIndex;e<=this.line.endIndex;e++){const r=s[e];r.flexItem.setMainAxisLayoutPos(n),n+=r.flexItem.getMainAxisLayoutSizeWithPaddingAndMargin(),n+=t}}getSpacing(){const e=this.line.availableSpace,t=this._layout.container.justifyContent,n=this.line.numberOfItems;return s.getSpacing(t,n,e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ItemAligner=class{constructor(e){this._line=e,this.crossAxisLayoutSize=0,this.crossAxisLayoutOffset=0,this.recursiveResizeOccured=!1,this.isCrossAxisFitToContents=!1}get _layout(){return this._line.getLayout()}get _flexContainer(){return this._layout.container}setCrossAxisLayoutSize(e){this.crossAxisLayoutSize=e}setCrossAxisLayoutOffset(e){this.crossAxisLayoutOffset=e}align(){this.alignItemsSetting=this._flexContainer.alignItems,this.isCrossAxisFitToContents=this._layout.isAxisFitToContents(!this._flexContainer.horizontal),this.recursiveResizeOccured=!1;const e=this._line.items;for(let t=this._line.startIndex;t<=this._line.endIndex;t++){const n=e[t];this._alignItem(n)}}getRecursiveResizeOccured(){return this.recursiveResizeOccured}_alignItem(e){const t=e.flexItem;let n=t.alignSelf||this.alignItemsSetting;switch("stretch"===n&&this.preventStretch(t)&&(n="flex-start"),"center"===n||this.isCrossAxisFitToContents||t.hasRelCrossAxisSize()&&t.resetCrossAxisLayoutSize(),n){case"flex-start":this._alignItemFlexStart(t);break;case"flex-end":this._alignItemFlexEnd(t);break;case"center":this._alignItemFlexCenter(t);break;case"stretch":this._alignItemStretch(t)}}_alignItemFlexStart(e){e.setCrossAxisLayoutPos(this.crossAxisLayoutOffset)}_alignItemFlexEnd(e){const t=e.getCrossAxisLayoutSizeWithPaddingAndMargin();e.setCrossAxisLayoutPos(this.crossAxisLayoutOffset+(this.crossAxisLayoutSize-t))}_alignItemFlexCenter(e){const t=e.getCrossAxisLayoutSizeWithPaddingAndMargin(),n=(this.crossAxisLayoutSize-t)/2;e.setCrossAxisLayoutPos(this.crossAxisLayoutOffset+n)}_alignItemStretch(e){e.setCrossAxisLayoutPos(this.crossAxisLayoutOffset);const t=e.getMainAxisLayoutSize();let n=this.crossAxisLayoutSize-e.getCrossAxisMargin()-e.getCrossAxisPadding();const s=e.getCrossAxisMinSizeSetting();s>0&&(n=Math.max(n,s));const r=e.getCrossAxisMaxSizeSetting();r>0&&(n=Math.min(n,r)),e.resizeCrossAxis(n),e.getMainAxisLayoutSize()!==t&&(this.recursiveResizeOccured=!0)}preventStretch(e){const t=e.hasFixedCrossAxisSize(),n="stretch"===e.alignSelf;return t&&!n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class s{constructor(e){this.layout=e,this.isReverse=this.flexContainer.reverse,this.horizontalPaddingOffset=this.flexContainer.node.getHorizontalPaddingOffset(),this.verticalPaddingOffset=this.flexContainer.node.getVerticalPaddingOffset()}get flexContainer(){return this.layout.container}finalize(){const e=this.layout.getParentFlexContainer();if(e){new s(e.layout).finalizeItemAndChildren(this.flexContainer.node)}else{this.validateItemCache(this.flexContainer.node)||(this.finalizeRoot(),this.finalizeItems())}}finalizeRoot(){const e=this.flexContainer.node,t=e.getAxisLayoutPos(!0),n=e.getAxisLayoutPos(!1);let s=e.getAxisLayoutSize(!0),r=e.getAxisLayoutSize(!1);s+=e.getHorizontalPadding(),r+=e.getVerticalPadding(),e.clearRecalcFlag(),e.setLayout(t,n,s,r)}finalizeItems(){const e=this.layout.items;for(let t=0,n=e.length;t<n;t++){const n=e[t],s=this.validateItemCache(n);this.finalizeItem(n),s||this.finalizeItemChildren(n)}}validateItemCache(e){if(0===e.recalc&&e.isFlexEnabled()){const t=e.flex.layout;if(e.w===e.subject.getLayoutW()&&e.h===e.subject.getLayoutH())return!0;{const e=t.crossAxisSize;t.performResizeMainAxis(t.mainAxisSize),t.performResizeCrossAxis(e)}}return!1}finalizeItemAndChildren(e){this.finalizeItem(e),this.finalizeItemChildren(e)}finalizeItem(e){this.isReverse&&this.reverseMainAxisLayoutPos(e);let t=e.getAxisLayoutPos(!0),n=e.getAxisLayoutPos(!1),s=e.getAxisLayoutSize(!0),r=e.getAxisLayoutSize(!1);t+=this.horizontalPaddingOffset,n+=this.verticalPaddingOffset,s+=e.getHorizontalPadding(),r+=e.getVerticalPadding(),t+=e.getHorizontalMarginOffset(),n+=e.getVerticalMarginOffset(),e.clearRecalcFlag(),e.setLayout(t,n,s,r)}finalizeItemChildren(e){if(e.isFlexEnabled()){new s(e.flex.layout).finalizeItems()}}reverseMainAxisLayoutPos(e){const t=e.flexItem.getMainAxisLayoutPos()+e.flexItem.getMainAxisLayoutSizeWithPaddingAndMargin(),n=this.layout.mainAxisSize-t;e.flexItem.setMainAxisLayoutPos(n)}}t.ItemCoordinatesUpdater=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(44);class r{constructor(){this._children=[],this._x=0,this._y=0,this._w=0,this._h=0,this._sx=0,this._sy=0,this._sw=0,this._sh=0,this._optFlags=0,this._visible=!0,this.flags=0,this.hasUpdates=!1}getChildren(){return this._children}get skipInLayout(){return!!this._layout&&this._layout.skip}set skipInLayout(e){this.skipInLayout!==e&&(this.triggerRecalcTranslate(),this.layout.skip=e)}get layout(){return this.ensureLayout(),this._layout}hasLayout(){return!!this._layout}getLayout(){return this.layout}get flex(){return this.layout.flex}get flexItem(){return this.layout.flexItem}ensureLayout(){this._layout||(this._layout=new s.FlexNode(this))}hasFlexLayout(){return this._layout&&this._layout.isEnabled()}isFlexLayoutRoot(){return this._layout&&this._layout.isLayoutRoot()}triggerLayout(){this.setFlag(256)}onDimensionsChanged(){this.triggerRecalcTranslate()}triggerRecalcTranslate(){this.setFlag(2)}setFlag(e){this.flags|=e,this.setHasUpdates()}setHasUpdates(){let e=this;for(;e&&!e.hasUpdates;)e.hasUpdates=!0,e=e._parent}hasRelativeDimensionFunctions(){return 12&this._optFlags}update(){const e=this.isFlexLayoutRoot()&&this.hasRelativeDimensionFunctions();if((256&this.flags||e)&&this._layout.layoutFlexTree(),this._optFlags&&!this.hasFlexLayout()&&this.applyRelativeFunctions(),2&this.flags&&this.onChangedLayout(),this.hasUpdates){this.flags=0,this.hasUpdates=!1;const e=this._children;if(e)for(let t=0,n=e.length;t<n;t++)e[t].update()}}applyRelativeFunctions(){const e=this.getLayoutParent();if(1&this._optFlags){const t=this._funcX(e.getLayoutW(),e.getLayoutH());t!==this._x&&(this._x=t,this.flags|=2)}if(2&this._optFlags){const t=this._funcY(e.getLayoutW(),e.getLayoutH());t!==this._y&&(this._y=t,this.flags|=2)}let t=!1;if(4&this._optFlags){const n=this._funcW(e.getLayoutW(),e.getLayoutH());n!==this._w&&(this._w=n,t=!0)}if(8&this._optFlags){const n=this._funcH(e.getLayoutW(),e.getLayoutH());n!==this._h&&(this._h=n,t=!0)}t&&this.onDimensionsChanged()}getLayoutParent(){let e=this.getParent();for(;e.skipInLayout;){const t=e.getParent();if(!t)return e;e=t}return e}onChangedLayout(){}get x(){return this._sx}set x(e){const t=e-this._sx;t&&(this._sx=e,this._funcX||(this._x+=t))}getSourceFuncX(){return this._funcX}set funcX(e){this._funcX!==e&&(e?(this._optFlags|=1,this._funcX=e):this.disableFuncX(),this.hasFlexLayout()?this._layout.forceLayout():this.triggerRecalcTranslate())}disableFuncX(){this._optFlags=65534&this._optFlags,this._funcX=void 0}get y(){return this._sy}set y(e){const t=e-this._sy;t&&(this._sy=e,this._funcY||(this._y+=t))}getSourceFuncY(){return this._funcY}set funcY(e){this._funcY!==e&&(e?(this._optFlags|=2,this._funcY=e):this.disableFuncY(),this.hasFlexLayout()?this._layout.forceLayout():this.triggerRecalcTranslate())}disableFuncY(){this._optFlags=65533&this._optFlags,this._funcY=void 0}get w(){return this._sw}set w(e){this._sw!==e&&(this._sw=e,this.hasFlexLayout()?this._layout.updatedSourceW():(this._w=e,this.onDimensionsChanged()))}getSourceFuncW(){return this._funcW}set funcW(e){this._funcW!==e&&(e?(this._optFlags|=4,this._funcW=e):this.disableFuncW(),this.hasFlexLayout()?this.layout.updatedSourceW():this.onDimensionsChanged())}disableFuncW(){this._optFlags=65531&this._optFlags,this._funcW=void 0}get h(){return this._sh}set h(e){this._sh!==e&&(this._sh=e,this.hasFlexLayout()?this._layout.updatedSourceH():(this._h=e,this.onDimensionsChanged()))}getSourceFuncH(){return this._funcH}set funcH(e){this._funcH!==e&&(e?(this._optFlags|=8,this._funcH=e):this.disableFuncH(),this.hasFlexLayout()?this.layout.updatedSourceH():this.onDimensionsChanged())}disableFuncH(){this._optFlags=65527&this._optFlags,this._funcH=void 0}getParent(){return this._parent}setParent(e){var t;if(this._parent!==e){const n=this._parent;this._parent=e,(this._layout||(null===(t=s.FlexNode.getActiveLayoutNode(e))||void 0===t?void 0:t.isFlexEnabled()))&&this.layout.setParent(n,e),n&&n.triggerRecalcTranslate(),e&&e.triggerRecalcTranslate()}}setChildren(e){this._children=e,e.forEach(e=>{e.setParent(this)})}get children(){return this._children}addChild(e){this.addChildAt(e,this._children.length)}addChildAt(e,t){this._children||(this._children=[]),this._children.splice(t,0,e),e.setParent(this)}removeChildAt(e){if(this._children){const t=this._children[e];this._children.splice(e,1),t.setParent(void 0)}}setLayoutCoords(e,t){this._x===e&&this._y===t||(this._x=e,this._y=t,this.triggerRecalcTranslate())}setLayoutDimensions(e,t){this._w===e&&this._h===t||(this._w=e,this._h=t,this.triggerRecalcTranslate())}get visible(){return this._visible}set visible(e){this._visible!==e&&(this._visible=e,this.hasFlexLayout()&&this.layout.updateVisible())}isDisplayed(){return this._visible}toJson(e=[]){const t=[this._x,this._y,this._w,this._h];return{path:"["+e.join("][")+"]",layout:t.join(" "),w:this.getLayoutW(),h:this.getLayoutH(),x:this.getLayoutX(),y:this.getLayoutY(),sw:this.getSourceW(),sh:this.getSourceH(),sx:this.getSourceX(),sy:this.getSourceY(),flex:!(!this._layout||!this._layout.flex)&&r.flexToJson(this._layout.flex),flexItem:!(!this._layout||!this._layout.flexItem)&&r.flexItemToJson(this._layout.flexItem),children:this._children.map((t,n)=>t.toJson(e.concat([n])))}}static flexToJson(e){return{direction:e.direction,alignItems:e.alignItems,alignContent:e.alignContent,justifyContent:e.justifyContent}}static flexItemToJson(e){return{grow:e.grow,shrink:e.shrink,alignSelf:e.alignSelf}}toString(){const e=this.toJson();return JSON.stringify(e,null,2)}getLocationString(){const e=this._parent?this._parent._children.indexOf(this):"R";let t=this._parent?this._parent.getLocationString():"";return t+="["+e+"]",t}getSourceX(){return this._sx}getSourceY(){return this._sy}getSourceW(){return this._sw}getSourceH(){return this._sh}getLayoutX(){return this._x}getLayoutY(){return this._y}getLayoutW(){return this._w}getLayoutH(){return this._h}static isFunction(e){return"function"==typeof e}}t.FlexTarget=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(47),r=n(108),i=n(113),o=n(17),a=n(10),c=n(53),l=n(120),u=n(38),h=n(121);class d{constructor(e,t={}){this.canvas=e,this.destroyed=!1,this._usedMemory=0,this._lastGcFrame=0,this.platform=new h.WebPlatform(this),this.frameCounter=0,this.startTime=0,this.currentTime=0,this.dt=0,this._updateTextures=new Set,this._updatingFrame=!1,this.clearColor=null,this.canvasWidth=-1,this.canvasHeight=-1,this.gpuPixelsMemory=t.gpuPixelsMemory||32e6,this.bufferMemory=t.bufferMemory||16e6,this.defaultFontFace=t.defaultFontFace||["sans-serif"],this.fixedTimestep=t.fixedTimestep||0,this.useImageWorker=void 0===t.useImageWorker||t.useImageWorker,this.autostart=!1!==t.autostart,this.pixelRatio=t.pixelRatio||this.getDefaultPixelRatio()||1,this.canvas2d=!0===t.canvas2d||!d.isWebglSupported(),this.destroyed=!1,this._usedMemory=0,this._lastGcFrame=0,this.platform.init(),this.canvas2d?(console.log("Using canvas2d renderer"),this.c2d=this.platform.createCanvasContext(),this.gl=void 0,this._renderer=new i.C2dRenderer(this)):(this.gl=this.platform.createWebGLContext(),this.c2d=void 0,this._renderer=new r.WebGLRenderer(this)),this.frameCounter=0,this.textureManager=new c.TextureManager(this),this.rectangleTexture=new u.RectangleTexture(this),this.context=new l.CoreContext(this),this.root=new o.Element(this),this.root.setAsRoot(),this.context.root=this.root.core,this.processClearColorOption(t.clearColor),this.checkCanvasDimensions(),this.autostart&&this.platform.startLoop()}processClearColorOption(e){switch(e){case null:this.setClearColor(null);break;case void 0:this.setClearColor([0,0,0,0]);break;default:this.setClearColor(a.ColorUtils.getRgbaComponentsNormalized(a.ColorUtils.getArgbFromAny(e)))}}get w(){return this.canvas.width}get h(){return this.canvas.height}get renderer(){return this._renderer}static isWebglSupported(){try{return!!window.WebGLRenderingContext}catch(e){return!1}}destroy(){this.destroyed=!0,this.platform.stopLoop(),this.platform.destroy(),this.context.destroy(),this.textureManager.destroy(),this._renderer.destroy()}stop(){this.platform.stopLoop()}resume(){this.platform.startLoop()}getCanvas(){return this.canvas}getPixelRatio(){return this.pixelRatio}addUpdateTexture(e){this._updatingFrame?e._performUpdateSource():this._updateTextures.add(e)}removeUpdateTexture(e){this._updateTextures&&this._updateTextures.delete(e)}hasUpdateTexture(e){return this._updateTextures&&this._updateTextures.has(e)}drawFrame(){this.checkCanvasDimensions(),this.startTime=this.currentTime,this.currentTime=this.platform.getHrTime(),this.fixedTimestep?this.dt=this.fixedTimestep:this.dt=this.startTime?.001*(this.currentTime-this.startTime):.02,this.onFrameStart&&this.onFrameStart(),this._updateTextures.size&&(this._updateTextures.forEach(e=>{e._performUpdateSource()}),this._updateTextures=new Set),this.onUpdate&&this.onUpdate();const e=this.context.hasRenderUpdates();e&&(this._updatingFrame=!0,this.context.update(),this.context.render(),this._updatingFrame=!1),this.platform.nextFrame(e),this.onFrameEnd&&this.onFrameEnd(),this.frameCounter++}isUpdatingFrame(){return this._updatingFrame}forceRenderUpdate(){this.context.setRenderUpdatesFlag()}setClearColor(e){this.clearColor=null===e?null:e,this.forceRenderUpdate()}getClearColor(){return this.clearColor}createElement(e){return s.Patcher.createObject(e,o.Element,this)}createShader(e){return s.Patcher.createObject(e,void 0,this)}get coordsWidth(){return this.canvasWidth/this.pixelRatio}get coordsHeight(){return this.canvasHeight/this.pixelRatio}addMemoryUsage(e){this._usedMemory+=e,this._lastGcFrame!==this.frameCounter&&this._usedMemory>this.gpuPixelsMemory&&(this.gc(!1),this._usedMemory>this.gpuPixelsMemory-2e6&&this.gc(!0))}get usedMemory(){return this._usedMemory}gc(e){if(this._lastGcFrame!==this.frameCounter){this._lastGcFrame=this.frameCounter;const t=this._usedMemory;this.gcTextureMemory(e),this.gcRenderTextureMemory(e),this.renderer.gc(e),console.log(`GC${e?"[aggressive]":""}! Frame ${this._lastGcFrame} Freed ${((t-this._usedMemory)/1e6).toFixed(2)}MP from GPU memory. Remaining: ${(this._usedMemory/1e6).toFixed(2)}MP`);const n=this._usedMemory-this.textureManager.usedMemory-this.context.usedMemory;console.log(` Textures: ${(this.textureManager.usedMemory/1e6).toFixed(2)}MP, Render Textures: ${(this.context.usedMemory/1e6).toFixed(2)}MP, Renderer caches: ${(n/1e6).toFixed(2)}MP`)}}gcTextureMemory(e=!1){e&&this.root.visible?(this.root.visible=!1,this.textureManager.gc(),this.root.visible=!0):this.textureManager.gc()}gcRenderTextureMemory(e=!1){e&&this.root.visible?(this.root.visible=!1,this.context.freeUnusedRenderTextures(0),this.root.visible=!0):this.context.freeUnusedRenderTextures(0)}getDrawingCanvas(){return this.platform.getDrawingCanvas()}update(){this.context.update()}isDestroyed(){return this.destroyed}checkCanvasDimensions(){const e=this.canvas.getBoundingClientRect();let t=!1;const n=e.width||this.canvas.width;if(Math.round(n)!==Math.round(this.canvasWidth)){const e=n*this.pixelRatio;t=t||e!==this.canvasWidth,this.canvasWidth=e}const s=e.height||this.canvas.height;if(Math.round(s)!==Math.round(this.canvasHeight)){const e=s*this.pixelRatio;t=t||e!==this.canvasHeight,this.canvasHeight=e}t&&this.updateCanvasSize()}updateCanvasSize(){this.canvas.width=Math.round(this.canvasWidth),this.canvas.height=Math.round(this.canvasHeight),this.root.core.setupAsRoot(),this.renderer.onResizeCanvasSize()}getElementsAtCoordinates(e,t){const n=[];return this.root.core.update(),this.root.core.gatherElementsAtCoordinates(e,t,n),n.reverse()}getDefaultPixelRatio(){return window.devicePixelRatio>=2?2:window.devicePixelRatio>1?1.5:1}}t.Stage=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(48),r=n(17),i=n(7),o=n(104),a=n(105),c=n(107);t.handlers=[new s.SingleReferenceHandler(r.Element,"texture",i.Texture,e=>[e.stage]),new c.ShaderHandler(r.Element,"shader"),new o.TextHandler(r.Element,"text"),new a.ChildrenHandler(r.Element,"children")]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(24),r=n(39),i=n(6),o=n(12);class a extends s.Handler{handle(e,t){e.texture&&e.texture instanceof r.TextTexture||e.enableTextTexture(),i.Utils.isString(t)?o.Patcher.patchObjectProperty(e.texture,"text",t):o.Patcher.patchObject(e.texture,t)}}t.TextHandler=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(24),r=n(106);class i extends s.Handler{handle(e,t){new r.ChildList(e).patch(t)}}t.ChildrenHandler=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(17),r=n(6),i=n(12);t.ChildList=class{constructor(e){this.element=e,this.c=this.element.childList}patch(e){r.Utils.isObjectLiteral(e)?this._setByObject(e):Array.isArray(e)&&this._setByArray(e)}getRefs(){return this.c.getRefs()}getIndex(e){return this.c.getIndex(e)}add(e){this.c.add(e)}setAt(e,t){this.c.setAt(e,t)}_setByObject(e){const t=this.getRefs(),n=Object.keys(e);for(let s=0,r=n.length;s<r;s++){const r=n[s],o=e[r];let a=t[r];if(a)if(this.isItem(o)){if(a!==o){const e=this.getIndex(a);o.ref=r,this.setAt(o,e)}}else i.Patcher.patchObject(a,o);else this.isItem(o)?(o.ref=r,this.add(o)):(a=this.createItem(o),a.ref=r,i.Patcher.patchObject(a,o),this.add(a))}}_equalsArray(e){let t=!0;const n=this.c.getItems();if(e.length===n.length)for(let s=0,r=n.length;s<r&&t;s++)t=t&&n[s]===e[s];else t=!1;return t}_setByArray(e){if(this._equalsArray(e))return;let t;const n=[];for(let s=0,o=e.length;s<o;s++){const o=e[s];if(this.isItem(o))n.push(o);else{const e=o.ref;let s;e&&(t||(t=this.getRefs()),s=t[e]),s||(s=this.createItem(o)),r.Utils.isObjectLiteral(o)&&i.Patcher.patchObject(s,o),n.push(s)}}this.c.setItems(n)}createItem(e){return i.Patcher.createObject(e,s.Element,this.element.stage)}isItem(e){return e instanceof s.Element}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(48),r=n(15);class i extends s.SingleReferenceHandler{constructor(e,t){super(e,t,r.Shader,e=>[e.stage.context])}handle(e,t){if(t&&t.type){const n=e.stage.renderer.getSupportedShaderType(t.type);if(!n)return console.warn("Shader has no implementation for render target: "+t.type.name),void(e[this.name]=void 0);if(n!==t.type)return super.handle(e,Object.assign({},t,{type:n}))}super.handle(e,t)}}t.ShaderHandler=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(6),r=n(109),i=n(110),o=n(111),a=n(5),c=n(21),l=n(52),u=n(112);class h extends l.Renderer{constructor(){super(...arguments),this.shaderPrograms=new Map}destroy(){this.shaderPrograms.forEach(e=>e.destroy())}_createDefaultShader(e){return new a.WebGLDefaultShader(e)}_getShaderBaseType(){return c.WebGLShader}_getShaderAlternative(e){return e.getWebGL()}createCoreQuadList(){return new r.WebGLCoreQuadList(this.stage.bufferMemory)}createCoreQuadOperation(e,t,n,s,r,o){return new i.WebGLCoreQuadOperation(e,t,n,s,r,o)}createCoreRenderExecutor(e){return new o.WebGLCoreRenderExecutor(e)}createCoreRenderState(e){return new u.WebGLCoreRenderState(e)}createRenderTexture(e,t,n,s){const r=this.stage.gl,i=r.createTexture();return r.bindTexture(r.TEXTURE_2D,i),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,n,s,0,r.RGBA,r.UNSIGNED_BYTE,null),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),i.params={},i.params[r.TEXTURE_MAG_FILTER]=r.LINEAR,i.params[r.TEXTURE_MIN_FILTER]=r.LINEAR,i.params[r.TEXTURE_WRAP_S]=r.CLAMP_TO_EDGE,i.params[r.TEXTURE_WRAP_T]=r.CLAMP_TO_EDGE,i.options={format:r.RGBA,internalFormat:r.RGBA,type:r.UNSIGNED_BYTE},i.framebuffer=r.createFramebuffer(),i.projection=new Float32Array([2/e,2/t]),r.bindFramebuffer(r.FRAMEBUFFER,i.framebuffer),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,i,0),i}freeRenderTexture(e){const t=this.stage.gl;t.deleteFramebuffer(e.framebuffer),t.deleteTexture(e)}uploadTextureSource(e,t){const n=this.stage.gl,r=t.source,i={premultiplyAlpha:!0,hasAlpha:!0,texParams:{},texOptions:{format:0,internalFormat:0,type:n.UNSIGNED_BYTE}};t&&void 0!==t.premultiplyAlpha&&(i.premultiplyAlpha=t.premultiplyAlpha),t&&void 0!==t.hasAlpha&&(i.hasAlpha=t.hasAlpha),i.hasAlpha||(i.premultiplyAlpha=!1),i.texParams=t.texParams||{};const o=n.createTexture();n.bindTexture(n.TEXTURE_2D,o),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.premultiplyAlpha);const a=i.texParams;a[n.TEXTURE_MAG_FILTER]||(a[n.TEXTURE_MAG_FILTER]=n.LINEAR),a[n.TEXTURE_MIN_FILTER]||(a[n.TEXTURE_MIN_FILTER]=n.LINEAR),a[n.TEXTURE_WRAP_S]||(a[n.TEXTURE_WRAP_S]=n.CLAMP_TO_EDGE),a[n.TEXTURE_WRAP_T]||(a[n.TEXTURE_WRAP_T]=n.CLAMP_TO_EDGE);for(const[e,t]of Object.entries(a))n.texParameteri(n.TEXTURE_2D,parseInt(e,10),t);const c=i.texOptions;return c.format=c&&c.format||(i.hasAlpha?n.RGBA:n.RGB),c.type=c&&c.type||n.UNSIGNED_BYTE,c.internalFormat=c&&c.internalFormat||c.format,this.stage.platform.uploadGlTexture(n,e,r,c),o.params=s.Utils.cloneObjShallow(a),o.options=s.Utils.cloneObjShallow(c),o}freeTextureSource(e){this.stage.gl.deleteTexture(e.nativeTexture)}copyRenderTexture(e,t,n){const s=this.stage.gl;s.bindTexture(s.TEXTURE_2D,t),s.bindFramebuffer(s.FRAMEBUFFER,e.framebuffer);const r=e.pixelRatio;s.copyTexSubImage2D(s.TEXTURE_2D,0,r*(n.sx||0),r*(n.sy||0),r*(n.x||0),r*(n.y||0),r*(n.w||e.ow),r*(n.h||e.oh))}getShaderProgram(e){return this.shaderPrograms.get(e)}setShaderProgram(e,t){this.shaderPrograms.set(e,t)}onResizeCanvasSize(){this.stage.context.renderExecutor.updateProjectionVector()}}t.WebGLRenderer=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(49);class r extends s.CoreQuadList{constructor(e){super(),this.dataLength=0,this.data=new ArrayBuffer(e),this.floats=new Float32Array(this.data),this.uints=new Uint32Array(this.data)}getDataLength(){return this.dataLength}setDataLength(e){this.dataLength=e}reset(){super.reset(),this.dataLength=0}getAttribsDataByteOffset(e){return 80*e}getQuadContents(){const e=this.floats,t=this.uints,n=[];for(let s=1;s<=this.length;s++){let r="entry "+s+": ";for(let n=0;n<4;n++){const i=20*s+4*n;r+=e[i]+","+e[i+1]+":"+e[i+2]+","+e[i+3]+"["+t[i+4].toString(16)+"] "}n.push(r)}return n}}t.WebGLCoreQuadList=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(50);class r extends s.CoreQuadOperation{constructor(e,t,n,s,r,i){super(e,t,n,s,r,i),this.extraAttribsDataByteOffset=0}get quadList(){return super.quadList}getWebGLShader(){return this.shader}getAttribsDataByteOffset(e){return this.quadList.getAttribsDataByteOffset(this.index+e)}getNormalRenderTextureCoords(e,t){const n=this.shaderOwner.getRenderTextureCoords(e,t);return n[0]/=this.getRenderWidth(),n[1]/=this.getRenderHeight(),n[0]=2*n[0]-1,n[1]=1-2*n[1],n}getProjection(){return this.renderTextureInfo&&this.renderTextureInfo.renderTexture?this.renderTextureInfo.renderTexture.projection:this.context.renderExecutor.projection}}t.WebGLCoreQuadOperation=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(51);class r extends s.CoreRenderExecutor{constructor(e){super(e),this.currentShaderProgram=void 0,this.quadIndexType=WebGLRenderingContext.UNSIGNED_SHORT,this.gl=this.context.stage.gl,this.attribsBuffer=this.gl.createBuffer(),this.quadsBuffer=this.gl.createBuffer(),this.projection=this.getProjectionVector(),this.init()}updateProjectionVector(){this.projection=this.getProjectionVector()}getProjectionVector(){return new Float32Array([2/this.context.stage.coordsWidth,-2/this.context.stage.coordsHeight])}init(){const e=this.gl,t=Math.floor(this.renderState.quadList.data.byteLength/80),n=e.getExtension("OES_element_index_uint");this.quadIndexType=n?WebGLRenderingContext.UNSIGNED_INT:WebGLRenderingContext.UNSIGNED_SHORT;const s=new(this.quadIndexType===WebGLRenderingContext.UNSIGNED_INT?Uint32Array:Uint16Array)(6*t);for(let e=0,n=0;e<6*t;e+=6,n+=4)s[e]=n,s[e+1]=n+1,s[e+2]=n+2,s[e+3]=n,s[e+4]=n+2,s[e+5]=n+3;e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.quadsBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,s,e.STATIC_DRAW)}destroy(){super.destroy(),this.gl.deleteBuffer(this.attribsBuffer),this.gl.deleteBuffer(this.quadsBuffer)}_reset(){super._reset();const e=this.gl;e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA),e.enable(e.BLEND),e.disable(e.DEPTH_TEST),this._stopShaderProgram(),this._setupBuffers()}_setupBuffers(){const e=this.gl;e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.quadsBuffer);const t=new DataView(this.renderState.quadList.data,0,this.renderState.quadList.getDataLength());e.bindBuffer(e.ARRAY_BUFFER,this.attribsBuffer),e.bufferData(e.ARRAY_BUFFER,t,e.DYNAMIC_DRAW)}_setupQuadOperation(e){super._setupQuadOperation(e),this._useShaderProgram(e.getWebGLShader(),e)}_renderQuadOperation(e){const t=e.getWebGLShader();(e.length||e.shader.addEmpty())&&(t.beforeDraw(e),t.draw(e),t.afterDraw(e))}_useShaderProgram(e,t){e.hasSameProgram(this.currentShaderProgram)||(this.currentShaderProgram&&this.currentShaderProgram.stopProgram(),e.useProgram(),this.currentShaderProgram=e),e.setupUniforms(t)}_stopShaderProgram(){this.currentShaderProgram&&(this.currentShaderProgram.stopProgram(),this.currentShaderProgram=void 0)}_bindRenderTexture(e){super._bindRenderTexture(e);const t=this.gl;if(e){const n=e;t.bindFramebuffer(t.FRAMEBUFFER,n.framebuffer),t.viewport(0,0,n.w,n.h)}else t.bindFramebuffer(t.FRAMEBUFFER,null),t.viewport(0,0,this.context.stage.w,this.context.stage.h)}_clearRenderTexture(){super._clearRenderTexture();const e=this.gl;if(this._renderTexture)e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT);else{const t=this.context.stage.getClearColor();t&&(e.clearColor(t[0]*t[3],t[1]*t[3],t[2]*t[3],t[3]),e.clear(e.COLOR_BUFFER_BIT))}}_setScissor(e){if(super._setScissor(e),this.scissor===e)return;this.scissor=e;const t=this.gl;if(e){t.enable(t.SCISSOR_TEST);const n=this.context.stage.getPixelRatio();let s=e[1];void 0===this._renderTexture&&(s=this.context.stage.coordsHeight-(e[1]+e[3])),t.scissor(Math.round(e[0]*n),Math.round(s*n),Math.round(e[2]*n),Math.round(e[3]*n))}else t.disable(t.SCISSOR_TEST)}}t.WebGLCoreRenderExecutor=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(25),r=n(10);class i extends s.CoreRenderState{isRenderTextureReusable(e){const t=80*this.renderTextureInfo.reusableRenderStateOffset/4,n=this.quadList.floats,s=this.quadList.uints;return 0===n[t]&&0===n[t+1]&&0===n[t+2]&&0===n[t+3]&&4294967295===s[t+4]&&n[t+5]===e.w&&0===n[t+6]&&1===n[t+7]&&0===n[t+8]&&4294967295===s[t+9]&&n[t+10]===e.w&&n[t+11]===e.h&&1===n[t+12]&&1===n[t+13]&&4294967295===s[t+14]&&0===n[t+15]&&n[t+16]===e.h&&0===n[t+17]&&1===n[t+18]&&4294967295===s[t+19]}finishRenderState(){let e=80*this.length;for(let t=0,n=this.quadOperations.length;t<n;t++){const n=this.quadOperations[t];n.extraAttribsDataByteOffset=e;const s=4*n.getWebGLShader().getExtraAttribBytesPerVertex()*n.length;e+=s,s&&n.getWebGLShader().setExtraAttribsInBuffer(n)}this.quadList.setDataLength(e)}addQuad(e,t){const n=this.length,s=this.quadList;let i=20*n;s.add(e,t);const o=t.getRenderContext(),a=s.floats,c=s.uints,l=r.ColorUtils.mergeColorAlpha,u=t.getLayoutW(),h=t.getLayoutH();if(0!==o.tb||0!==o.tc)a[i++]=o.px,a[i++]=o.py,a[i++]=t.ulx,a[i++]=t.uly,c[i++]=l(t.colorUl,o.alpha),a[i++]=o.px+u*o.ta,a[i++]=o.py+u*o.tc,a[i++]=t.brx,a[i++]=t.uly,c[i++]=l(t.colorUr,o.alpha),a[i++]=o.px+u*o.ta+h*o.tb,a[i++]=o.py+u*o.tc+h*o.td,a[i++]=t.brx,a[i++]=t.bry,c[i++]=l(t.colorBr,o.alpha),a[i++]=o.px+h*o.tb,a[i++]=o.py+h*o.td,a[i++]=t.ulx,a[i++]=t.bry,c[i]=l(t.colorBl,o.alpha);else{const e=o.px+u*o.ta,n=o.py+h*o.td;a[i++]=o.px,a[i++]=o.py,a[i++]=t.ulx,a[i++]=t.uly,c[i++]=l(t.colorUl,o.alpha),a[i++]=e,a[i++]=o.py,a[i++]=t.brx,a[i++]=t.uly,c[i++]=l(t.colorUr,o.alpha),a[i++]=e,a[i++]=n,a[i++]=t.brx,a[i++]=t.bry,c[i++]=l(t.colorBr,o.alpha),a[i++]=o.px,a[i++]=n,a[i++]=t.ulx,a[i++]=t.bry,c[i]=l(t.colorBl,o.alpha)}}}t.WebGLCoreRenderState=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(114),r=n(115),i=n(116),o=n(16),a=n(20),c=n(52),l=n(117),u=n(119);class h extends c.Renderer{constructor(e){super(e),this.tintManager=new l.C2dTextureTintManager(this.stage),this.setupCanvasAsRenderTexture(e.canvas)}destroy(){this.tintManager.destroy()}_createDefaultShader(e){return new o.C2dDefaultShader(e)}_getShaderBaseType(){return a.C2dShader}_getShaderAlternative(e){return e.getC2d()}createCoreQuadList(){return new s.C2dCoreQuadList}createCoreQuadOperation(e,t,n,s,i,o){return new r.C2dCoreQuadOperation(e,t,n,s,i,o)}createCoreRenderExecutor(e){return new i.C2dCoreRenderExecutor(e)}createCoreRenderState(e){return new u.C2dCoreRenderState(e)}createRenderTexture(e,t,n,s){const r=document.createElement("canvas");return r.width=n,r.height=s,this.setupCanvasAsRenderTexture(r),r}freeRenderTexture(e){this.tintManager.delete(e)}gc(e){this.tintManager.gc(e)}uploadTextureSource(e,t){if(t.source instanceof Uint8ClampedArray){const e=document.createElement("canvas");e.width=t.width,e.height=t.height;const n=new ImageData(t.source,t.width,t.height);return e.getContext("2d").putImageData(n,0,0),e}return t.source}freeTextureSource(e){this.tintManager.delete(e.nativeTexture)}setupCanvasAsRenderTexture(e){const t=e.getContext("2d");e.context=t,e.context.scissor=void 0,t.save()}copyRenderTexture(e,t,n){throw new Error("Copy render texture not implemented")}}t.C2dRenderer=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(49);class r extends s.CoreQuadList{constructor(){super(...arguments),this.renderContexts=[],this.modes=[]}setRenderContext(e,t){this.renderContexts[e]=t}setSimpleTc(e,t){t?this.modes[e]|=1:this.modes[e]-=1&this.modes[e]}setWhite(e,t){t?this.modes[e]|=2:this.modes[e]-=2&this.modes[e]}getRenderContext(e){return this.renderContexts[e]}getSimpleTc(e){return 1&this.modes[e]}getWhite(e){return 2&this.modes[e]}}t.C2dCoreQuadList=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(50);class r extends s.CoreQuadOperation{get quadList(){return super.quadList}getC2dShader(){return this.shader}getRenderContext(e){return this.quadList.getRenderContext(this.index+e)}getSimpleTc(e){return this.quadList.getSimpleTc(this.index+e)}getWhite(e){return this.quadList.getWhite(this.index+e)}}t.C2dCoreQuadOperation=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(51),r=n(10),i=n(25);class o extends s.CoreRenderExecutor{constructor(){super(...arguments),this._mainRenderTexture=this.context.stage.getCanvas()}_renderQuadOperation(e){const t=e.getC2dShader();if(e.length||e.shader.addEmpty()){const n=this._renderTexture||this._mainRenderTexture;t.beforeDraw(e,n),t.draw(e,n),t.afterDraw(e,n)}}_clearRenderTexture(){const e=this._getContext(),t=e.canvas;e.setTransform(1,0,0,1,0,0);let n=[0,0,0,0];this._mainRenderTexture.context===e&&(n=this.context.stage.getClearColor()),n&&(n[0]||n[1]||n[2]||n[3]?(e.fillStyle=r.ColorUtils.getRgbaStringFromArray(n),e.globalCompositeOperation="copy",e.beginPath(),e.rect(0,0,t.width,t.height),e.closePath(),e.fill(),e.globalCompositeOperation="source-over"):e.clearRect(0,0,t.width,t.height))}_getContext(){return this._renderTexture?this._renderTexture.context:this._mainRenderTexture.context}_restoreContext(){const e=this._getContext();e.restore(),e.save(),e.scissor=void 0}_setScissor(e){const t=this._getContext();if(!i.CoreRenderState.scissorsEqual(t.scissor,e)){this._restoreContext();const n=this.context.stage.getPixelRatio();e&&(t.beginPath(),t.rect(Math.round(e[0]*n),Math.round(e[1]*n),Math.round(e[2]*n),Math.round(e[3]*n)),t.closePath(),t.clip()),t.scissor=e}}}t.C2dCoreRenderExecutor=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(118);t.C2dTextureTintManager=class{constructor(e){this.stage=e,this._usedMemory=0,this._cachedNativeTextures=new Set}destroy(){this.gc(!0)}_addMemoryUsage(e){this._usedMemory+=e,this.stage.addMemoryUsage(e)}delete(e){if(this._hasCache(e)){const t=this._getCache(e),n=t.memoryUsage;t.clear(),this._cachedNativeTextures.delete(e),this._addMemoryUsage(t.memoryUsage-n)}}getTintTexture(e,t){const n=this.stage.frameCounter;this._cachedNativeTextures.add(e);const s=this._getCache(e),r=s.get(t);if(r.lf=n,r.tx)return e.updateFrame>r.u&&this._tintTexture(r.tx,e,t),r.tx;{const r=s.memoryUsage;let i=s.reuseTexture(n);i?i.context.clearRect(0,0,i.w,i.h):(i=document.createElement("canvas"),i.w=e.w,i.h=e.h,i.width=e.width,i.height=e.height,i.context=i.getContext("2d")),this._tintTexture(i,e,t),s.set(t,i,n);const o=s.memoryUsage;return o!==r&&this._addMemoryUsage(o-r),i}}_tintTexture(e,t,n){let s=n.toString(16);for(;s.length<6;)s="0"+s;e.context.fillStyle="#"+s,e.context.globalCompositeOperation="copy",e.context.fillRect(0,0,t.w,t.h),e.context.globalCompositeOperation="multiply",e.context.drawImage(t,0,0,t.w,t.h,0,0,e.w,e.h),e.context.globalCompositeOperation="destination-in",e.context.drawImage(t,0,0,t.w,t.h,0,0,e.w,e.h)}_hasCache(e){return!!e.tintCache}_getCache(e){return e.tintCache||(e.tintCache=new s.C2dTintCache(e)),e.tintCache}gc(e=!1){const t=this.stage.frameCounter;let n=0;this._cachedNativeTextures.forEach(e=>{const s=this._getCache(e),r=s.memoryUsage;s.cleanup(t),s.releaseBlancoTextures(),n+=s.memoryUsage-r}),e&&this._cachedNativeTextures.clear(),n&&this._addMemoryUsage(n)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.C2dTintCache=class{constructor(e){this.nativeTexture=e,this._colors=new Map,this._blancoTextures=[],this._lastCleanupFrame=0,this._memTextures=0}get memoryUsage(){return this._memTextures*this.nativeTexture.w*this.nativeTexture.h}releaseBlancoTextures(){this._memTextures-=this._blancoTextures.length,this._blancoTextures=[]}clear(){this._blancoTextures=[],this._colors.clear(),this._memTextures=0}get(e){let t=this._colors.get(e);return t||(t={lf:-1,tx:void 0,u:-1},this._colors.set(e,t)),t}set(e,t,n){const s=this.get(e);s.lf=n,s.tx=t,s.u=n,this._memTextures++}cleanup(e){this._lastCleanupFrame!==e&&(this._blancoTextures=[],this._colors.forEach((t,n)=>{t.lf<e-1&&(t.tx&&this._blancoTextures.push(t.tx),this._colors.delete(n))}),this._lastCleanupFrame=e)}reuseTexture(e){if(this.cleanup(e),this._blancoTextures&&this._blancoTextures.length)return this._memTextures--,this._blancoTextures.pop()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(25);class r extends s.CoreRenderState{isRenderTextureReusable(e){return!1}finishRenderState(){}addQuad(e,t){const n=this.length,s=this.quadList;s.add(e,t),s.setRenderContext(n,t.getRenderContext()),s.setWhite(n,t.isWhite()),s.setSimpleTc(n,t.hasSimpleTexCoords())}}t.C2dCoreRenderState=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CoreContext=class{constructor(e){this.stage=e,this.root=void 0,this.updateTreeOrder=0,this.renderState=this.stage.renderer.createCoreRenderState(this),this.renderExecutor=this.stage.renderer.createCoreRenderExecutor(this),this._usedMemory=0,this._renderTexturePool=[],this._renderTextureId=1,this._zSorts=[]}get usedMemory(){return this._usedMemory}destroy(){this._renderTexturePool.forEach(e=>this._freeRenderTexture(e)),this._usedMemory=0}getRootParent(){return this.root.getParent()}hasRenderUpdates(){return this.getRootParent().hasRenderUpdates()}_clearRenderUpdatesFlag(){this.getRootParent().clearHasRenderUpdates()}setRenderUpdatesFlag(){this.getRootParent().setHasRenderUpdates(1)}render(){this._render()}update(){this._clearRenderUpdatesFlag(),this._update(),this.root.hasUpdates()&&this._update(),this._performForcedZSorts()}_performForcedZSorts(){const e=this._zSorts.length;if(e){for(let t=0;t<e;t++)this._zSorts[t].zSort&&this._zSorts[t].sortZIndexedChildren();this._zSorts=[]}}_update(){this.updateTreeOrder=0,this.root.update()}_render(){this._fillRenderState(),this._performRender()}_fillRenderState(){this.renderState.reset(),this.root.render(),this.renderState.finish()}_performRender(){this.renderExecutor.execute()}_addMemoryUsage(e){this._usedMemory+=e,this.stage.addMemoryUsage(e)}allocateRenderTexture(e,t){const n=this.stage.getPixelRatio(),s=Math.max(1,Math.round(e*n)),r=Math.max(1,Math.round(t*n));for(let e=this._renderTexturePool.length-1;e>=0;e--){const t=this._renderTexturePool[e];if(t.w===s&&t.h===r&&t.updateFrame!==this.stage.frameCounter)return t.f=this.stage.frameCounter,this._renderTexturePool.splice(e,1),t}const i=this._createRenderTexture(e,t,s,r);return i.pixelRatio=n,i}releaseRenderTexture(e){this._renderTexturePool.push(e)}freeUnusedRenderTextures(e=60){const t=this.stage.frameCounter-e;this._renderTexturePool=this._renderTexturePool.filter(e=>!(e.f<=t)||(this._freeRenderTexture(e),!1))}_createRenderTexture(e,t,n,s){this._addMemoryUsage(n*s);const r=this.stage.renderer.createRenderTexture(e,t,n,s);return r._id=this._renderTextureId++,r.f=this.stage.frameCounter,r.ow=e,r.oh=t,r.w=n,r.h=s,r}_freeRenderTexture(e){this.stage.renderer.freeRenderTexture(e),this._addMemoryUsage(-e.w*e.h)}copyRenderTexture(e,t,n){this.stage.renderer.copyRenderTexture(e,t,n)}forceZSort(e){this._zSorts.push(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(122);t.WebPlatform=class{constructor(e){this.stage=e,this._looping=!1,this._awaitingLoop=!1,this._imageWorker=void 0}init(){if(this.stage.useImageWorker)if(window.createImageBitmap&&window.Worker){const e=this.stage.getDrawingCanvas();e.width=1,e.height=1,window.createImageBitmap(e,{premultiplyAlpha:"premultiply",colorSpaceConversion:"none",imageOrientation:"none"}).then(()=>{console.log("Using image worker!"),this._imageWorker=new s.ImageWorker}).catch(()=>{console.warn("Can't use image worker: createImageBitmap does not support signature. Using on-thread image parsing.")})}else console.warn("Can't use image worker because browser does not have createImageBitmap and Web Worker support")}destroy(){this._imageWorker&&this._imageWorker.destroy()}startLoop(){this._looping=!0,this._awaitingLoop||this.loop()}stopLoop(){this._looping=!1}loop(){const e=()=>{this._awaitingLoop=!1,this._looping&&(this.stage.drawFrame(),requestAnimationFrame(e),this._awaitingLoop=!0)};requestAnimationFrame(e)}uploadGlTexture(e,t,n,s){n.buffer?e.texImage2D(e.TEXTURE_2D,0,s.internalFormat,t.w,t.h,0,s.format,s.type,n):e.texImage2D(e.TEXTURE_2D,0,s.internalFormat,s.format,s.type,n)}loadSrcTexture(e,t){const{src:n,hasAlpha:s}=e;let r;const i=n.indexOf(".png")>=0;if(this._imageWorker){const e=this._imageWorker.create(n);e.onError=e=>t(e),e.onLoad=e=>{t(void 0,{source:e.imageBitmap,renderInfo:{src:n},hasAlpha:e.hasAlphaChannel,premultiplyAlpha:!0})},r=()=>{e.cancel()}}else{const e=new Image;"data:"!==n.substr(0,5)&&(e.crossOrigin="Anonymous"),e.onerror=n=>{if(e.src)return t(new Error("Image loading error: "+n))},e.onload=()=>{t(void 0,{source:e,renderInfo:{src:n},hasAlpha:i||s})},e.src=n,r=()=>{e.onerror=null,e.onload=null,e.removeAttribute("src")}}return r}createWebGLContext(){const e=this.stage.canvas,t={alpha:!0,antialias:!1,premultipliedAlpha:!0,stencil:!0,preserveDrawingBuffer:!1},n=e.getContext("webgl",t)||e.getContext("experimental-webgl",t);if(!n)throw new Error("This browser does not support webGL.");return n}createCanvasContext(){const e=this.stage.canvas.getContext("2d");if(!e)throw new Error("This browser does not support 2d canvas.");return e}getHrTime(){return window.performance?window.performance.now():(new Date).getTime()}getDrawingCanvas(){return document.createElement("canvas")}getTextureOptionsForDrawingCanvas(e){return{source:e}}nextFrame(e){}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(123),r=n(124);t.ImageWorker=class{constructor(){this._items=new Map,this._id=0,this._worker=s.createWorker(),this._worker.postMessage({type:"config",config:{path:window.location.href}}),this._worker.onmessage=e=>{if(e.data&&e.data.id){const t=e.data.id,n=this._items.get(t);n&&("data"===e.data.type?this.finish(n,e.data.info):this.error(n,new Error(`Image loading error type ${e.data.info.type}: ${e.data.info.message}`)))}}}destroy(){this._worker&&this._worker.terminate()}create(e){const t=++this._id,n=new r.ImageWorkerImage(this,t,e);return this._items.set(t,n),this._worker.postMessage({type:"add",id:t,src:e}),n}cancel(e){this._worker.postMessage({type:"cancel",id:e.id}),this._items.delete(e.id)}error(e,t){e.error(t),this._items.delete(e.id)}finish(e,t){e.load(t),this._items.delete(e.id)}}},function(e,t,n){"use strict";function s(){class e{constructor(){this.items=new Map,this.config=void 0,this.relativeBase=void 0,onmessage=e=>{this._receiveMessage(e)}}static isPathAbsolute(e){return/^(?:\/|[a-z]+:\/\/)/.test(e)}_receiveMessage(e){if("config"===e.data.type){this.config=e.data.config;const t=this.config.path.split("/");t.pop(),this.relativeBase=t.join("/")+"/"}else"add"===e.data.type?this.add(e.data.id,e.data.src):"cancel"===e.data.type&&this.cancel(e.data.id)}add(n,s){this.relativeBase&&!e.isPathAbsolute(s)&&(s=this.relativeBase+s),"//"===s.substr(0,2)&&(s="http:"+s);const r=new t(n,s);r.onFinish=e=>{this.finish(r,e)},r.onError=e=>{this.error(r,e)},this.items.set(n,r),r.start()}cancel(e){const t=this.items.get(e);t&&(t.cancel(),this.items.delete(e))}finish(e,t){const{imageBitmap:n,hasAlphaChannel:s}=t;postMessage({type:"data",id:e.id,info:{imageBitmap:n,hasAlphaChannel:s}},[n]),this.items.delete(e.id)}error(e,t){const{type:n,message:s}=t;postMessage({type:"error",id:e.id,info:{type:n,message:s}}),this.items.delete(e.id)}}class t{constructor(e,t){this.id=e,this.src=t,this.onError=void 0,this.onFinish=void 0,this.xhr=void 0,this.mimeType=void 0,this.canceled=!1}start(){this.xhr=new XMLHttpRequest,this.xhr.open("GET",this.src,!0),this.xhr.responseType="blob",this.xhr.onerror=e=>{this.error("connection","Connection error")},this.xhr.onload=e=>{const t=this.xhr.response;this.mimeType=t.type,this.createImageBitmap(t)},this.xhr.send()}createImageBitmap(e){createImageBitmap(e,{premultiplyAlpha:"premultiply",colorSpaceConversion:"none",imageOrientation:"none"}).then(e=>{this.finish({imageBitmap:e,hasAlphaChannel:this.hasAlphaChannel()})}).catch(()=>{this.error("parse","Error parsing image data")})}hasAlphaChannel(){return this.mimeType&&-1!==this.mimeType.indexOf("image/png")}cancel(){this.canceled||(this.xhr&&this.xhr.abort(),this.canceled=!0)}error(e,t){!this.canceled&&this.onError&&this.onError({type:e,message:t})}finish(e){!this.canceled&&this.onFinish&&this.onFinish(e)}}new e}Object.defineProperty(t,"__esModule",{value:!0}),t.createWorker=function(){const e=`(${s.toString()})()`,t=new Blob([e.replace('"use strict";',"")]),n=(window.URL?URL:window.webkitURL).createObjectURL(t,{type:"application/javascript; charset=utf-8"});return new Worker(n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ImageWorkerImage=class{constructor(e,t,n){this.manager=e,this.id=t,this.src=n}set onError(e){this._onError=e}set onLoad(e){this._onLoad=e}cancel(){this.manager.cancel(this)}load(e){this._onLoad&&this._onLoad(e)}error(e){this._onError&&this._onError(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(28),r=n(30),i=n(31),o=n(32);t.eventTranslators=Object.assign(Object.assign(Object.assign(Object.assign({},s.mouseEventTranslator),r.touchEventTranslator),i.focusEventTranslator),o.keyboardEventTranslator)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(8),r=n(4);class i extends s.Container{constructor(e){super(e),this.tex=new r.ImageTexture(e),this.el.texture=this.tex}set src(e){this.tex.src=e}}t.Picture=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(8);class r extends s.Container{constructor(e){super(e),this.el.texture=e.rectangleTexture}}t.Rectangle=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(11),r=n(4),i=n(18);class o extends i.DynamicSizeTexture{constructor(e){super(e),this.options={},this.roundRectTexture=new r.RoundRectTexture(this.stage),this.textureElement.texture=this.roundRectTexture}set radius(e){const t=s.ensureFloat(e);this.setOption("radius",[t,t,t,t])}set"stroke-width"(e){this.setOption("strokeWidth",s.ensureInt(e))}set"stroke-color"(e){this.setOption("strokeColor",s.ensureColor(e))}set fill(e){this.setOption("fill",s.ensureBoolean(e))}set"fill-color"(e){this.setOption("fillColor",s.ensureColor(e))}set"shadow-blur"(e){this.setOption("shadowBlur",s.ensureFloat(e))}set"shadow-color"(e){this.setOption("shadowColor",s.ensureColor(e))}set"shadow-offset-x"(e){this.setOption("shadowOffsetX",s.ensureFloat(e))}set"shadow-offset-y"(e){this.setOption("shadowOffsetY",s.ensureFloat(e))}updateDimensions(e,t){this.options.w=e,this.options.h=t,this.updateRoundedRectangleTextureOptions()}setOption(e,t){this.options[e]=t,this.updateRoundedRectangleTextureOptions()}updateRoundedRectangleTextureOptions(){this.roundRectTexture.options=this.options}handleResize(e,t,n){this.options&&this.updateDimensions(t,n)}}t.StyledRectangle=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(4),r=n(18);class i extends r.DynamicSizeTexture{constructor(e){super(e),this.options={w:0,h:0,src:""},this.svgTexture=new s.SvgTexture(this.stage),this.textureElement.texture=this.svgTexture}set src(e){this.options.src=e,this.updateTextureOptions()}updateDimensions(e,t){this.options.w=e,this.options.h=t,this.updateTextureOptions()}updateTextureOptions(){this.svgTexture.options=this.options}handleResize(e,t,n){this.options&&this.updateDimensions(t,n)}}t.Svg=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(13),r=n(4),i=n(54),o=n(55);class a extends s.Node{constructor(e){super(e),this.texture=new r.TextTexture(this.stage),this.settings=new i.TextTextureSettings(()=>this.update()),this.el.texture=this.texture}set text(e){this.texture.text=e,this.update()}setElementText(e){this.texture.text=e.trim()}update(){this.texture.setSettings(this.settings.textSettings)}}t.TextTexture=a,o.Delegator.delegate(a,i.TextTextureSettings,"settings")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(13);class r extends s.Node{set texture(e){this.el.texture=e}}t.Texture=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(8),r=n(4),i=n(11);class o extends s.Container{constructor(e){super(e),this.shader=new r.WebGLGrayscaleShader(this.stage.context),this.el.renderToTexture=!0,this.el.shader=this.shader}set amount(e){this.shader.amount=i.ensureFloat(e)}}t.Grayscale=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(8),r=n(4),i=n(11);class o extends s.Container{constructor(e){super(e),this.shader=new r.WebGLRoundedRectangleShader(this.stage.context),this.el.shader=this.shader,this.el.renderToTexture=!0}set radius(e){this.shader.radius=i.ensureFloat(e)}}t.Rounded=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(8),r=n(4);class i extends s.Container{constructor(e){super(e),this.shader=new r.WebGLBoxBlurShader(this.stage.context),this.el.shader=this.shader,this.el.renderToTexture=!0}}t.BoxBlur=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(8);class r extends s.Container{set shader(e){this.el.shader=e}}t.Shader=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(26);class r extends s.Base{constructor(e){super(void 0),this.text=e}}t.Comment=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(26);class r extends s.Base{constructor(e){super(void 0),this.text=e}}t.TextNode=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.patchProp=function(e,t,n,s,i,o,a,c,l){r(t)(e,s)};const s={},r=e=>(s[e]||(s[e]=new Function("el","value",`el["${e}"] = value`)),s[e])},function(e,t,n){"use strict";function s(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});var r=n(13);t.Node=r.Node;var i=n(8);t.Container=i.Container;var o=n(56);t.Paragraph=o.Paragraph,s(n(9)),s(n(14))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(19),r=n(3),i=n(4),o=n(27),a=n(141);t.Vugel=r.defineComponent({props:{settings:{type:Object}},setup(e,t){const n=r.ref();return r.onMounted(()=>{let c,l,u,h=!1;r.watchEffect(()=>{!h&&n.value&&(h=!0,l=new i.Stage(n.value,Object.assign({},e.settings)),l.eventHelpers=o.setupEvents(n.value,l),c=s.createRendererForStage(l),u=new a.Root(l,l.root),u["func-w"]=e=>e,u["func-h"]=(e,t)=>t);const d=t.slots.default;d?c(r.h(r.Fragment,d()),u):console.warn("No default slot is defined")})}),()=>r.h("div",{class:"custom-renderer-wrapper",style:{position:"relative"}},[r.h("canvas",{class:"custom-renderer",style:{position:"absolute",width:"100%",height:"100%"},ref:n})])}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(8);class r extends s.Container{}t.Root=r},function(e,t,n){"use strict";n.r(t);var s=n(0),r=n(3);const i="http://www.w3.org/2000/svg",o="undefined"!=typeof document?document:null;let a,c;const l={insert:(e,t,n)=>{n?t.insertBefore(e,n):t.appendChild(e)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n)=>t?o.createElementNS(i,e):o.createElement(e,n?{is:n}:void 0),createText:e=>o.createTextNode(e),createComment:e=>o.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>o.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode:e=>e.cloneNode(!0),insertStaticContent(e,t,n,s){const r=s?c||(c=o.createElementNS(i,"svg")):a||(a=o.createElement("div"));r.innerHTML=e;const u=r.children[0];return l.insert(u,t,n),u}};const u=/\s*!important$/;function h(e,t,n){if(t.startsWith("--"))e.setProperty(t,n);else{const r=function(e,t){const n=f[t];if(n)return n;let r=Object(s.f)(t);if("filter"!==r&&r in e)return f[t]=r;r=Object(s.g)(r);for(let n=0;n<d.length;n++){const s=d[n]+r;if(s in e)return f[t]=s}return t}(e,t);u.test(n)?e.setProperty(Object(s.m)(r),n.replace(u,""),"important"):e[r]=n}}const d=["Webkit","Moz","ms"],f={};const p="http://www.w3.org/1999/xlink";let g=Date.now;"undefined"!=typeof document&&g()>document.createEvent("Event").timeStamp&&(g=()=>performance.now());let _=0;const x=Promise.resolve(),m=()=>{_=0},v=()=>_||(x.then(m),_=g());function b(e,t,n,s){e.addEventListener(t,n,s)}function y(e,t,n,s){e.removeEventListener(t,n,s)}function C(e,t){const n=e=>{e.timeStamp>=n.lastUpdated-1&&Object(r.callWithAsyncErrorHandling)(function(e,t){if(Object(s.o)(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(e=>t=>!t._stopped&&e(t))}return t}(e,n.value),t,5,[e])};return n.value=e,e.invoker=n,n.lastUpdated=v(),n}const T=/^on[a-z]/,S=e=>{const t=e.props["onUpdate:modelValue"];return Object(s.o)(t)?e=>Object(s.n)(t,e):t};const O={mounted(e,{value:t},n){w(e,t),e._assign=S(n),b(e,"change",()=>{const t=Array.prototype.filter.call(e.options,e=>e.selected).map(j);e._assign(e.multiple?t:t[0])})},beforeUpdate(e,t,n){e._assign=S(n)},updated(e,{value:t}){w(e,t)}};function w(e,t){const n=e.multiple;if(!n||Object(s.o)(t)){for(let r=0,i=e.options.length;r<i;r++){const i=e.options[r],o=j(i);if(n)i.selected=Object(s.B)(t,o)>-1;else if(Object(s.A)(j(i),t))return void(e.selectedIndex=r)}n||(e.selectedIndex=-1)}}function j(e){return"_value"in e?e._value:e.value}const E=((e,{slots:t})=>Object(r.h)(r.BaseTransition,A(e),t)).props={...r.BaseTransition.props,name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};function A({name:e="v",type:t,css:n=!0,duration:i,enterFromClass:o=e+"-enter-from",enterActiveClass:a=e+"-enter-active",enterToClass:c=e+"-enter-to",appearFromClass:l=o,appearActiveClass:u=a,appearToClass:h=c,leaveFromClass:d=e+"-leave-from",leaveActiveClass:f=e+"-leave-active",leaveToClass:p=e+"-leave-to",...g}){if(!n)return g;const _=Object(r.getCurrentInstance)(),x=function(e){if(null==e)return null;if(Object(s.s)(e))return[R(e.enter),R(e.leave)];{const t=R(e);return[t,t]}}(i),m=x&&x[0],v=x&&x[1],{appear:b,onBeforeEnter:y,onEnter:C,onLeave:T}=g;b&&!Object(r.getCurrentInstance)().isMounted&&(o=l,a=u,c=h);const S=(e,t)=>{M(e,c),M(e,a),t&&t()},O=(e,t)=>{M(e,p),M(e,f),t&&t()};function w(e,t){Object(r.callWithAsyncErrorHandling)(e,_,9,t)}return{...g,onBeforeEnter(e){y&&y(e),L(e,a),L(e,o)},onEnter(e,n){P(()=>{const s=()=>S(e,n);C&&w(C,[e,s]),M(e,o),L(e,c),C&&C.length>1||(m?setTimeout(s,m):z(e,t,s))})},onLeave(e,n){L(e,f),L(e,d),P(()=>{const s=()=>O(e,n);T&&w(T,[e,s]),M(e,d),L(e,p),T&&T.length>1||(v?setTimeout(s,v):z(e,t,s))})},onEnterCancelled:S,onLeaveCancelled:O}}function R(e){return Number(e||0)}function L(e,t){t.split(/\s+/).forEach(t=>t&&e.classList.add(t)),(e._vtc||(e._vtc=new Set)).add(t)}function M(e,t){t.split(/\s+/).forEach(t=>t&&e.classList.remove(t));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function P(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}function z(e,t,n){const{type:s,timeout:r,propCount:i}=F(e,t);if(!s)return n();const o=s+"end";let a=0;const c=()=>{e.removeEventListener(o,l),n()},l=t=>{t.target===e&&++a>=i&&c()};setTimeout(()=>{a<i&&c()},r+1),e.addEventListener(o,l)}function F(e,t){const n=window.getComputedStyle(e),s=e=>(n[e]||"").split(", "),r=s("transitionDelay"),i=s("transitionDuration"),o=I(r,i),a=s("animationDelay"),c=s("animationDuration"),l=I(a,c);let u=null,h=0,d=0;return"transition"===t?o>0&&(u="transition",h=o,d=i.length):"animation"===t?l>0&&(u="animation",h=l,d=c.length):(h=Math.max(o,l),u=h>0?o>l?"transition":"animation":null,d=u?"transition"===u?i.length:c.length:0),{type:u,timeout:h,propCount:d,hasTransform:"transition"===u&&/\b(transform|all)(,|$)/.test(n.transitionProperty)}}function I(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((t,n)=>k(t)+k(e[n])))}function k(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}const U=new WeakMap;const B=Symbol(""),N=Symbol("");function D(e,t,n,r,i,o){const a=U.get(e);if(!a)return;const c=new Set,l=new Set,u=e=>{e&&e.forEach(e=>{void 0!==e&&(e.options.computed?l.add(e):c.add(e))})};if("clear"===t)a.forEach(u);else if("length"===n&&Object(s.o)(e))a.forEach((e,t)=>{("length"===t||t>=r)&&u(e)});else{void 0!==n&&u(a.get(n));const r="add"===t||"delete"===t&&!Object(s.o)(e);(r||"set"===t&&e instanceof Map)&&u(a.get(Object(s.o)(e)?"length":B)),r&&e instanceof Map&&u(a.get(N))}const h=e=>{e.options.scheduler?e.options.scheduler(e):e()};l.forEach(h),c.forEach(h)}const W=new Set(Object.getOwnPropertyNames(Symbol).map(e=>Symbol[e]).filter(s.z)),V=G(),H=G(!0),X={};function G(e=!1,t=!1){return function(n,r,i){const o=Object(s.o)(n);if(o&&Object(s.l)(X,r))return Reflect.get(X,r,i);const a=Reflect.get(n,r,i);return Object(s.z)(r)&&W.has(r)||t?a:Te(a)?o?a:a.value:Object(s.s)(a)?e?be(a):ve(a):a}}function Y(e=!1){return function(t,n,r,i){const o=t[n];if(!e&&(r=Ce(r),!Object(s.o)(t)&&Te(o)&&!Te(r)))return o.value=r,!0;const a=Object(s.l)(t,n),c=Reflect.set(t,n,r,i);return t===Ce(i)&&(a?Object(s.k)(r,o)&&D(t,"set",n,r):D(t,"add",n,r)),c}}function $(e,t){return Reflect.has(e,t)}function q(e){return Reflect.ownKeys(e)}["includes","indexOf","lastIndexOf"].forEach(e=>{X[e]=function(...t){const n=Ce(this);for(let e=0,t=this.length;e<t;e++);const s=n[e](...t);return-1===s||!1===s?n[e](...t.map(Ce)):s}});const Z={get:V,set:Y(),deleteProperty:function(e,t){const n=Object(s.l)(e,t),r=(e[t],Reflect.deleteProperty(e,t));return r&&n&&D(e,"delete",t,void 0),r},has:$,ownKeys:q},Q={get:H,has:$,ownKeys:q,set:(e,t)=>!0,deleteProperty:(e,t)=>!0},K=e=>Object(s.s)(e)?ve(e):e,J=e=>Object(s.s)(e)?be(e):e,ee=e=>Reflect.getPrototypeOf(e);function te(e,t,n){e=Ce(e);const s=Ce(t),{has:r,get:i}=ee(e);return r.call(e,t)?n(i.call(e,t)):r.call(e,s)?n(i.call(e,s)):void 0}function ne(e){const t=Ce(this),n=Ce(e),s=ee(t).has;return s.call(t,e)||s.call(t,n)}function se(e){return e=Ce(e),Reflect.get(ee(e),"size",e)}function re(e){return function(t,n){const s=this,r=Ce(s),i=e?J:K;return ee(r).forEach.call(r,(function(e,n){return t.call(s,i(e),i(n),s)}),n)}}function ie(e,t){return function(...n){const s=Ce(this),r=s instanceof Map,i="entries"===e||e===Symbol.iterator&&r,o=ee(s)[e].apply(s,n),a=t?J:K;return{next(){const{value:e,done:t}=o.next();return t?{value:e,done:t}:{value:i?[a(e[0]),a(e[1])]:a(e),done:t}},[Symbol.iterator](){return this}}}}function oe(e){return function(...t){return"delete"!==e&&this}}const ae={get(e){return te(this,e,K)},get size(){return se(this)},has:ne,add:function(e){e=Ce(e);const t=Ce(this),n=ee(t),s=n.has.call(t,e),r=n.add.call(t,e);return s||D(t,"add",e,e),r},set:function(e,t){t=Ce(t);const n=Ce(this),{has:r,get:i,set:o}=ee(n);let a=r.call(n,e);a||(e=Ce(e),a=r.call(n,e));const c=i.call(n,e),l=o.call(n,e,t);return a?Object(s.k)(t,c)&&D(n,"set",e,t):D(n,"add",e,t),l},delete:function(e){const t=Ce(this),{has:n,get:s,delete:r}=ee(t);let i=n.call(t,e);i||(e=Ce(e),i=n.call(t,e)),s&&s.call(t,e);const o=r.call(t,e);return i&&D(t,"delete",e,void 0),o},clear:function(){const e=Ce(this),t=0!==e.size,n=ee(e).clear.call(e);return t&&D(e,"clear",void 0,void 0),n},forEach:re(!1)},ce={get(e){return te(this,e,J)},get size(){return se(this)},has:ne,add:oe("add"),set:oe("set"),delete:oe("delete"),clear:oe("clear"),forEach:re(!0)};function le(e){return(t,n,r)=>Reflect.get(Object(s.l)(e,n)&&n in t?e:t,n,r)}["keys","values","entries",Symbol.iterator].forEach(e=>{ae[e]=ie(e,!1),ce[e]=ie(e,!0)});const ue={get:le(ae)},he={get:le(ce)};const de=new WeakMap,fe=new WeakMap,pe=new WeakMap,ge=new WeakMap,_e=new WeakSet,xe=new Set([Set,Map,WeakMap,WeakSet]),me=Object(s.C)("Object,Array,Map,Set,WeakMap,WeakSet");function ve(e){return ge.has(e)?e:ye(e,de,fe,Z,ue)}function be(e){return ye(e,pe,ge,Q,he)}function ye(e,t,n,r,i){if(!Object(s.s)(e))return e;let o=t.get(e);if(void 0!==o)return o;if(n.has(e))return e;if((a=e)._isVue||a._isVNode||!me(Object(s.H)(a))||_e.has(a)||Object.isFrozen(a))return e;var a;const c=xe.has(e.constructor)?i:r;return o=new Proxy(e,c),t.set(e,o),n.set(o,e),o}function Ce(e){return e=ge.get(e)||e,fe.get(e)||e}function Te(e){return!!e&&!0===e._isRef}const Se=new WeakMap,Oe=new WeakMap,we={props:{...E,tag:String,moveClass:String},setup(e,{slots:t}){const n=Object(r.getCurrentInstance)(),s=Object(r.useTransitionState)();let i,o,a=null;return Object(r.onUpdated)(()=>{if(!i.length)return;const t=e.moveClass||(e.name||"v")+"-move";if(a=null===a?a=function(e,t,n){const s=e.cloneNode();e._vtc&&e._vtc.forEach(e=>{e.split(/\s+/).forEach(e=>e&&s.classList.remove(e))});n.split(/\s+/).forEach(e=>e&&s.classList.add(e)),s.style.display="none";const r=1===t.nodeType?t:t.parentNode;r.appendChild(s);const{hasTransform:i}=F(s);return r.removeChild(s),i}(i[0].el,n.vnode.el,t):a,!a)return;i.forEach(je),i.forEach(Ee);const s=i.filter(Ae);document.body.offsetHeight,s.forEach(e=>{const n=e.el,s=n.style;L(n,t),s.transform=s.webkitTransform=s.transitionDuration="";const r=n._moveCb=e=>{e&&e.target!==n||e&&!/transform$/.test(e.propertyName)||(n.removeEventListener("transitionend",r),n._moveCb=null,M(n,t))};n.addEventListener("transitionend",r)})}),()=>{const a=Ce(e),c=A(a),l=a.tag||r.Fragment;i=o,o=t.default?t.default():[],1===o.length&&o[0].type===r.Fragment&&(o=o[0].children);for(let e=0;e<o.length;e++){const t=o[e];null!=t.key&&Object(r.setTransitionHooks)(t,Object(r.resolveTransitionHooks)(t,c,s,n))}if(i)for(let e=0;e<i.length;e++){const t=i[e];Object(r.setTransitionHooks)(t,Object(r.resolveTransitionHooks)(t,c,s,n)),Se.set(t,t.el.getBoundingClientRect())}return Object(r.createVNode)(l,null,o)}}};delete we.props.mode;function je(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function Ee(e){Oe.set(e,e.el.getBoundingClientRect())}function Ae(e){const t=Se.get(e),n=Oe.get(e),s=t.left-n.left,r=t.top-n.top;if(s||r){const t=e.el.style;return t.transform=t.webkitTransform=`translate(${s}px,${r}px)`,t.transitionDuration="0s",e}}const Re={patchProp:(e,t,n,r,i=!1,o,a,c,l)=>{switch(t){case"class":!function(e,t,n){if(null==t&&(t=""),n)e.setAttribute("class",t);else{const n=e._vtc;n&&(t=(t?[t,...n]:[...n]).join(" ")),e.className=t}}(e,r,i);break;case"style":!function(e,t,n){const r=e.style;if(n)if(Object(s.y)(n))r.cssText=n;else{for(const e in n)h(r,e,n[e]);if(t&&!Object(s.y)(t))for(const e in t)n[e]||h(r,e,"")}else e.removeAttribute("style")}(e,n,r);break;default:Object(s.t)(t)?t.startsWith("onUpdate:")||function(e,t,n,r,i=null){const o=t.slice(2).toLowerCase(),a=n&&"options"in n&&n.options,c=r&&"options"in r&&r.options,l=n&&n.invoker,u=r&&"handler"in r?r.handler:r;if(a||c){const t=a||s.b,n=c||s.b;if(t.capture!==n.capture||t.passive!==n.passive||t.once!==n.once){if(l&&y(e,o,l,t),r&&u){const t=C(u,i);r.invoker=t,b(e,o,t,n)}return}}r&&u?l?(n.invoker=null,l.value=u,r.invoker=l,l.lastUpdated=v()):b(e,o,C(u,i),c||void 0):l&&y(e,o,l,a||void 0)}(e,t,n,r,a):(i?"innerHTML"===t||t in e&&T.test(t)&&Object(s.p)(r):t in e&&(!T.test(t)||!Object(s.y)(r)))?function(e,t,n,s,r,i,o){"innerHTML"===t||"textContent"===t?(s&&o(s,r,i),e[t]=null==n?"":n):"value"===t&&"PROGRESS"!==e.tagName?(e._value=n,e.value=null==n?"":n):""===n&&"boolean"==typeof e[t]?e[t]=!0:e[t]=null==n?"":n}(e,t,r,o,a,c,l):("true-value"===t?e._trueValue=r:"false-value"===t&&(e._falseValue=r),function(e,t,n,r){if(r&&t.startsWith("xlink:"))null==n?e.removeAttributeNS(p,t.slice(6,t.length)):e.setAttributeNS(p,t,n);else{const r=Object(s.x)(t);null==n||r&&!1===n?e.removeAttribute(t):e.setAttribute(t,r?"":n)}}(e,t,r,i))}},...l};let Le;function Me(){return Le||(Le=Object(r.createRenderer)(Re))}function Pe(e){if(Object(s.y)(e)){return document.querySelector(e)}return e}const ze={style:{position:"absolute",width:"100%",height:"100%","min-height":"750px",overflow:"hidden",display:"flex","flex-direction":"column"}},Fe={style:{display:"flex","align-items":"center",background:"#ffffff",padding:"10px"}},Ie=Object(r.createVNode)("p",{style:{"font-family":"sans-serif",margin:"0"}},[Object(r.createVNode)("em",null,"Vugel example"),Object(r.createTextVNode)(" ( "),Object(r.createVNode)("a",{href:"https://github.com/Planning-nl/vugel-example",target:"_blank"},"View source code on Github"),Object(r.createTextVNode)(" ) ")],-1);var ke=n(33);const Ue={"func-w":"w","func-h":"h"};const Be={x:10,y:10,color:4294967295,"font-size":60,"font-weight":900,"font-style":"italic","font-face":"Serif","margin-bottom":20};var Ne={render:function(e,t){return Object(r.openBlock)(),Object(r.createBlock)("text",Be," basic text rendering ")}},De=Ne;const We={h:20,"flex-grow":1,"min-width":80,flex:!0},Ve={ref:"dragTarget"},He=Object(r.createVNode)("styled-rectangle",{radius:4,"stroke-width":4,"stroke-color":4278190080,y:0,h:20,x:-5,w:10,"fill-color":4294967295},null,-1);var Xe=n(1),Ge={props:{initialValue:{type:Number,default:0},min:{type:Number,default:0},max:{type:Number,default:1},suffix:{type:String,default:""},digits:{type:Number,default:2},background:{type:Number,default:4292730367},foreground:{type:Number,default:4278190080}},setup(e,t){const n=Object(Xe.p)(null),s=Object(Xe.p)(null),i=Object(Xe.l)(-1);let o=null;const a=e=>{const t=n.value.getLocalOffset(e.canvasOffsetX,e.canvasOffsetY),s=n.value.el.renderWidth,r=Math.min(s,Math.max(0,t[0]));i.value=r/s},c=()=>{s.value.x=i.value*(n.value.el.renderWidth-10)+5};Object(r.watch)([i,n],c);Object(r.watch)(i,n=>{const s=(t=>e.min+(e.max-e.min)*t)(i.value);t.emit("change",{value:s})});const l=Object(r.computed)(()=>{return t=i.value,(e.min+(e.max-e.min)*t).toFixed(e.digits)+e.suffix;var t});i.value=(t=>Math.max(0,Math.min(1,(t-e.min)/(e.max-e.min))))(e.initialValue||0);const u=Object(Xe.l)(1);return{containerScale:u,start:e=>{s.value&&(o=e),u.value=100,a(e)},move:e=>{o&&a(e)},end:e=>{o=null,u.value=1},bar:n,dragTarget:s,value:i,formattedValue:l,updateValue:c}},render:function(e,t){return Object(r.openBlock)(),Object(r.createBlock)("container",We,[Object(r.createVNode)("container",{"flex-item":!1,"func-w":"w","func-h":"h",scale:e.containerScale,"z-index":e.containerScale,onMousedown:t[1]||(t[1]=t=>e.start(t)),onMousemove:t[2]||(t[2]=t=>e.move(t)),onMouseup:t[3]||(t[3]=t=>e.end(t)),onMouseout:t[4]||(t[4]=t=>e.end(t))},null,40,["scale","z-index"]),Object(r.createVNode)("styled-rectangle",{ref:"bar",radius:4,"stroke-width":4,"flex-grow":1,"fill-color":e.background,"stroke-color":4278190080,"pointer-events":!1,onResize:t[5]||(t[5]=t=>e.updateValue(t))},[Object(r.createVNode)("text",{"func-x":"w/2","func-y":"h/2+1",mount:.5,"font-face":"monospace","font-size":14,color:e.foreground},Object(s.G)(e.formattedValue),9,["color"]),Object(r.createVNode)("container",Ve,[He],512)],40,["fill-color"])])}},Ye=Ge;const $e={"func-w":"w",flex:!0,"flex-align-items":"flex-start"},qe={"flex-grow":1,w:400,"min-height":750},Ze={flex:!0,w:300,"flex-grow":.5,padding:10,"flex-direction":"column",color:4009754623};var Qe={props:{description:{type:String,default:""}},render:function(e,t){return Object(r.openBlock)(),Object(r.createBlock)("container",$e,[Object(r.createVNode)("container",qe,[Object(r.renderSlot)(e.$slots,"content")]),Object(r.createVNode)("rectangle",Ze,[Object(r.renderSlot)(e.$slots,"form-items")])])}},Ke=Qe;const Je={flex:!0,"flex-direction":"column",padding:5},et={color:4278190080,"font-size":18,"font-face":"monospace"},tt={flex:!0,"flex-grow":1,"margin-top":5};var nt={props:{name:{type:String,default:""},type:{type:String,default:""},config:{type:Object,default:()=>({})}},setup:e=>({}),render:function(e,t){return Object(r.openBlock)(),Object(r.createBlock)("container",Je,[Object(r.createVNode)("text",et,Object(s.G)(e.name),1),Object(r.createVNode)("container",tt,[Object(r.renderSlot)(e.$slots,"default")])])}},st=nt;const rt=e=>{const t={};return e.forEach(e=>{const n=Object(Xe.l)(0);t[e]=n,t["set_"+e]=(e=>t=>{e.value=t.value})(n)}),t};var it={components:{DragBar:Ye,Editor:Ke,item:st},setup:()=>Object.assign({},rt(["x","y","mountx","mounty","w","h"])),render:function(e,t){const n=Object(r.resolveComponent)("drag-bar"),s=Object(r.resolveComponent)("item"),i=Object(r.resolveComponent)("editor");return Object(r.openBlock)(),Object(r.createBlock)(i,null,{content:Object(r.withCtx)(()=>[Object(r.createVNode)("picture",{src:"./assets/rotterdam.jpg","mount-x":e.mountx,"mount-y":e.mounty,x:e.x,y:e.y,w:e.w,h:e.h},null,8,["mount-x","mount-y","x","y","w","h"])]),"form-items":Object(r.withCtx)(()=>[Object(r.createVNode)(s,{name:"x"},{default:Object(r.withCtx)(()=>[Object(r.createVNode)(n,{max:800,suffix:"px",onChange:t[1]||(t[1]=t=>e.set_x(t))})]),_:1}),Object(r.createVNode)(s,{name:"y"},{default:Object(r.withCtx)(()=>[Object(r.createVNode)(n,{max:800,suffix:"px",onChange:t[2]||(t[2]=t=>e.set_y(t))})]),_:1}),Object(r.createVNode)(s,{name:"w"},{default:Object(r.withCtx)(()=>[Object(r.createVNode)(n,{max:800,suffix:"px",onChange:t[3]||(t[3]=t=>e.set_w(t))})]),_:1}),Object(r.createVNode)(s,{name:"h"},{default:Object(r.withCtx)(()=>[Object(r.createVNode)(n,{max:800,suffix:"px",onChange:t[4]||(t[4]=t=>e.set_h(t))})]),_:1}),Object(r.createVNode)(s,{name:"mount-x"},{default:Object(r.withCtx)(()=>[Object(r.createVNode)(n,{suffix:"px",onChange:t[5]||(t[5]=t=>e.set_mountx(t))})]),_:1}),Object(r.createVNode)(s,{name:"mount-y"},{default:Object(r.withCtx)(()=>[Object(r.createVNode)(n,{suffix:"px",onChange:t[6]||(t[6]=t=>e.set_mounty(t))})]),_:1})]),_:1})}},ot=it;var at={components:{Editor:Ke,item:st,DragBar:Ye},setup:()=>Object.assign({},rt(["x","y","scalex","scaley","pivotx","pivoty","rotation"])),render:function(e,t){const n=Object(r.resolveComponent)("drag-bar"),s=Object(r.resolveComponent)("item"),i=Object(r.resolveComponent)("editor");return Object(r.openBlock)(),Object(r.createBlock)(i,null,{content:Object(r.withCtx)(()=>[Object(r.createVNode)("picture",{src:"./assets/rotterdam.jpg","scale-x":e.scalex,"scale-y":e.scaley,"pivot-x":e.pivotx,"pivot-y":e.pivoty,x:e.x,y:e.y,rotation:e.rotation},null,8,["scale-x","scale-y","pivot-x","pivot-y","x","y","rotation"])]),"form-items":Object(r.withCtx)(()=>[Object(r.createVNode)(s,{name:"x"},{default:Object(r.withCtx)(()=>[Object(r.createVNode)(n,{max:800,suffix:"px",onChange:t[1]||(t[1]=t=>e.set_x(t))})]),_:1}),Object(r.createVNode)(s,{name:"y"},{default:Object(r.withCtx)(()=>[Object(r.createVNode)(n,{max:800,suffix:"px",onChange:t[2]||(t[2]=t=>e.set_y(t))})]),_:1}),Object(r.createVNode)(s,{name:"scalex"},{default:Object(r.withCtx)(()=>[Object(r.createVNode)(n,{"initial-value":1,max:4,onChange:t[3]||(t[3]=t=>e.set_scalex(t))})]),_:1}),Object(r.createVNode)(s,{name:"scaley"},{default:Object(r.withCtx)(()=>[Object(r.createVNode)(n,{"initial-value":1,max:4,onChange:t[4]||(t[4]=t=>e.set_scaley(t))})]),_:1}),Object(r.createVNode)(s,{name:"pivotx"},{default:Object(r.withCtx)(()=>[Object(r.createVNode)(n,{"initial-value":.5,onChange:t[5]||(t[5]=t=>e.set_pivotx(t))})]),_:1}),Object(r.createVNode)(s,{name:"pivoty"},{default:Object(r.withCtx)(()=>[Object(r.createVNode)(n,{"initial-value":.5,onChange:t[6]||(t[6]=t=>e.set_pivoty(t))})]),_:1}),Object(r.createVNode)(s,{name:"rotation"},{default:Object(r.withCtx)(()=>[Object(r.createVNode)(n,{max:2*Math.PI,suffix:"rad",onChange:t[7]||(t[7]=t=>e.set_rotation(t))})]),_:1})]),_:1})}},ct=at;const lt={ref:"dragTarget",src:"./assets/rotterdam.jpg",x:-100,y:-100},ut=Object(r.createVNode)("text",{x:100,y:420,color:4294967295,"font-size":14,"pointer-events":!1},"drag and drop the logo to test clipping",-1);const ht={w:40,h:20};var dt={props:{initialValue:{type:Boolean,default:!1}},setup(e,t){const n=Object(Xe.l)(!1);Object(r.watch)(n,e=>{t.emit("change",{value:n.value})}),n.value=e.initialValue;const s=Object(r.computed)(()=>n.value?30:10);return{value:n,click:e=>{n.value=!n.value},circleX:s}},render:function(e,t){return Object(r.openBlock)(),Object(r.createBlock)("container",ht,[Object(r.createVNode)("styled-rectangle",{w:40,h:20,radius:10,"stroke-width":4,"flex-grow":1,"fill-color":e.value?4289396650:4294945450,"stroke-color":4278190080,onClick:t[1]||(t[1]=t=>e.click(t))},[Object(r.createVNode)("styled-rectangle",{radius:10,x:e.circleX,w:20,h:20,"mount-x":.5,"stroke-width":4,"flex-grow":1,"fill-color":4294967295,"stroke-color":4278190080},null,8,["x"])],8,["fill-color"])])}},ft=dt,pt={components:{Editor:Ke,Toggle:ft,item:st},setup(){const e=Object(Xe.l)(null);let t=null,n=0,s=0;return Object.assign({start:r=>{e.value&&(t=r,n=e.value.el.x,s=e.value.el.y)},move:r=>{if(t){const i=r.canvasOffsetX-t.canvasOffsetX,o=r.canvasOffsetY-t.canvasOffsetY;e.value.x=n+i,e.value.y=s+o,r.originalEvent.preventDefault()}},end:e=>{t=null},dragTarget:e},rt(["clipping"]))},render:function(e,t){const n=Object(r.resolveComponent)("toggle"),s=Object(r.resolveComponent)("item"),i=Object(r.resolveComponent)("editor");return Object(r.openBlock)(),Object(r.createBlock)(i,null,{content:Object(r.withCtx)(()=>[Object(r.createVNode)("container",{"func-w":"w","func-h":"h",onMousedown:t[1]||(t[1]=t=>e.start(t)),onMousemove:t[2]||(t[2]=t=>e.move(t)),onMouseup:t[3]||(t[3]=t=>e.end(t)),onMouseleave:t[4]||(t[4]=t=>e.end(t))},[Object(r.createVNode)("rectangle",{x:100,y:100,w:300,h:300,color:4294967295,clipping:e.clipping},[Object(r.createVNode)("picture",lt,null,512)],8,["clipping"]),ut],32)]),"form-items":Object(r.withCtx)(()=>[Object(r.createVNode)(s,{name:"clipping"},{default:Object(r.withCtx)(()=>[Object(r.createVNode)(n,{"initial-value":!0,onChange:t[5]||(t[5]=t=>e.set_clipping(t))})]),_:1})]),_:1})}},gt=pt;var _t={components:{DragBar:Ye,Toggle:ft,Editor:Ke,item:st},setup:()=>Object.assign({},rt(["alpha","visible"])),render:function(e,t){const n=Object(r.resolveComponent)("toggle"),s=Object(r.resolveComponent)("item"),i=Object(r.resolveComponent)("drag-bar"),o=Object(r.resolveComponent)("editor");return Object(r.openBlock)(),Object(r.createBlock)(o,null,{content:Object(r.withCtx)(()=>[Object(r.createVNode)("container",null,[Object(r.createVNode)("picture",{src:"./assets/rotterdam.jpg",alpha:e.alpha,visible:e.visible},null,8,["alpha","visible"])])]),"form-items":Object(r.withCtx)(()=>[Object(r.createVNode)(s,{name:"visible"},{default:Object(r.withCtx)(()=>[Object(r.createVNode)(n,{"initial-value":!0,onChange:t[1]||(t[1]=t=>e.set_visible(t))})]),_:1}),Object(r.createVNode)(s,{name:"alpha"},{default:Object(r.withCtx)(()=>[Object(r.createVNode)(i,{"initial-value":1,onChange:t[2]||(t[2]=t=>e.set_alpha(t))})]),_:1})]),_:1})}},xt=_t;const mt=Object(r.createVNode)("rectangle",{"func-w":"w",h:500,color:4278190080},[Object(r.createCommentVNode)(" calc functions for width and height "),Object(r.createVNode)("rectangle",{"func-w":"w","func-h":"h","color-left":4294901760,"color-right":4278190335}),Object(r.createCommentVNode)(" use mount to position an element relative to its size (can be used for centering with unknown width) "),Object(r.createVNode)("text",{"func-x":"w/2","func-y":"h/2","mount-x":.5,"mount-y":.5},"Centered"),Object(r.createVNode)("text",{x:0,y:0,"mount-x":0,"mount-y":0},"Top left"),Object(r.createVNode)("text",{"func-x":"w","func-y":"h","mount-x":1,"mount-y":1},"Bottom right")],-1);var vt={render:function(e,t){return Object(r.openBlock)(),Object(r.createBlock)(r.Fragment,null,[Object(r.createCommentVNode)("full width/height using relative functions "),mt],64)}},bt=vt;const yt={x:10,y:10,src:"./assets/rotterdam.jpg"};var Ct={render:function(e,t){return Object(r.openBlock)(),Object(r.createBlock)("picture",yt)}},Tt=Ct;const St={h:400,x:10,y:10,"func-w":"w-20",color:"rgb(0, 255, 0)"};var Ot={render:function(e,t){return Object(r.openBlock)(),Object(r.createBlock)("rectangle",St)}},wt=Ot;const jt=Object(r.createVNode)("text",{"font-size":"50"},"contents..",-1);const Et={flex:!0,"flex-grow":1,"flex-direction":"column"};var At=n(4),Rt={components:{DragBar:Ye},props:{initialValue:{type:Number,default:0}},setup:function(e,t){const n=Object(Xe.l)(-1),s=Object(Xe.l)(-1),i=Object(Xe.l)(-1),o=Object(Xe.l)(-1),a=At.ColorUtils.getRgbaComponentsNormalized(e.initialValue);Object(r.watch)([n,s,i,o],e=>{const r=At.ColorUtils.getArgbNumber([255*n.value,255*s.value,255*i.value,255*o.value]);t.emit("change",{value:r})});const c=Object(r.computed)(()=>At.ColorUtils.getArgbNumber([255*n.value,0,0,255])),l=Object(r.computed)(()=>At.ColorUtils.getArgbNumber([0,255*s.value,0,255])),u=Object(r.computed)(()=>At.ColorUtils.getArgbNumber([0,0,255*i.value,255])),h=Object(r.computed)(()=>At.ColorUtils.getArgbNumber([255*o.value,255*o.value,255*o.value,255])),d=Object(r.computed)(()=>o.value>.5?4278190080:4294967295);return{red:n,green:s,blue:i,alpha:o,initialComponents:a,updateRed:e=>{n.value=e.value},updateGreen:e=>{s.value=e.value},updateBlue:e=>{i.value=e.value},updateAlpha:e=>{o.value=e.value},redBackground:c,greenBackground:l,blueBackground:u,alphaBackground:h,alphaForeground:d}},render:function(e,t){const n=Object(r.resolveComponent)("drag-bar");return Object(r.openBlock)(),Object(r.createBlock)("container",Et,[Object(r.createVNode)(n,{"initial-value":e.initialComponents[0],"margin-bottom":10,background:e.redBackground,foreground:4294967295,onChange:t[1]||(t[1]=t=>e.updateRed(t))},null,8,["initial-value","background"]),Object(r.createVNode)(n,{"initial-value":e.initialComponents[1],"margin-bottom":10,background:e.greenBackground,foreground:4294967295,onChange:t[2]||(t[2]=t=>e.updateGreen(t))},null,8,["initial-value","background"]),Object(r.createVNode)(n,{"initial-value":e.initialComponents[2],"margin-bottom":10,background:e.blueBackground,foreground:4294967295,onChange:t[3]||(t[3]=t=>e.updateBlue(t))},null,8,["initial-value","background"]),Object(r.createVNode)(n,{"margin-bottom":10,"initial-value":e.initialComponents[3],background:e.alphaBackground,foreground:e.alphaForeground,onChange:t[4]||(t[4]=t=>e.updateAlpha(t))},null,8,["initial-value","background","foreground"])])}},Lt={components:{ColorDragBar:Rt,DragBar:Ye,Toggle:ft,Editor:Ke,item:st},setup:()=>Object.assign({},rt(["radius","fill","fillColor","strokeWidth","strokeColor","shadowBlur","shadowColor"])),render:function(e,t){const n=Object(r.resolveComponent)("toggle"),s=Object(r.resolveComponent)("item"),i=Object(r.resolveComponent)("color-drag-bar"),o=Object(r.resolveComponent)("drag-bar"),a=Object(r.resolveComponent)("editor");return Object(r.openBlock)(),Object(r.createBlock)(a,null,{content:Object(r.withCtx)(()=>[Object(r.createVNode)("styled-rectangle",{x:20,y:20,radius:e.radius,"stroke-width":e.strokeWidth,"stroke-color":e.strokeColor,fill:e.fill,"fill-color":e.fillColor,"shadow-blur":e.shadowBlur,"shadow-color":e.shadowColor,flex:!0,padding:80},[jt],8,["radius","stroke-width","stroke-color","fill","fill-color","shadow-blur","shadow-color"])]),"form-items":Object(r.withCtx)(()=>[Object(r.createVNode)(s,{name:"fill"},{default:Object(r.withCtx)(()=>[Object(r.createVNode)(n,{"initial-value":!0,onChange:t[1]||(t[1]=t=>e.set_fill(t))})]),_:1}),Object(r.createVNode)(s,{name:"fill-color",visible:e.fill},{default:Object(r.withCtx)(()=>[Object(r.createVNode)(i,{"initial-value":4294902015,onChange:t[2]||(t[2]=t=>e.set_fillColor(t))})]),_:1},8,["visible"]),Object(r.createVNode)(s,{name:"radius"},{default:Object(r.withCtx)(()=>[Object(r.createVNode)(o,{"initial-value":10,min:0,max:80,suffix:"px",onChange:t[3]||(t[3]=t=>e.set_radius(t))})]),_:1}),Object(r.createVNode)(s,{name:"stroke-width"},{default:Object(r.withCtx)(()=>[Object(r.createVNode)(o,{"initial-value":4,min:0,max:60,suffix:"px",onChange:t[4]||(t[4]=t=>e.set_strokeWidth(t))})]),_:1}),Object(r.createVNode)(s,{name:"stroke-color"},{default:Object(r.withCtx)(()=>[Object(r.createVNode)(i,{"initial-value":4294967295,onChange:t[5]||(t[5]=t=>e.set_strokeColor(t))})]),_:1}),Object(r.createVNode)(s,{name:"shadow-blur"},{default:Object(r.withCtx)(()=>[Object(r.createVNode)(o,{"initial-value":10,min:0,max:50,suffix:"px",onChange:t[6]||(t[6]=t=>e.set_shadowBlur(t))})]),_:1}),Object(r.createVNode)(s,{name:"shadow-color"},{default:Object(r.withCtx)(()=>[Object(r.createVNode)(i,{"initial-value":4294967295,onChange:t[7]||(t[7]=t=>e.set_shadowColor(t))})]),_:1})]),_:1})}},Mt=Lt;var Pt={components:{ColorDragBar:Rt,Editor:Ke,item:st},setup:()=>Object.assign({},rt(["colorLeft","colorRight"])),render:function(e,t){const n=Object(r.resolveComponent)("color-drag-bar"),s=Object(r.resolveComponent)("item"),i=Object(r.resolveComponent)("editor");return Object(r.openBlock)(),Object(r.createBlock)(i,null,{content:Object(r.withCtx)(()=>[Object(r.createVNode)("rectangle",{h:100,x:20,y:20,"func-w":"w-40","color-left":e.colorLeft,"color-right":e.colorRight,"margin-bottom":20},null,8,["color-left","color-right"]),Object(r.createVNode)("picture",{x:20,y:140,"color-left":e.colorLeft,"color-right":e.colorRight,src:"./assets/rotterdam.jpg"},null,8,["color-left","color-right"])]),"form-items":Object(r.withCtx)(()=>[Object(r.createVNode)(s,{name:"color-left"},{default:Object(r.withCtx)(()=>[Object(r.createVNode)(n,{"initial-value":4294902015,onChange:t[1]||(t[1]=t=>e.set_colorLeft(t))})]),_:1}),Object(r.createVNode)(s,{name:"color-right"},{default:Object(r.withCtx)(()=>[Object(r.createVNode)(n,{"initial-value":4278255615,onChange:t[2]||(t[2]=t=>e.set_colorRight(t))})]),_:1})]),_:1})}},zt=Pt;const Ft={x:20,y:20,"func-w":"w-40","func-h":"h-40","font-size":40,"font-color":"red"};var It={render:function(e,t){return Object(r.openBlock)(),Object(r.createBlock)("paragraph",Ft," The paragraph has the ability to wrap text. Drag the width of the window to see it in action. ")}},kt=It;var Ut={components:{DragBar:Ye,Editor:Ke,item:st},setup(){const e=rt(["gradient","w","h"]),t=Object(Xe.l)(null);return Object(r.watch)(e.gradient,()=>{t.value&&t.value.update()}),Object.assign({drawing:t,draw(t){const n=t.context;n.beginPath();const s=new Path2D;s.rect(0,0,t.w,t.h);const r=n.createLinearGradient(0,0,e.gradient.value,0);return r.addColorStop(0,"magenta"),r.addColorStop(.5,"blue"),r.addColorStop(1,"red"),n.strokeStyle=r,n.lineWidth=20,n.stroke(s),{}}},e)},render:function(e,t){const n=Object(r.resolveComponent)("drag-bar"),s=Object(r.resolveComponent)("item"),i=Object(r.resolveComponent)("editor");return Object(r.openBlock)(),Object(r.createBlock)(i,null,{content:Object(r.withCtx)(()=>[Object(r.createVNode)("drawing",{ref:"drawing",w:e.w,h:e.h,onDraw:t[1]||(t[1]=t=>e.draw(t))},null,40,["w","h"])]),"form-items":Object(r.withCtx)(()=>[Object(r.createVNode)(s,{name:"w"},{default:Object(r.withCtx)(()=>[Object(r.createVNode)(n,{"initial-value":100,max:600,suffix:"px",onChange:t[2]||(t[2]=t=>e.set_w(t))})]),_:1}),Object(r.createVNode)(s,{name:"h"},{default:Object(r.withCtx)(()=>[Object(r.createVNode)(n,{"initial-value":100,max:600,suffix:"px",onChange:t[3]||(t[3]=t=>e.set_h(t))})]),_:1}),Object(r.createVNode)(s,{name:"x"},{default:Object(r.withCtx)(()=>[Object(r.createVNode)(n,{"initial-value":170,max:300,suffix:"px",onChange:t[4]||(t[4]=t=>e.set_gradient(t))})]),_:1})]),_:1})}},Bt=Ut;class Nt{constructor(){this.id=0,this.x=0,this.y=0,this.vx=0,this.vy=0,this.color=0}}var Dt={components:{DragBar:Ye,Editor:Ke,item:st},setup(){const e=Object(Xe.l)(0),t=Object(Xe.p)([]),n=Object(Xe.p)(null),s=()=>{var i;const o=Math.floor(e.value);if(n.value){if((null===(i=n.value)||void 0===i?void 0:i.getChildren().length)!==o){const e=[],s=n.value.el.renderWidth,r=n.value.el.renderHeight;for(let t=0;t<o;t++){const n=new Nt;n.id=t,n.x=Math.random()*s,n.y=Math.random()*r,n.vx=Math.random(),n.vy=Math.random(),n.color=At.ColorUtils.getArgbNumber([255*Math.random(),255*Math.random(),255*Math.random(),255]),e.push(n)}t.value=e}const e=t.value;e.forEach(e=>{const t=r.value[0]-e.x,n=r.value[1]-e.y,s=.1*(t*t+n*n)+100;e.vx=.995*e.vx+t/s,e.vy=.995*e.vy+n/s,e.x+=e.vx,e.y+=e.vy}),t.value=[],t.value=e}requestAnimationFrame(s)};s();const r=Object(Xe.p)([0,0]);return{mousemove(e){const t=e.currentTarget.getLocalOffset(e.canvasOffsetX,e.canvasOffsetY);r.value[0]=t[0],r.value[1]=t[1]},changeAmount(t){e.value=t.value},amount:e,items:t,container:n}},render:function(e,t){const n=Object(r.resolveComponent)("drag-bar"),s=Object(r.resolveComponent)("item"),i=Object(r.resolveComponent)("editor");return Object(r.openBlock)(),Object(r.createBlock)(i,null,{content:Object(r.withCtx)(()=>[Object(r.createVNode)("container",{ref:"container","func-w":"w","func-h":"h",onMousemove:t[1]||(t[1]=t=>e.mousemove(t))},[(Object(r.openBlock)(!0),Object(r.createBlock)(r.Fragment,null,Object(r.renderList)(e.items,e=>(Object(r.openBlock)(),Object(r.createBlock)("rectangle",{key:e.id,x:e.x,y:e.y,w:10,h:10,mount:.5,color:e.color},null,8,["x","y","color"]))),128))],544)]),"form-items":Object(r.withCtx)(()=>[Object(r.createVNode)(s,{name:"amount"},{default:Object(r.withCtx)(()=>[Object(r.createVNode)(n,{"initial-value":1e3,max:2e4,onChange:t[2]||(t[2]=t=>e.changeAmount(t))})]),_:1})]),_:1})}},Wt={components:{PictureExample:Tt,RectangleExample:wt,TextExample:De,StyledRectangleExample:Mt,DrawingExample:Bt,PositionExample:ot,CenterExample:bt,TransformsExample:ct,VisibilityExample:xt,TintingExample:zt,ClippingExample:gt,ParagraphExample:kt,ParticlesExample:Dt},props:{selected:{type:String,default:""}},setup:e=>({check:t=>e.selected===t}),render:function(e,t){const n=Object(r.resolveComponent)("picture-example"),s=Object(r.resolveComponent)("rectangle-example"),i=Object(r.resolveComponent)("text-example"),o=Object(r.resolveComponent)("styled-rectangle-example"),a=Object(r.resolveComponent)("drawing-example"),c=Object(r.resolveComponent)("position-example"),l=Object(r.resolveComponent)("center-example"),u=Object(r.resolveComponent)("transforms-example"),h=Object(r.resolveComponent)("visibility-example"),d=Object(r.resolveComponent)("tinting-example"),f=Object(r.resolveComponent)("clipping-example"),p=Object(r.resolveComponent)("paragraph-example"),g=Object(r.resolveComponent)("particles-example");return Object(r.openBlock)(),Object(r.createBlock)("container",Ue,[e.check("picture")?Object(r.createVNode)(n,{key:0}):Object(r.createCommentVNode)("v-if",!0),e.check("rectangle")?Object(r.createVNode)(s,{key:0}):Object(r.createCommentVNode)("v-if",!0),e.check("text")?Object(r.createVNode)(i,{key:0}):Object(r.createCommentVNode)("v-if",!0),e.check("styled-rectangle")?Object(r.createVNode)(o,{key:0}):Object(r.createCommentVNode)("v-if",!0),e.check("drawing")?Object(r.createVNode)(a,{key:0}):Object(r.createCommentVNode)("v-if",!0),e.check("position")?Object(r.createVNode)(c,{key:0}):Object(r.createCommentVNode)("v-if",!0),e.check("center")?Object(r.createVNode)(l,{key:0}):Object(r.createCommentVNode)("v-if",!0),e.check("transforms")?Object(r.createVNode)(u,{key:0}):Object(r.createCommentVNode)("v-if",!0),e.check("visibility")?Object(r.createVNode)(h,{key:0}):Object(r.createCommentVNode)("v-if",!0),e.check("tinting")?Object(r.createVNode)(d,{key:0}):Object(r.createCommentVNode)("v-if",!0),e.check("clipping")?Object(r.createVNode)(f,{key:0}):Object(r.createCommentVNode)("v-if",!0),e.check("paragraph")?Object(r.createVNode)(p,{key:0}):Object(r.createCommentVNode)("v-if",!0),e.check("particles")?Object(r.createVNode)(g,{key:0}):Object(r.createCommentVNode)("v-if",!0)])}},Vt=Wt,Ht={components:{Vugel:ke.Vugel,Examples:Vt},setup(){const e=Object(Xe.l)([{name:"picture",text:"Picture"},{name:"rectangle",text:"Rectangle"},{name:"text",text:"Text"},{name:"styled-rectangle",text:"Styled rectangle"},{name:"drawing",text:"Drawing"},{name:"position",text:"Position and size"},{name:"center",text:"Center"},{name:"transforms",text:"Transforms"},{name:"visibility",text:"Visibility"},{name:"tinting",text:"Tinting"},{name:"clipping",text:"Clipping"},{name:"paragraph",text:"Paragraph"},{name:"particles",text:"Particles"}]),t=Object(Xe.l)("picture"),n=Object(r.computed)(()=>e.value.find(e=>e.name===t.value)||{name:"",text:""});return{examples:e,example:t,check:e=>t.value===e,exampleObject:n}},render:function(e,t){const n=Object(r.resolveComponent)("examples"),i=Object(r.resolveComponent)("vugel");return Object(r.openBlock)(),Object(r.createBlock)("div",null,[Object(r.createVNode)("div",ze,[Object(r.createVNode)("div",Fe,[Ie,Object(r.withDirectives)(Object(r.createVNode)("select",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.example=t),style:{"margin-left":"50px"}},[(Object(r.openBlock)(!0),Object(r.createBlock)(r.Fragment,null,Object(r.renderList)(e.examples,e=>(Object(r.openBlock)(),Object(r.createBlock)("option",{value:e.name},Object(s.G)(e.text),9,["value"]))),256))],512),[[O,e.example]])]),Object(r.createVNode)(i,{settings:{clearColor:"#000000"},style:{"flex-grow":"1",position:"relative"}},{default:Object(r.withCtx)(()=>[Object(r.createCommentVNode)(" notice that you must always use a single component tag (without v-if) here! "),Object(r.createCommentVNode)(" otherwise you'll run into trouble as we are mixin compilers at this level "),Object(r.createVNode)(n,{selected:e.example},null,8,["selected"])]),_:1})])])}};((...e)=>{const t=Me().createApp(...e);const{mount:n}=t;return t.mount=e=>{const r=Pe(e);if(!r)return;const i=t._component;Object(s.p)(i)||i.render||i.template||(i.template=r.innerHTML),r.innerHTML="";const o=n(r);return r.removeAttribute("v-cloak"),o},t})(Ht).mount("#app")}]);
//# sourceMappingURL=main.js.map